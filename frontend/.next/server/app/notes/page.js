(()=>{var e={};e.id=151,e.ids=[151],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},54270:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(90524),r(43538),r(12523);var s=r(23191),a=r(88716),l=r(37922),o=r.n(l),n=r(95231),i={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>n[e]);r.d(t,i);let c=["",{children:["notes",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,90524)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\notes\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,43538)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\not-found.tsx"]}],d=["D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\notes\\page.tsx"],x="/notes/page",m={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/notes/page",pathname:"/notes",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},73959:(e,t,r)=>{Promise.resolve().then(r.bind(r,24472))},48998:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},28932:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]])},81466:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]])},40765:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},24472:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>v});var s=r(10326),a=r(55795),l=r(88307),o=r(94019),n=r(28932),i=r(40765),c=r(81466),d=r(48998),x=r(17577),m=r(35047);r(67905);var p=r(51223),u=r(93258),g=r(86502);let h=(0,p.bR)(),b=e=>{let t=new Date(e),r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}-${s}-${a} ${l}:${o}`},y=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",f=e=>{if(!e)return"";let t=e;return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,"")).replace(/!\[([^\]]*)\]\[([^\]]+)\]/g,"")).replace(/!\[([^\]]+)\]/g,"")).replace(/!\s*\[/g,"")).replace(/```[\s\S]*?```/g,"")).replace(/`([^`]+)`/g,"$1")).replace(/`/g,"")).replace(/^#{1,6}\s+/gm,"")).replace(/\*\*([^\*]+)\*\*/g,"$1")).replace(/__([^_]+)__/g,"$1")).replace(/\*([^\*]+)\*/g,"$1")).replace(/_([^_]+)_/g,"$1")).replace(/~~([^~]+)~~/g,"$1")).replace(/^[\s]*[-*+]\s+/gm,"")).replace(/^[\s]*\d+\.\s+/gm,"")).replace(/^>\s+/gm,"")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1")).replace(/\|.*\|/g,"")).replace(/^\s*[-*_]{3,}\s*$/gm,"")).replace(/\s+/g," ").replace(/\n{3,}/g,"\n\n").replace(/\n\s*\n/g,"\n\n").trim()};function v(){let e=(0,m.useRouter)();(0,m.useSearchParams)();let[t,r]=(0,x.useState)([]),[p,v]=(0,x.useState)([]),[j,w]=(0,x.useState)([]),[N,k]=(0,x.useState)("all"),[C,S]=(0,x.useState)("all"),[_,$]=(0,x.useState)(!1),[Z,q]=(0,x.useState)(""),[P,T]=(0,x.useState)(1),[M,D]=(0,x.useState)(1),L={themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,noteLayoutColumns:"1",showNoteCover:"true",defaultNoteCover:"",avatarShape:"circle",noteDisplayMode:"modal",showTopNavbar:"true",showWapSidebar:"true"},[A,E]=(0,x.useState)(L),H=t=>{e.push(`/note/${t}`)},W=t.filter(e=>{if(!Z.trim())return!0;let t=Z.toLowerCase(),r=e.title?.toLowerCase().includes(t),s=f(e.content).toLowerCase().includes(t),a=e.category?.toLowerCase().includes(t),l=e.Tags?.some(e=>e.name.toLowerCase().includes(t))||e.tags?.toLowerCase().includes(t);return r||s||a||l}),z=new Map(p.map(e=>[e.name,e])),F=A?.themeType==="blog",X=A?.showTopNavbar!=="false",G=A?.showWapSidebar!=="false",U=Z.trim()&&W.length>0,R=Z.trim()&&0===W.length;return(0,s.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col",children:[F?s.jsx(u.Z,{showWapSidebar:G}):X?s.jsx(u.Z,{showWapSidebar:G}):null,(0,s.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(F||X)&&s.jsx("div",{className:"h-16"}),(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"全部笔记"}),s.jsx("p",{className:"text-text-secondary",children:"探索所有已发布的笔记内容"})]}),s.jsx("div",{className:"mb-6",children:s.jsx("form",{onSubmit:e=>{e.preventDefault()},children:(0,s.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx(l.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-tertiary"}),s.jsx("input",{type:"text",placeholder:"搜索笔记...",value:Z,onChange:e=>q(e.target.value),className:"w-full pl-12 pr-12 py-3 bg-bg-secondary border border-border-primary rounded-xl text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off"}),Z&&s.jsx("button",{type:"button",onClick:()=>{q("")},className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary transition-colors","aria-label":"清空搜索",children:s.jsx(o.Z,{className:"w-5 h-5"})})]})})}),U&&s.jsx("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-xl border border-blue-200 dark:border-blue-800 max-w-2xl mx-auto",children:s.jsx("div",{className:"flex items-center justify-center gap-2",children:(0,s.jsxs)("span",{className:"text-sm text-blue-700 dark:text-blue-300",children:["搜索结果: 找到 ",W.length," 条相关笔记",(0,s.jsxs)("span",{className:"font-medium ml-1",children:['"',Z,'"']})]})})}),R&&s.jsx("div",{className:"mb-6 p-4 bg-bg-tertiary rounded-xl border border-border-primary text-center max-w-2xl mx-auto",children:(0,s.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',Z,'" 的笔记']})}),(0,s.jsxs)("div",{className:"mb-8 space-y-4",children:[p.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-text-secondary mb-3 flex items-center gap-2",children:[s.jsx(n.Z,{className:"w-4 h-4"}),"按分类筛选"]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{k("all"),T(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"all"===N?"bg-primary-500 text-white shadow-md":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border border-border-primary"}`,children:"全部"}),p.map(e=>(0,s.jsxs)("button",{onClick:()=>{k(e.name),T(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${N===e.name?"bg-primary-500 text-white shadow-md":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border border-border-primary"}`,children:[e.icon&&s.jsx("span",{className:"mr-1.5",children:e.icon}),e.name]},e.id||e.name))]})]}),j.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-sm font-medium text-text-secondary mb-3 flex items-center gap-2",children:[s.jsx(i.Z,{className:"w-4 h-4"}),"按标签筛选"]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[s.jsx("button",{onClick:()=>{S("all"),T(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"all"===C?"bg-primary-500 text-white shadow-md":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border border-border-primary"}`,children:"全部"}),j.slice(0,10).map(e=>s.jsx("button",{onClick:()=>{S(e),T(1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${C===e?"bg-primary-500 text-white shadow-md":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border border-border-primary"}`,children:e},e))]})]})]}),W.length>0?s.jsx("div",{className:`grid gap-4 max-w-7xl mx-auto ${A?.noteLayoutColumns==="1"?"grid-cols-1":A?.noteLayoutColumns==="2"?"grid-cols-1 md:grid-cols-2":A?.noteLayoutColumns==="3"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":A?.noteLayoutColumns==="4"?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1"}`,children:W.map((e,t)=>{let r=e.cover_image||A?.defaultNoteCover,l=A?.showNoteCover==="true"&&r,o=A?.noteLayoutColumns==="1",n=(e.cover_image||A?.defaultNoteCover||"").startsWith("http")?e.cover_image||A?.defaultNoteCover:`${h}${e.cover_image||A?.defaultNoteCover}`;return s.jsx(a.E.div,{onClick:()=>H(e.id),className:`group bg-bg-secondary rounded-xl shadow-sm hover:shadow-xl hover:-translate-y-1 border border-border-primary transition-all duration-300 cursor-pointer ${"1"===A.noteLayoutColumns?"p-4":"p-6"} flex flex-col min-h-[150px]`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},children:o&&l?(0,s.jsxs)("div",{className:"flex gap-3 items-center h-full",children:[s.jsx("div",{className:"flex-shrink-0 w-28 h-28 rounded-lg overflow-hidden bg-bg-tertiary",children:s.jsx("img",{src:n,alt:e.title||"封面图",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-center min-h-[112px] py-1",children:[(0,s.jsxs)("div",{className:"flex items-start gap-2 mb-2",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary group-hover:text-primary-500 transition-colors flex-1 line-clamp-1",children:e.title||"无标题"}),e.is_pinned&&s.jsx("div",{className:"flex items-center px-1.5 py-0.5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded text-xs font-semibold flex-shrink-0",children:s.jsx(c.Z,{className:"w-3 h-3 fill-current"})})]}),s.jsx("p",{className:"text-sm text-text-secondary leading-relaxed line-clamp-2 mb-2",children:e.summary||y(f(e.content),80)}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-text-tertiary",children:[s.jsx(d.Z,{className:"w-3 h-3"}),s.jsx("span",{children:b(e.published_at||e.created_at)})]}),e.category&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded font-medium cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-800/40 transition-colors",onClick:t=>{t.stopPropagation(),k(e.category),T(1)},children:[z.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:z.get(e.category)?.icon}),e.category]}),e.Tags&&e.Tags.length>0&&(0,s.jsxs)(s.Fragment,{children:[e.Tags.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 rounded font-medium cursor-pointer hover:opacity-80 transition-opacity",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),S(e.name),T(1)},children:e.name},e.id)),e.Tags.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 rounded",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},children:["+",e.Tags.length-3]})]})]})]})]}):(0,s.jsxs)(s.Fragment,{children:[!o&&l&&s.jsx("div",{className:"mb-4 -mx-6 -mt-6",children:s.jsx("div",{className:"relative w-full pt-[100%] overflow-hidden rounded-t-xl",children:s.jsx("img",{src:n,alt:e.title||"封面图",className:"absolute inset-0 w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})}),(0,s.jsxs)("div",{className:"flex items-start gap-3 mb-3",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary group-hover:text-primary-500 transition-colors flex-1 line-clamp-2",children:e.title||"无标题"}),e.is_pinned&&(0,s.jsxs)("div",{className:"flex items-center gap-1 px-2 py-1 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded text-xs font-semibold flex-shrink-0",children:[s.jsx(c.Z,{className:"w-3 h-3 fill-current"}),s.jsx("span",{children:"置顶"})]})]}),s.jsx("p",{className:"text-sm text-text-secondary leading-relaxed line-clamp-3 mb-4 flex-1",children:e.summary||y(f(e.content),150)}),(0,s.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-text-tertiary",children:[s.jsx(d.Z,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:b(e.published_at||e.created_at)})]}),e.category&&(0,s.jsxs)("span",{className:"px-2 py-1 bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300 rounded text-xs font-medium cursor-pointer hover:bg-primary-200 dark:hover:bg-primary-800/40 transition-colors",onClick:t=>{t.stopPropagation(),k(e.category),T(1)},children:[z.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:z.get(e.category)?.icon}),e.category]}),e.Tags&&e.Tags.length>0&&(0,s.jsxs)(s.Fragment,{children:[e.Tags.slice(0,3).map(e=>s.jsx("span",{className:"px-2 py-1 rounded text-xs font-medium cursor-pointer hover:opacity-80 transition-opacity",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),S(e.name),T(1)},children:e.name},e.id)),e.Tags.length>3&&(0,s.jsxs)("span",{className:"px-2 py-1 rounded text-xs",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},children:["+",e.Tags.length-3]})]})]}),s.jsx("span",{className:"text-sm text-primary-500 font-medium group-hover:text-primary-600 transition-colors",children:"详情 →"})]})]})},e.id)})}):s.jsx("div",{className:"text-center py-16 text-text-tertiary",children:s.jsx("p",{className:"text-lg",children:"暂无笔记"})}),M>1&&(0,s.jsxs)("div",{className:"flex justify-center gap-2 pt-8 mt-8",children:[s.jsx("button",{onClick:()=>T(e=>Math.max(1,e-1)),disabled:1===P,className:"px-4 py-2 rounded-lg bg-bg-secondary text-text-secondary hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm border border-border-primary",children:"上一页"}),s.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(M,5)},(e,t)=>{let r;let a=(r=M<=5?t+1:P<=3?t+1:P>=M-2?M-4+t:P-2+t)===P;return s.jsx("button",{onClick:()=>T(r),className:"w-10 h-10 rounded-lg transition-all text-sm border "+(a?"bg-primary-500 text-white border-primary-500":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border-border-primary"),children:r},r)})}),s.jsx("button",{onClick:()=>T(e=>Math.min(M,e+1)),disabled:P===M,className:"px-4 py-2 rounded-lg bg-bg-secondary text-text-secondary hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm border border-border-primary",children:"下一页"})]})]}),(0,s.jsxs)("footer",{className:"text-center text-sm relative z-10 mt-12 py-6 border-t border-border-primary/30",children:[s.jsx("div",{className:"text-text-tertiary",dangerouslySetInnerHTML:{__html:A.footerCopyright}}),s.jsx(g.Z,{})]})]})]})}},86502:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326),a=r(17577);function l(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[o,n]=(0,a.useState)(""),[i,c]=(0,a.useState)(!1);return i&&e?(0,s.jsxs)("div",{"data-copyright":"true",className:"text-xs text-gray-500 text-center py-3 select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[e,s.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:r})]}):null}},90524:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`D:\360Downloads\www\tool-new\Xs-blog\frontend\src\app\notes\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[380,804,795,964,258],()=>r(54270));module.exports=s})();