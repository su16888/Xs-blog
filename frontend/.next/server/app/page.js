(()=>{var e={};e.id=931,e.ids=[931],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},78893:e=>{"use strict";e.exports=require("buffer")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},49411:e=>{"use strict";e.exports=require("node:path")},97742:e=>{"use strict";e.exports=require("node:process")},41041:e=>{"use strict";e.exports=require("node:url")},77240:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),r(35480),r(43538),r(12523);var s=r(23191),a=r(88716),l=r(37922),o=r.n(l),i=r(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);r.d(t,n);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,35480)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,43538)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,12523)),"D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\not-found.tsx"]}],d=["D:\\360Downloads\\www\\tool-new\\Xs-blog\\frontend\\src\\app\\page.tsx"],m="/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},18541:(e,t,r)=>{Promise.resolve().then(r.bind(r,66372))},12893:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]])},81466:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(76557).Z)("Pin",[["line",{x1:"12",x2:"12",y1:"17",y2:"22",key:"1jrz49"}],["path",{d:"M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z",key:"13yl11"}]])},66372:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>V});var s=r(10326),a=r(17577),l=r.n(a),o=r(67905),i=r(51223);function n(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)(!0),[o,n]=(0,a.useState)("circle"),[c,d]=(0,a.useState)("white"),m=()=>"rounded"===o?"rounded-xl":"rounded-full",x=()=>"black"===c?"0 0 0 3px rgba(255, 255, 255, 0.15), 0 4px 14px 0 rgba(255, 255, 255, 0.1)":"0 0 0 3px rgba(0, 0, 0, 0.08), 0 4px 14px 0 rgba(0, 0, 0, 0.15)";return r?(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:`w-32 h-32 ${m()} bg-gray-200 animate-pulse mb-4`}),s.jsx("div",{className:"h-8 w-48 bg-gray-200 animate-pulse mb-2"}),s.jsx("div",{className:"h-4 w-64 bg-gray-200 animate-pulse"})]}):(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"relative mb-6",children:e?.avatar?s.jsx("img",{src:(0,i.qm)(e.avatar),alt:e.name||"头像",className:`w-24 h-24 ${m()} object-cover`,style:{boxShadow:x()}}):s.jsx("div",{className:`w-24 h-24 ${m()} bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-4xl font-bold`,style:{boxShadow:x()},children:e?.name?.[0]||"U"})}),s.jsx("h1",{className:"text-4xl font-bold text-text-primary mb-2",children:e?.name||"Xs-Blog"}),e?.title&&s.jsx("p",{className:"text-xl text-text-secondary mb-4",children:e.title}),e?.bio&&s.jsx("p",{className:"text-lg text-text-secondary max-w-2xl text-center mb-4",children:e.bio}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-sm text-text-tertiary",children:[e?.location&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),s.jsx("span",{children:e.location})]}),e?.website&&(0,s.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-primary-500 transition-colors",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),s.jsx("span",{children:e.website_title||"个人网站"})]})]})]})}var c=r(55795),d=r(9086),m=r(12893),x=r(76557);let p=(0,x.Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),u=(0,x.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),h=(0,x.Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),g=(0,x.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var b=r(94019);let y={github:m.Z,telegram:p,email:u,gmail:u,qq:h,wechat:h};function f({className:e}){let[t,r]=(0,a.useState)([]),[l,o]=(0,a.useState)(!0),[n,m]=(0,a.useState)({}),[x,p]=(0,a.useState)(!1),[u,h]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[C,S]=(0,a.useState)({}),$=e=>e&&e.toLowerCase().endsWith(".svg"),T=e=>{m(t=>({...t,[e]:!0}))},L=(e,t)=>{t.qrcode&&""!==t.qrcode.trim()?(e.preventDefault(),h({image:t.qrcode,platform:t.platform}),p(!0)):t.link&&""!==t.link.trim()&&"#"!==t.link||(e.preventDefault(),N({account:t.account,platform:t.platform}),j(!0))},_=()=>{p(!1),setTimeout(()=>h(null),300)},q=()=>{j(!1),k(!1),setTimeout(()=>N(null),300)},M=async()=>{if(v)try{await navigator.clipboard.writeText(v.account),k(!0),setTimeout(()=>k(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return l?s.jsx("div",{className:"text-center py-8",children:s.jsx("div",{className:"inline-block w-8 h-8 border-4 border-t-transparent rounded-full animate-spin",style:{borderColor:"var(--primary-500)"}})}):Array.isArray(t)&&0!==t.length?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:(0,i.cn)("flex flex-wrap justify-center gap-4 md:gap-6 max-w-4xl mx-auto",e),children:t.slice(0,6).map((e,t)=>{let r=y[e.platform.toLowerCase()]||g,a=e.icon&&""!==e.icon.trim()&&!n[e.platform],l=!a||C[e.platform];return(0,s.jsxs)(c.E.a,{href:e.link||"#",target:e.link?"_blank":"_self",rel:"noopener noreferrer",onClick:t=>L(t,e),className:"card-glow rounded-xl p-4 flex flex-col items-center justify-center gap-3 group aspect-square cursor-pointer",initial:{opacity:0,y:20},animate:{opacity:l?1:0,y:l?0:20},transition:{delay:l?.1*t:0,duration:.3},whileHover:{scale:1.05},children:[(0,s.jsxs)("div",{className:"relative",children:[a?s.jsx("div",{className:"relative w-8 h-8",children:s.jsx("img",{src:(0,i.qm)(e.icon),alt:e.platform,className:(0,i.cn)("w-8 h-8 object-contain transition-all",$(e.icon)?"icon-themed group-hover:brightness-110":"group-hover:brightness-110"),onError:()=>T(e.platform),loading:"eager"})}):s.jsx(r,{className:"w-8 h-8 text-primary-500 group-hover:text-primary-600 transition-colors"}),s.jsx("div",{className:"absolute inset-0 blur-xl opacity-30 group-hover:opacity-50 transition-opacity",style:{backgroundColor:"var(--primary-500)"}})]}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("p",{className:"text-sm font-semibold text-text-secondary capitalize",children:e.platform}),s.jsx("p",{className:"text-xs text-text-tertiary mt-1 truncate max-w-[120px]",children:e.account})]})]},`${e.platform}-${t}`)})}),s.jsx(d.M,{children:x&&u&&s.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:_,children:(0,s.jsxs)(c.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:_,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"关闭",children:s.jsx(b.Z,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:u.platform}),s.jsx("div",{className:"bg-white p-4 rounded-xl inline-block",children:s.jsx("img",{src:(0,i.qm)(u.image),alt:`${u.platform} QR Code`,className:"w-64 h-64 object-contain"})}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"扫描二维码添加联系方式"})]})]})})}),s.jsx(d.M,{children:f&&v&&s.jsx(c.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:q,children:(0,s.jsxs)(c.E.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},transition:{type:"spring",damping:20},className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:q,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"关闭",children:s.jsx(b.Z,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:v.platform}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl mb-4",children:s.jsx("p",{className:"text-lg font-mono text-gray-900 dark:text-white break-all",children:v.account})}),s.jsx("button",{onClick:M,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${w?"bg-green-500 text-white":"bg-primary-500 hover:bg-primary-600 text-white"}`,children:w?"✓ 已复制":"复制账号"})]})]})})})]}):null}var j=r(7027),v=r(33734),N=r(35813);function w({site:e,index:t,onSiteClick:r}){return s.jsx(c.E.button,{onClick:()=>r(e),className:"group block p-3 bg-bg-secondary rounded-lg shadow-sm hover:shadow-lg hover:-translate-y-0.5 border border-border-primary transition-all duration-300 cursor-pointer text-left w-full",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.02*t},children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[s.jsx("div",{className:"w-10 h-10 mb-2 rounded-md overflow-hidden flex items-center justify-center",children:e.logo?s.jsx("img",{src:(0,i.qm)(e.logo),alt:e.name,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-semibold text-base shadow-sm",children:e.name[0]})}),(0,s.jsxs)("div",{className:"relative flex flex-col items-center mb-1",children:[s.jsx("h3",{className:"font-medium text-xs text-text-primary group-hover:text-primary-500 transition-colors",children:e.name}),s.jsx(j.Z,{className:"w-3 h-3 text-primary-500 opacity-0 group-hover:opacity-100 transition-opacity absolute -right-4 top-1/2 transform -translate-y-1/2"})]}),e.description&&s.jsx("p",{className:"text-[10px] text-text-tertiary line-clamp-2 text-center leading-relaxed",children:e.description})]})})}function k({searchQuery:e=""}){let[t,r]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0),[n,c]=(0,a.useState)(!1),[d,m]=(0,a.useState)(null),x=e=>{m(e),c(!0)},p=t=>{if(!e.trim())return t;let r=e.toLowerCase();return t.filter(e=>{let t=e.name.toLowerCase().includes(r),s=e.description?.toLowerCase().includes(r);return t||s})};if(l)return(0,s.jsxs)("div",{className:"bg-bg-secondary/40 rounded-2xl p-5",children:[s.jsx("div",{className:"h-6 w-24 bg-bg-tertiary/50 animate-pulse mb-5 rounded-lg"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[1,2,3,4].map(e=>s.jsx("div",{className:"h-28 bg-bg-primary animate-pulse rounded-xl shadow-sm border border-border-primary/20"},e))})]});if(!t)return null;let u=p(t.recommended),h=t.categories.map(e=>({...e,sites:p(e.sites)})).filter(e=>e.sites.length>0),g=u.length>0||h.length>0,b=e.trim()&&g,y=e.trim()&&!g,f=[];return b&&f.push(s.jsx("div",{className:"mb-4 p-3 bg-blue-50/50 rounded-lg border border-blue-200/50",children:(0,s.jsxs)("span",{className:"text-sm text-blue-700",children:["搜索结果: 找到 ",u.length+h.reduce((e,t)=>e+t.sites.length,0)," 个相关网站",(0,s.jsxs)("span",{className:"font-medium ml-1",children:['"',e,'"']})]})},"search-results")),y&&f.push(s.jsx("div",{className:"mb-4 p-3 bg-gray-50/50 rounded-lg border border-gray-200/50 text-center",children:(0,s.jsxs)("span",{className:"text-sm text-gray-600",children:['没有找到包含 "',e,'" 的网站']})},"no-results")),t.showRecommended&&u.length>0&&f.push((0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 mb-4",children:[s.jsx(v.Z,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx("h2",{className:"text-lg font-bold text-text-primary",children:"导航推荐"})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:u.map((e,t)=>s.jsx(w,{site:e,index:t,onSiteClick:x},`recommended-${e.id}`))})]},"recommended-section")),h.forEach(e=>{f.push((0,s.jsxs)("div",{className:"mb-8 last:mb-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 mb-4",children:[e.category.icon&&s.jsx("span",{className:"text-lg",children:e.category.icon}),(0,s.jsxs)("div",{children:[s.jsx("h2",{className:"text-lg font-bold text-text-primary",children:e.category.name}),e.category.description&&s.jsx("p",{className:"text-xs text-text-secondary mt-0.5",children:e.category.description})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.sites.map((t,r)=>s.jsx(w,{site:t,index:r,onSiteClick:x},`site-${e.category.id}-${t.id}`))})]},`category-${e.category.id}`))}),t.showRecommended||0!==t.categories.length||f.push(s.jsx("div",{className:"text-center py-12 text-text-tertiary",children:"暂无导航数据"},"empty-state")),(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"bg-bg-secondary/40 rounded-2xl p-5",children:f}),s.jsx(N.Z,{isOpen:n,onClose:()=>{c(!1),setTimeout(()=>{m(null)},300)},site:d,logoUrl:d?.logo?(0,i.qm)(d.logo):void 0})]})}var C=r(81466),S=r(48998),$=r(35047),T=r(86280),L=r(26394),_=r(22746),q=r(14020),M=r(3225),P=r(74659),z=r(44990);let Z=(0,i.bR)(),E=e=>{let t=new Date(e),r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),o=String(t.getMinutes()).padStart(2,"0");return`${r}-${s}-${a} ${l}:${o}`},D=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",W=e=>{if(!e)return"";let t=e;return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,"")).replace(/!\[([^\]]*)\]\[([^\]]+)\]/g,"")).replace(/!\[([^\]]+)\]/g,"")).replace(/!\s*\[/g,"")).replace(/```[\s\S]*?```/g,"")).replace(/`([^`]+)`/g,"$1")).replace(/`/g,"")).replace(/^#{1,6}\s+/gm,"")).replace(/\*\*([^\*]+)\*\*/g,"$1")).replace(/__([^_]+)__/g,"$1")).replace(/\*([^\*]+)\*/g,"$1")).replace(/_([^_]+)_/g,"$1")).replace(/~~([^~]+)~~/g,"$1")).replace(/^[\s]*[-*+]\s+/gm,"")).replace(/^[\s]*\d+\.\s+/gm,"")).replace(/^>\s+/gm,"")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1")).replace(/\|.*\|/g,"")).replace(/^\s*[-*_]{3,}\s*$/gm,"")).replace(/\s+/g," ").replace(/\n{3,}/g,"\n\n").replace(/\n\s*\n/g,"\n\n").trim()};function F({searchQuery:e=""}){let t=(0,$.usePathname)();(0,$.useRouter)();let r=!!t&&(0,q.Jh)(t),[i,n]=(0,a.useState)([]),[d,m]=(0,a.useState)([]),[x,p]=(0,a.useState)(!0),[u,h]=(0,a.useState)(1),[g,b]=(0,a.useState)(1),[y,f]=(0,a.useState)(null),[j,v]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[k,F]=(0,a.useState)(""),[B,R]=(0,a.useState)(""),[U,A]=(0,a.useState)(!1),[H,X]=(0,a.useState)({}),[I,Q]=(0,a.useState)({showNoteTags:!0,showNoteCategories:!0,noteDisplayMode:"modal",noteLayoutColumns:"1",showNoteCover:"true",defaultNoteCover:""}),[G,O]=(0,a.useState)({type:null,value:null}),[V,J]=(0,a.useState)(!1),[Y,K]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(""),[er,es]=(0,a.useState)(!1),ea="/"===t,el=async e=>{if("page"===I.noteDisplayMode)window.location.href=`/note/${e.id}`;else try{let t=await o.ZPm.get(`/notes/${e.id}`);if(t.data?.success&&t.data?.data){let r=t.data.data;await eo(e.id),r.requiresPassword?(f(r),w(!0)):(f(r),v(!0))}}catch(e){console.error("Failed to fetch note:",e)}},eo=async(e,t)=>{try{let r=t?`?password=${encodeURIComponent(t)}`:"",s=await o.ZPm.get(`/notes/${e}/disks${r}`);s.data?.success&&s.data?.data&&K(s.data.data.length>0)}catch(e){console.error("Failed to check disks:",e),K(!1)}},ei=async e=>{if(e.preventDefault(),y){R(""),A(!0);try{let e=await o.ZPm.post(`/notes/${y.id}/verify`,{password:k});e.data?.success&&e.data?.data&&(f(e.data.data),w(!1),v(!0),et(k),await eo(y.id,k),F(""))}catch(e){e.response?.status===401?R("密码错误，请重试"):R("验证失败，请稍后重试")}finally{A(!1)}}},en=()=>{v(!1),f(null)},ec=e=>{if(!e)return!1;let t=e.trim();return/^https?:\/\/[\w\-\.]+\.[a-z]{2,}(\/\S*)?$/i.test(t)},ed=e=>{try{return new URL(e).hostname.replace("www.","")}catch{return""}},em=e=>{ea?window.location.href=`/notes?tag=${encodeURIComponent(e)}`:(O({type:"tag",value:e}),h(1))},ex=e=>{ea?window.location.href=`/notes?category=${encodeURIComponent(e)}`:(O({type:"category",value:e}),h(1))},ep=i.filter(t=>{if(!e.trim())return!0;let r=e.toLowerCase(),s=t.title?.toLowerCase().includes(r),a=W(t.content).toLowerCase().includes(r),l=t.category?.toLowerCase().includes(r),o=t.Tags?.some(e=>e.name.toLowerCase().includes(r))||t.tags?.toLowerCase().includes(r);return s||a||l||o}),eu=new Map(d.map(e=>[e.name,e]));if(x)return s.jsx("div",{className:"space-y-0",children:[1,2,3].map(e=>(0,s.jsxs)("div",{className:"py-4 border-b border-border-primary/30",children:[s.jsx("div",{className:"h-5 w-3/4 bg-bg-tertiary/50 animate-pulse mb-3 rounded"}),s.jsx("div",{className:"h-4 w-full bg-bg-tertiary/50 animate-pulse mb-2 rounded"}),s.jsx("div",{className:"h-4 w-2/3 bg-bg-tertiary/50 animate-pulse mb-3 rounded"}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("div",{className:"h-3 w-24 bg-bg-tertiary/50 animate-pulse rounded"}),s.jsx("div",{className:"h-3 w-16 bg-bg-tertiary/50 animate-pulse rounded"})]})]},e))});if(0===i.length)return null;let eh=e.trim()&&ep.length>0,eg=e.trim()&&0===ep.length;return(0,s.jsxs)(s.Fragment,{children:[eh&&s.jsx("div",{className:"mb-4 p-3 bg-blue-50/50 rounded-lg border border-blue-200/50 flex items-center justify-between",children:s.jsx("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{className:"text-sm text-blue-700",children:["搜索结果: 找到 ",ep.length," 条相关笔记",(0,s.jsxs)("span",{className:"font-medium ml-1",children:['"',e,'"']})]})})}),eg&&s.jsx("div",{className:"mb-4 p-3 bg-bg-tertiary/50 rounded-lg border border-border-primary/50 text-center",children:(0,s.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',e,'" 的笔记']})}),G.type&&G.value&&(0,s.jsxs)("div",{className:"mb-4 p-3 bg-bg-secondary/50 rounded-lg border border-border-primary/20 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:(0,s.jsxs)("span",{className:"text-sm text-text-secondary",children:["当前筛选:",(0,s.jsxs)("span",{className:"font-medium text-text-primary ml-1",children:["tag"===G.type?"标签":"分类",": ",G.value]})]})}),s.jsx("button",{onClick:()=>{O({type:null,value:null}),h(1)},className:"text-xs text-text-tertiary hover:text-text-primary transition-colors px-2 py-1 hover:bg-bg-tertiary/50 rounded",children:"清除筛选"})]}),s.jsx("div",{className:`grid gap-4 ${"1"===I.noteLayoutColumns?"grid-cols-1":"2"===I.noteLayoutColumns?"grid-cols-1 md:grid-cols-2":"3"===I.noteLayoutColumns?"grid-cols-1 md:grid-cols-2 lg:grid-cols-3":"4"===I.noteLayoutColumns?"grid-cols-1 md:grid-cols-2 lg:grid-cols-4":"grid-cols-1"}`,children:ep.map((e,t)=>s.jsx(c.E.div,{className:`rounded-lg hover:-translate-y-1 transition-all duration-300 cursor-pointer relative z-0 min-h-[150px] ${r?"bg-white border border-gray-200 hover:shadow-lg":"bg-bg-secondary border border-border-primary hover:shadow-lg"} ${"1"===I.noteLayoutColumns?"p-4":"p-6"}`,initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.05*t},onClick:()=>el(e),children:"1"===I.noteLayoutColumns&&(e.cover_image||I.defaultNoteCover)&&"true"===I.showNoteCover?(0,s.jsxs)("div",{className:"flex gap-3 items-center h-full",children:[s.jsx("div",{className:"flex-shrink-0 w-28 h-28 rounded-lg overflow-hidden bg-bg-tertiary",children:s.jsx("img",{src:(e.cover_image||I.defaultNoteCover||"").startsWith("http")?e.cover_image||I.defaultNoteCover:`${Z}${e.cover_image||I.defaultNoteCover}`,alt:e.title||"封面图",className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col justify-center min-h-[112px] py-1",children:[e.title&&(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary line-clamp-1 flex-1",children:e.title}),e.is_pinned&&s.jsx("div",{className:"flex items-center gap-1 px-1.5 py-0.5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded text-xs font-semibold flex-shrink-0",children:s.jsx(C.Z,{className:"w-3 h-3 fill-current"})})]}),s.jsx("p",{className:"text-sm text-text-secondary line-clamp-2 mb-2",children:e.summary||(e.content?D(W(e.content),80):"暂无内容")}),(0,s.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1 text-text-tertiary",children:[s.jsx(S.Z,{className:"w-3 h-3"}),s.jsx("span",{children:E(e.published_at||e.created_at)})]}),I.showNoteCategories&&e.category&&(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors hidden md:inline-block",onClick:t=>{t.stopPropagation(),ex(e.category)},children:[eu.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:eu.get(e.category)?.icon}),e.category]}),I.showNoteTags&&e.Tags&&e.Tags.length>0&&(0,s.jsxs)(s.Fragment,{children:[e.Tags.slice(0,ea?1:2).map(e=>s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:opacity-80 transition-opacity hidden md:inline-block",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.name)},children:e.name},e.id)),e.Tags.length>(ea?1:2)&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded-full text-xs hidden md:inline-block",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},children:["+",e.Tags.length-(ea?1:2)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 md:hidden",children:[I.showNoteCategories&&e.category&&(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors",onClick:t=>{t.stopPropagation(),ex(e.category)},children:[eu.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:eu.get(e.category)?.icon}),e.category]}),I.showNoteTags&&e.Tags&&e.Tags.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:opacity-80 transition-opacity",style:e.Tags[0].color?{backgroundColor:`${e.Tags[0].color}20`,color:e.Tags[0].color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.Tags[0].name)},children:e.Tags[0].name})]})]})]})]}):(0,s.jsxs)("div",{className:"flex flex-col h-full",children:["1"!==I.noteLayoutColumns&&(e.cover_image||I.defaultNoteCover)&&"true"===I.showNoteCover&&s.jsx("div",{className:"mb-4 -mx-6 -mt-6",children:s.jsx("div",{className:"relative w-full pt-[100%] overflow-hidden rounded-t-lg",children:s.jsx("img",{src:(e.cover_image||I.defaultNoteCover||"").startsWith("http")?e.cover_image||I.defaultNoteCover:`${Z}${e.cover_image||I.defaultNoteCover}`,alt:e.title||"封面图",className:"absolute inset-0 w-full h-full object-cover",onError:e=>{e.target.style.display="none"}})})}),s.jsx("div",{className:`mb-2 flex items-start ${e.title?"min-h-[32px]":"min-h-[12px]"}`,children:e.title&&(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("h3",{className:"text-base font-semibold text-text-primary line-clamp-2",children:e.title}),e.is_pinned&&(0,s.jsxs)("div",{className:"flex items-center gap-1 px-2 py-0.5 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded text-xs font-semibold flex-shrink-0",children:[s.jsx(C.Z,{className:"w-3 h-3 fill-current"}),s.jsx("span",{children:"置顶"})]})]})}),(0,s.jsxs)("div",{className:"flex-1 mb-2",children:[ec(e.content)&&s.jsx("div",{className:"bg-bg-tertiary rounded-md p-2 hover:bg-bg-tertiary/80 transition-all cursor-pointer",onClick:t=>{t.stopPropagation(),window.open(e.content.trim(),"_blank")},children:(0,s.jsxs)("div",{className:"flex items-start gap-2",children:[(0,s.jsxs)("div",{className:"flex-shrink-0",children:[H[e.content.trim()]?.favicon?s.jsx("img",{src:H[e.content.trim()].favicon,alt:"网站图标",className:"w-8 h-8 rounded-md object-cover",onError:e=>{let t=e.target;t.style.display="none";let r=t.nextElementSibling;r&&(r.style.display="flex")}}):null,s.jsx("div",{className:"w-8 h-8 rounded-md bg-gradient-to-br from-primary-500 to-purple-500 flex items-center justify-center text-white font-semibold text-sm",style:H[e.content.trim()]?.favicon?{display:"none"}:{},children:ed(e.content.trim()).charAt(0).toUpperCase()})]}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[s.jsx("h4",{className:"font-medium text-text-primary truncate text-sm mb-1",children:H[e.content.trim()]?.title||(()=>{let t=ed(e.content.trim()).replace("www.",""),r=t.split(".");return r.length>1?r[0].charAt(0).toUpperCase()+r[0].slice(1):t})()}),s.jsx("p",{className:"text-xs text-text-secondary mb-1 line-clamp-2 leading-relaxed",children:H[e.content.trim()]?.description||"点击卡片访问网站"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-xs text-text-tertiary bg-bg-tertiary/50 px-2 py-0.5 rounded",children:(()=>{try{return new URL(e.content.trim()).hostname}catch{return ed(e.content.trim())}})()}),s.jsx("span",{className:"text-xs text-primary-500 font-medium",children:"立即访问 →"})]})]})]})}),!ec(e.content)&&s.jsx("p",{className:`text-text-secondary leading-relaxed line-clamp-3 ${e.title?"text-sm":"text-base"}`,children:e.summary||D(W(e.content),150)})]}),(0,s.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5 text-text-tertiary",children:[s.jsx(S.Z,{className:"w-3 h-3"}),s.jsx("span",{children:E(e.published_at||e.created_at)})]}),I.showNoteCategories&&e.category&&(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors hidden md:inline-block",onClick:t=>{t.stopPropagation(),ex(e.category)},children:[eu.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:eu.get(e.category)?.icon}),e.category]}),I.showNoteTags&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[e.Tags&&e.Tags.length>0&&(0,s.jsxs)(s.Fragment,{children:[e.Tags.slice(0,ea?1:2).map(e=>s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-bg-tertiary transition-colors hidden md:inline-block",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.name)},children:e.name},e.id)),e.Tags.length>(ea?1:2)&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded-full hidden md:inline-block",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},children:["+",e.Tags.length-(ea?1:2)]})]}),(!e.Tags||0===e.Tags.length)&&e.tags&&(0,s.jsxs)(s.Fragment,{children:[e.tags.split(",").slice(0,ea?1:2).map((e,t)=>s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-bg-tertiary transition-colors hidden md:inline-block",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.trim())},children:e.trim()},t)),e.tags.split(",").length>(ea?1:2)&&(0,s.jsxs)("span",{className:"px-2 py-0.5 rounded-full hidden md:inline-block",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},children:["+",e.tags.split(",").length-(ea?1:2)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1 md:hidden",children:[I.showNoteCategories&&e.category&&(0,s.jsxs)("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors",onClick:t=>{t.stopPropagation(),ex(e.category)},children:[eu.get(e.category)?.icon&&s.jsx("span",{className:"mr-1",children:eu.get(e.category)?.icon}),e.category]}),I.showNoteTags&&(0,s.jsxs)(s.Fragment,{children:[e.Tags&&e.Tags.length>0&&s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-bg-tertiary transition-colors",style:e.Tags[0].color?{backgroundColor:`${e.Tags[0].color}20`,color:e.Tags[0].color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.Tags[0].name)},children:e.Tags[0].name}),(!e.Tags||0===e.Tags.length)&&e.tags&&s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-bg-tertiary transition-colors",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.tags.split(",")[0].trim())},children:e.tags.split(",")[0].trim()})]})]})]}),s.jsx("span",{className:"text-primary-500 font-medium",children:"详情 →"})]})]})},e.id))}),g>1&&(0,s.jsxs)("div",{className:"flex justify-center gap-2 pt-6 mt-4",children:[s.jsx("button",{onClick:()=>h(e=>Math.max(1,e-1)),disabled:1===u,className:"px-3 py-1.5 rounded-lg bg-bg-primary text-text-secondary hover:bg-bg-secondary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm",children:"上一页"}),s.jsx("div",{className:"flex items-center gap-1.5",children:Array.from({length:Math.min(g,5)},(e,t)=>{let r;let a=(r=g<=5?t+1:u<=3?t+1:u>=g-2?g-4+t:u-2+t)===u;return s.jsx("button",{onClick:()=>h(r),className:"w-8 h-8 rounded-lg transition-all text-sm "+(a?"bg-primary-500 text-white":"bg-bg-primary text-text-secondary hover:bg-bg-secondary"),children:r},r)})}),s.jsx("button",{onClick:()=>h(e=>Math.min(g,e+1)),disabled:u===g,className:"px-3 py-1.5 rounded-lg bg-bg-primary text-text-secondary hover:bg-bg-secondary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm",children:"下一页"})]}),N&&y&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,s.jsxs)(c.E.div,{className:"bg-bg-secondary rounded-2xl max-w-md w-full p-6 border border-border-primary shadow-2xl",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),s.jsx("h3",{className:"text-xl font-bold text-text-primary mb-2",children:"此笔记需要密码"}),s.jsx("p",{className:"text-sm text-text-secondary",children:"请输入访问密码以查看内容"})]}),(0,s.jsxs)("form",{onSubmit:ei,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("input",{type:"password",value:k,onChange:e=>F(e.target.value),placeholder:"请输入密码",className:"w-full px-4 py-3 border border-border-primary rounded-lg bg-bg-primary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,autoComplete:"current-password",disabled:U}),B&&s.jsx("p",{className:"mt-2 text-sm text-red-600",children:B})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[s.jsx("button",{type:"button",onClick:()=>{w(!1),f(null),F(""),R("")},className:"flex-1 px-4 py-3 bg-bg-tertiary text-text-secondary rounded-lg hover:bg-bg-tertiary/80 transition-colors",disabled:U,children:"取消"}),s.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:U||!k,children:U?"验证中...":"确认"})]})]})]})}),j&&y&&s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,s.jsxs)(c.E.div,{className:"bg-bg-primary rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-hidden flex flex-col border border-border-primary",style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.15)"},initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[(0,s.jsxs)("div",{className:"bg-bg-secondary/50 px-5 pt-6 pb-4 flex items-center justify-between sticky top-0 z-50 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1.5",children:[s.jsx("h3",{className:"text-xl font-bold text-text-primary truncate",children:y.title}),"original"===y.source_type&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700/50 rounded text-[10px] font-medium flex-shrink-0",children:[s.jsx("svg",{className:"w-2.5 h-2.5 text-green-600 dark:text-green-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{className:"text-green-700 dark:text-green-300",children:"原创"})]}),"reprint"===y.source_type&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-orange-50 dark:bg-orange-900/20 border border-orange-200 dark:border-orange-700/50 rounded text-[10px] font-medium flex-shrink-0",children:[s.jsx("svg",{className:"w-2.5 h-2.5 text-orange-600 dark:text-orange-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),s.jsx("span",{className:"text-orange-700 dark:text-orange-300",children:"转载"})]}),y.content&&y.content.includes("[网盘资源]")&&(0,s.jsxs)("div",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700/50 rounded text-[10px] font-medium flex-shrink-0",children:[s.jsx("svg",{className:"w-2.5 h-2.5 text-blue-600 dark:text-blue-400 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),s.jsx("span",{className:"text-blue-700 dark:text-blue-300",children:"含网盘资源"})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3 text-xs text-text-tertiary",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[s.jsx(S.Z,{className:"w-3.5 h-3.5"}),s.jsx("span",{children:E(y.published_at||y.created_at)})]}),I.showNoteCategories&&y.category&&s.jsx("span",{className:"px-2 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors",onClick:e=>{e.stopPropagation(),ex(y.category),en()},children:y.category}),I.showNoteTags&&(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[y.Tags&&y.Tags.length>0&&s.jsx(s.Fragment,{children:y.Tags.map(e=>s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-gray-200 transition-colors",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.name),en()},children:e.name},e.id))}),(!y.Tags||0===y.Tags.length)&&y.tags&&s.jsx(s.Fragment,{children:y.tags.split(",").map((e,t)=>s.jsx("span",{className:"px-2 py-0.5 rounded-full font-medium cursor-pointer hover:bg-gray-200 transition-colors",style:{backgroundColor:"rgb(242 242 242)",color:"rgb(112 112 112)"},onClick:t=>{t.stopPropagation(),em(e.trim()),en()},children:e.trim()},t))})]})]})]}),s.jsx("button",{onClick:en,className:"text-text-tertiary hover:text-text-primary transition-colors p-1.5 hover:bg-bg-tertiary/50 rounded-lg flex-shrink-0 ml-3",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"border-t border-border-primary/2 mx-5"}),s.jsx("div",{className:"flex-1 overflow-y-auto p-5 custom-scrollbar bg-bg-primary",children:(0,s.jsxs)("div",{className:"prose prose-lg max-w-none dark:prose-invert prose-headings:text-text-primary prose-headings:font-bold prose-h1:text-2xl prose-h1:mb-4 prose-h2:text-xl prose-h2:mb-3 prose-h2:mt-6 prose-h3:text-lg prose-h3:mb-2 prose-h3:mt-4 prose-h4:text-base prose-h4:mb-2 prose-h4:mt-3 prose-p:text-text-primary prose-p:leading-relaxed prose-p:mb-4 prose-a:text-primary-600 dark:prose-a:text-primary-400 prose-a:no-underline hover:prose-a:underline prose-blockquote:border-l-4 prose-blockquote:border-primary-500 prose-blockquote:bg-bg-tertiary/30 prose-blockquote:py-2 prose-blockquote:px-4 prose-blockquote:rounded-r-lg prose-blockquote:not-italic prose-strong:text-text-primary prose-strong:font-semibold prose-em:text-text-primary prose-em:italic prose-ul:list-disc prose-ul:pl-6 prose-ul:mb-4 prose-ol:list-decimal prose-ol:pl-6 prose-ol:mb-4 prose-li:text-text-primary prose-li:mb-1 prose-table:w-full prose-table:border-collapse prose-table:my-4 prose-th:bg-bg-tertiary prose-th:text-text-primary prose-th:font-semibold prose-th:p-2 prose-th:border prose-th:border-border-primary prose-td:p-2 prose-td:border prose-td:border-border-primary prose-td:text-text-primary prose-img:rounded-lg prose-img:shadow-md prose-img:mx-auto prose-hr:border-hr-color prose-hr:my-6 whitespace-normal ",children:[s.jsx(T.UG,{remarkPlugins:[L.Z],rehypePlugins:[_.Z],components:{img:({src:e,alt:t,...r})=>{let a=e;return e&&e.startsWith("/uploads/")&&(a=`${Z}${e}`),s.jsx("div",{className:"flex justify-center my-4",children:s.jsx("img",{src:a,alt:t||"",className:"max-w-full h-auto rounded-lg shadow-md transition-all duration-300 hover:shadow-lg hover:scale-[1.02]",style:{maxHeight:"400px",objectFit:"contain"},loading:"lazy",onError:e=>{e.target.style.display="none"},...r})})},iframe:({node:e,...t})=>s.jsx("div",{className:"my-4 rounded-lg overflow-hidden shadow-md",children:s.jsx("iframe",{className:"w-full aspect-video",...t})}),pre:({node:e,children:t,...r})=>{let a=l().Children.toArray(t).join("");return(0,s.jsxs)("div",{className:"relative my-4 group",children:[s.jsx("pre",{className:"bg-code-block-bg text-code-block-text p-3 rounded-lg overflow-x-auto shadow-sm font-mono text-sm leading-relaxed",...r,children:t}),s.jsx(z.Z,{text:a})]})},code:({node:e,inline:t,className:r,children:a,...l})=>t?s.jsx("code",{...l,children:a}):s.jsx("code",{className:`text-sm font-mono ${r||""}`,...l,children:a}),table:({node:e,children:t,...r})=>s.jsx("div",{className:"overflow-x-auto my-4 rounded shadow-sm",children:s.jsx("table",{className:"w-full min-w-full",...r,children:t})}),blockquote:({node:e,children:t,...r})=>s.jsx("blockquote",{className:"border-l-4 border-primary-500 bg-bg-tertiary/30 py-2 px-4 rounded-r-lg my-4 text-text-primary italic",...r,children:t}),a:({node:e,href:t,children:r,...a})=>s.jsx("a",{href:t,className:"text-primary-600 dark:text-primary-400 no-underline hover:underline transition-colors duration-200 font-medium",target:"_blank",rel:"noopener noreferrer",...a,children:r}),p:({node:e,children:t,...r})=>l().Children.toArray(t).some(e=>"string"==typeof e&&e.includes("\n"))?s.jsx("p",{className:"text-text-primary leading-relaxed mb-4 whitespace-normal break-words",...r,children:l().Children.map(t,(e,t)=>{if("string"==typeof e){let r=e.split("\n");return s.jsx(l().Fragment,{children:r.map((e,t)=>(0,s.jsxs)(l().Fragment,{children:[e,t<r.length-1&&s.jsx("br",{})]},t))},t)}return e})}):s.jsx("p",{className:"text-text-primary leading-relaxed mb-4 whitespace-normal break-words",...r,children:t})},children:y.content}),"reprint"===y.source_type&&y.source_text&&s.jsx("div",{className:"mt-8 pt-6 border-t border-dashed border-border-primary/15",children:(0,s.jsxs)("div",{className:"text-sm text-text-tertiary",children:[s.jsx("span",{className:"font-medium",children:"文章来源："}),s.jsx("span",{className:"ml-1",children:y.source_text})]})})]})}),(0,s.jsxs)("div",{className:"bg-bg-secondary/50 px-5 py-4 flex justify-between items-center sticky bottom-0 z-50 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"flex gap-2",children:[Y&&(0,s.jsxs)("button",{onClick:()=>J(!0),className:"px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-all flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{d:"M2 6a2 2 0 012-2h5l2 2h5a2 2 0 012 2v6a2 2 0 01-2 2H4a2 2 0 01-2-2V6z"})}),"下载资源"]}),(0,s.jsxs)("button",{onClick:()=>es(!0),className:"px-4 py-2 bg-gradient-to-r from-purple-600 to-indigo-600 text-white text-sm rounded-lg hover:from-purple-700 hover:to-indigo-700 transition-all flex items-center gap-2",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),"分享笔记"]})]}),s.jsx("button",{onClick:en,className:"px-4 py-2 bg-primary-500 text-white text-sm rounded-lg hover:bg-primary-600 transition-all",children:"关闭"})]})]})}),y&&s.jsx(M.Z,{isOpen:V,onClose:()=>J(!1),noteId:y.id,isAdmin:!1,password:ee}),er&&y&&s.jsx(P.Z,{noteId:y.id,title:y.title,password:y.password,onClose:()=>es(!1)})]})}let B=(0,x.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),R=(0,x.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);function U({defaultTab:e="notes",notesContent:t,sitesContent:r}){let[l,o]=(0,a.useState)(e),[i,n]=(0,a.useState)(0),[m,x]=(0,a.useState)(0),p=(0,a.useRef)(null);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center mb-6 gap-3",children:[s.jsx("button",{onClick:()=>{"sites"===l&&o("notes")},disabled:"notes"===l,className:`p-1.5 rounded-lg transition-all ${"notes"===l?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"上一页",children:s.jsx(B,{className:"w-5 h-5 text-text-primary"})}),(0,s.jsxs)("div",{className:"flex gap-2 bg-bg-secondary rounded-full p-1 border border-border-primary",children:[s.jsx("button",{onClick:()=>o("notes"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"notes"===l?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"文字碎片"}),s.jsx("button",{onClick:()=>o("sites"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"sites"===l?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"常用导航"})]}),s.jsx("button",{onClick:()=>{"notes"===l&&o("sites")},disabled:"sites"===l,className:`p-1.5 rounded-lg transition-all ${"sites"===l?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"下一页",children:s.jsx(R,{className:"w-5 h-5 text-text-primary"})})]}),s.jsx("div",{ref:p,className:"relative overflow-hidden",onTouchStart:e=>{n(e.targetTouches[0].clientX)},onTouchMove:e=>{x(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!i||!m)return;let e=i-m;e>50&&"notes"===l&&o("sites"),e<-50&&"sites"===l&&o("notes"),n(0),x(0)},children:s.jsx(d.M,{mode:"wait",children:"notes"===l?s.jsx(c.E.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},exit:{opacity:0,x:15},transition:{duration:.2},children:t},"notes"):s.jsx(c.E.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},exit:{opacity:0,x:-15},transition:{duration:.2},children:r},"sites")})}),(0,s.jsxs)("div",{className:"flex justify-center gap-1.5 mt-5",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${"notes"===l?"bg-primary-500 w-6":"bg-border-secondary"}`}),s.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${"sites"===l?"bg-primary-500 w-6":"bg-border-secondary"}`})]})]})}var A=r(88307);function H({defaultTab:e="notes",notesContent:t,sitesContent:r,onSearch:l}){let[o,i]=(0,a.useState)(e),[n,m]=(0,a.useState)(0),[x,p]=(0,a.useState)(0),[u,h]=(0,a.useState)(""),g=(0,a.useRef)(null),y=()=>{"sites"===o&&i("notes")},f=()=>{"notes"===o&&i("sites")};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex md:hidden items-center justify-center gap-3 mb-4",children:[s.jsx("button",{onClick:y,disabled:"notes"===o,className:`p-1.5 rounded-lg transition-all ${"notes"===o?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"上一页",children:s.jsx(B,{className:"w-5 h-5 text-text-primary"})}),(0,s.jsxs)("div",{className:"flex gap-2 bg-bg-secondary rounded-full p-1 border border-border-primary",children:[s.jsx("button",{onClick:()=>i("notes"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"notes"===o?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"文字碎片"}),s.jsx("button",{onClick:()=>i("sites"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"sites"===o?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"常用导航"})]}),s.jsx("button",{onClick:f,disabled:"sites"===o,className:`p-1.5 rounded-lg transition-all ${"sites"===o?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"下一页",children:s.jsx(R,{className:"w-5 h-5 text-text-primary"})})]}),(0,s.jsxs)("div",{className:"hidden md:flex items-center justify-between gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:y,disabled:"notes"===o,className:`p-1.5 rounded-lg transition-all ${"notes"===o?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"上一页",children:s.jsx(B,{className:"w-5 h-5 text-text-primary"})}),(0,s.jsxs)("div",{className:"flex gap-2 bg-bg-secondary rounded-full p-1 border border-border-primary",children:[s.jsx("button",{onClick:()=>i("notes"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"notes"===o?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"文字碎片"}),s.jsx("button",{onClick:()=>i("sites"),className:`px-5 py-2 rounded-full text-xs font-medium transition-all ${"sites"===o?"bg-primary-500 text-white":"text-text-secondary hover:text-text-primary"}`,children:"常用导航"})]}),s.jsx("button",{onClick:f,disabled:"sites"===o,className:`p-1.5 rounded-lg transition-all ${"sites"===o?"opacity-20 cursor-not-allowed":"hover:bg-bg-secondary opacity-60 hover:opacity-100"}`,"aria-label":"下一页",children:s.jsx(R,{className:"w-5 h-5 text-text-primary"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("form",{onSubmit:e=>{e.preventDefault(),l&&l(u,o)},className:"w-72",children:(0,s.jsxs)("div",{className:"relative",children:[s.jsx(A.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-text-tertiary"}),s.jsx("input",{type:"text",id:"desktop-tabbed-search",name:"search",placeholder:`搜索${"notes"===o?"文字碎片":"常用导航"}...`,value:u,onChange:e=>{let t=e.target.value;h(t),l&&l(t,o)},className:"w-full pl-10 pr-10 py-2.5 bg-bg-secondary border border-border-primary rounded-lg text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-0 focus:border-border-primary",autoComplete:"off"}),u&&s.jsx("button",{type:"button",onClick:()=>{h(""),l&&l("",o)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary transition-colors","aria-label":"清空搜索",children:s.jsx(b.Z,{className:"w-4 h-4"})})]})})})]})]}),s.jsx("div",{ref:g,className:"relative overflow-hidden",onTouchStart:e=>{m(e.targetTouches[0].clientX)},onTouchMove:e=>{p(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!n||!x)return;let e=n-x;e>50&&"notes"===o&&i("sites"),e<-50&&"sites"===o&&i("notes"),m(0),p(0)},children:s.jsx(d.M,{mode:"wait",children:"notes"===o?s.jsx(c.E.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},exit:{opacity:0,x:15},transition:{duration:.2},children:t},"notes"):s.jsx(c.E.div,{initial:{opacity:0,x:15},animate:{opacity:1,x:0},exit:{opacity:0,x:-15},transition:{duration:.2},children:r},"sites")})}),(0,s.jsxs)("div",{className:"flex justify-center gap-1.5 mt-5",children:[s.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${"notes"===o?"bg-primary-500 w-6":"bg-border-secondary"}`}),s.jsx("div",{className:`w-1.5 h-1.5 rounded-full transition-all ${"sites"===o?"bg-primary-500 w-6":"bg-border-secondary"}`})]})]})}var X=r(93258);function I(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(0),[i,n]=(0,a.useState)(!0),c=e=>{l(e)};return i?s.jsx("div",{className:"w-full aspect-video md:h-96 md:aspect-auto bg-bg-tertiary animate-pulse rounded-lg"}):0===e.length?s.jsx("div",{className:"relative w-full overflow-hidden rounded-lg shadow-sm bg-bg-secondary flex items-center justify-center aspect-video md:h-96 md:aspect-auto",children:s.jsx("p",{className:"text-text-tertiary text-sm",children:"暂无轮播图，请在后台上传"})}):(0,s.jsxs)("div",{className:"relative w-full overflow-hidden rounded-lg shadow-sm aspect-video md:h-96 md:aspect-auto",children:[s.jsx("div",{className:"relative w-full h-full",children:e.map((e,t)=>{let a=s.jsx("img",{src:(0,o.Jn$)(e.url),alt:e.alt,className:"w-full h-full object-cover",onError:e=>{e.target.style.display="none"}});return s.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ease-in-out ${t===r?"opacity-100":"opacity-0"}`,children:e.link?s.jsx("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"block w-full h-full",children:a}):a},t)})}),e.length>1&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("button",{onClick:()=>{l(t=>(t-1+e.length)%e.length)},className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-primary-500/50 hover:bg-primary-600 text-white p-2 rounded-full transition-colors duration-200",children:s.jsx(B,{className:"h-5 w-5"})}),s.jsx("button",{onClick:()=>{l(t=>(t+1)%e.length)},className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-primary-500/50 hover:bg-primary-600 text-white p-2 rounded-full transition-colors duration-200",children:s.jsx(R,{className:"h-5 w-5"})}),s.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:e.map((e,t)=>s.jsx("button",{onClick:()=>c(t),className:`w-3 h-3 rounded-full transition-colors duration-200 ${t===r?"bg-primary-500":"bg-primary-300"}`},t))})]})]})}function Q(){let[e,t]=(0,a.useState)(null),[r,l]=(0,a.useState)([]),[n,c]=(0,a.useState)(!0),[d,m]=(0,a.useState)(!1),[x,p]=(0,a.useState)(null),[u,h]=(0,a.useState)(!1),[g,y]=(0,a.useState)(null),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)("circle"),w=()=>"rounded"===v?"rounded-xl":"rounded-full",k=(e,t)=>{t.qrcode&&""!==t.qrcode.trim()?(e.preventDefault(),p({image:t.qrcode,platform:t.platform}),m(!0)):t.link&&""!==t.link.trim()&&"#"!==t.link||(e.preventDefault(),y({account:t.account,platform:t.platform}),h(!0))},C=()=>{m(!1),setTimeout(()=>p(null),300)},S=()=>{h(!1),j(!1),setTimeout(()=>y(null),300)},$=async()=>{if(g)try{await navigator.clipboard.writeText(g.account),j(!0),setTimeout(()=>j(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return n?s.jsx("div",{className:"bg-bg-secondary rounded-lg shadow-sm p-6 border border-border-primary h-full",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"w-20 h-20 bg-bg-tertiary rounded-full animate-pulse"}),(0,s.jsxs)("div",{className:"w-full space-y-2",children:[s.jsx("div",{className:"h-6 w-32 bg-bg-tertiary animate-pulse mx-auto"}),s.jsx("div",{className:"h-4 w-48 bg-bg-tertiary animate-pulse mx-auto"})]})]})}):e?(0,s.jsxs)("div",{className:"bg-bg-secondary rounded-lg shadow-sm hover:shadow-lg transition-all duration-300 p-6 border border-border-primary h-full flex flex-col justify-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:e.avatar?s.jsx("img",{src:(0,o.Jn$)(e.avatar),alt:e.name||"头像",className:`w-20 h-20 ${w()} object-cover shadow-lg`,style:{boxShadow:"0 3px 10px 0 rgba(0, 0, 0, 0.12)"}}):s.jsx("div",{className:`w-20 h-20 ${w()} bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg`,style:{boxShadow:"0 3px 10px 0 rgba(0, 0, 0, 0.12)"},children:e.name?.[0]||"X"})}),(0,s.jsxs)("div",{className:"text-center mb-4",children:[s.jsx("h3",{className:"text-xl font-semibold text-text-primary",children:e.name||"Xs-Blog"}),e.title&&s.jsx("p",{className:"text-sm text-text-secondary mt-2",children:e.title}),e.bio&&s.jsx("p",{className:"text-sm text-text-tertiary mt-3 line-clamp-3",children:e.bio})]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-4",children:[e.location&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-text-tertiary",children:[(0,s.jsxs)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),e.location]},"location"),e.email&&(0,s.jsxs)("div",{className:"flex items-center text-xs text-text-tertiary",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),e.email]},"email"),e.website&&(0,s.jsxs)("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-xs text-primary-600 hover:text-primary-700 transition-colors",children:[s.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.website_title||"个人网站"]},"website")].filter(Boolean)}),r.length>0&&s.jsx("div",{className:`flex items-center pt-5 border-t border-border-primary/20 px-8 ${1===r.length?"justify-center":"justify-between"}`,children:r.map((e,t)=>s.jsx("a",{href:e.link||"#",target:e.link?"_blank":"_self",rel:"noopener noreferrer",onClick:t=>k(t,e),className:"group relative flex items-center justify-center transition-all hover:scale-110 hover:opacity-80 cursor-pointer",title:`${e.platform}: ${e.account}`,children:e.icon&&""!==e.icon.trim()?s.jsx("div",{className:`flex items-center justify-center ${1===r.length?"w-10 h-10":2===r.length?"w-9 h-9":3===r.length?"w-8 h-8":"w-7 h-7"}`,children:s.jsx("img",{src:`${(0,i.qm)(e.icon)}?v=${e.updated_at||Date.now()}`,alt:e.platform,className:"w-full h-full object-contain transition-all group-hover:brightness-110 icon-themed",onError:e=>{e.target.style.display="none"}})}):s.jsx("div",{className:`rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold group-hover:bg-primary-500/30 transition-colors ${1===r.length?"w-10 h-10 text-base":2===r.length?"w-9 h-9 text-sm":3===r.length?"w-8 h-8 text-sm":"w-7 h-7 text-xs"}`,children:e.platform[0].toUpperCase()})},`social-link-${e.id}-${t}`))}),d&&x&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:C,children:(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:C,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"关闭",children:s.jsx(b.Z,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:x.platform}),s.jsx("div",{className:"bg-white p-4 rounded-xl inline-block",children:s.jsx("img",{src:(0,i.qm)(x.image),alt:`${x.platform} QR Code`,className:"w-64 h-64 object-contain"})}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-4",children:"扫描二维码添加联系方式"})]})]})}),u&&g&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:S,children:(0,s.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",onClick:e=>e.stopPropagation(),children:[s.jsx("button",{onClick:S,className:"absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"关闭",children:s.jsx(b.Z,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:g.platform}),s.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-xl mb-4",children:s.jsx("p",{className:"text-lg font-mono text-gray-900 dark:text-white break-all",children:g.account})}),s.jsx("button",{onClick:$,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${f?"bg-green-500 text-white":"bg-primary-500 hover:bg-primary-600 text-white"}`,children:f?"✓ 已复制":"复制账号"})]})]})})]}):null}var G=r(86502);let O={showSiteNav:!0,showNotes:!0,showSocialLinks:!0,themeColor:"white",themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,backgroundImage:"",backgroundOpacity:"0.5",defaultDisplaySection:"notes",showTopNavbar:"true",showWapSidebar:"true"};function V(){let[e,t]=(0,a.useState)(O),[r,l]=(0,a.useState)(""),[o,i]=(0,a.useState)("notes"),[c,d]=(0,a.useState)(!1),{showSiteNav:m,showNotes:x,showSocialLinks:p,themeColor:u,themeType:h,footerCopyright:g,backgroundImage:b,backgroundOpacity:y,defaultDisplaySection:j}=e,v="blog"===h,N="false"!==e.showTopNavbar,w="false"!==e.showWapSidebar,C=e=>{l(e),i("notes")},S=!x&&!m;return(0,s.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col overflow-x-hidden",children:[v?s.jsx(X.Z,{onSearch:C,isBlogMode:!0,showWapSidebar:w}):N?s.jsx(X.Z,{onSearch:C,isBlogMode:!1,showWapSidebar:w}):null,b&&s.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:`url(${b})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(y)}}),v&&(0,s.jsxs)("div",{className:"relative z-0",children:[(v||N)&&s.jsx("div",{className:"h-16"}),(0,s.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl pt-3 pb-4 md:py-8",children:[(0,s.jsxs)("section",{className:"animate-slide-up mb-8",style:{animationDelay:"0.1s"},children:[(0,s.jsxs)("div",{className:"hidden lg:flex gap-6 items-stretch",children:[s.jsx("div",{className:"flex-1",children:s.jsx(I,{})}),s.jsx("div",{className:"w-72 flex-shrink-0 h-96",children:c&&s.jsx(Q,{})})]}),s.jsx("div",{className:"lg:hidden",children:s.jsx(I,{})})]}),!S&&(0,s.jsxs)("section",{className:"animate-slide-up",style:{animationDelay:"0.2s"},children:[x&&m&&s.jsx(H,{defaultTab:j,notesContent:s.jsx(F,{searchQuery:"notes"===o?r:""}),sitesContent:s.jsx(k,{searchQuery:"sites"===o?r:""}),onSearch:(e,t)=>{l(e),i(t)}}),x&&!m&&s.jsx(F,{searchQuery:r}),!x&&m&&s.jsx(k,{searchQuery:r})]})]}),(0,s.jsxs)("footer",{className:"text-center text-sm relative z-10 mt-12 py-6",children:[s.jsx("div",{className:"text-text-tertiary",dangerouslySetInnerHTML:{__html:g}}),s.jsx(G.Z,{})]})]}),!v&&(0,s.jsxs)("div",{className:`relative z-0 ${S?"flex-1 flex flex-col":""}`,children:[N&&s.jsx("div",{className:"h-16"}),(0,s.jsxs)("div",{className:`container mx-auto px-4 max-w-6xl py-8 ${S?"flex flex-col justify-center flex-1":""}`,children:[(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[s.jsx("section",{className:"text-center animate-fade-in mb-6",children:s.jsx(n,{})}),p&&s.jsx("section",{className:"animate-slide-up",style:{animationDelay:"0.1s"},children:s.jsx(f,{className:"gap-4"})})]}),!S&&(0,s.jsxs)("section",{className:"animate-slide-up mt-12",style:{animationDelay:"0.2s"},children:[x&&m&&s.jsx(U,{defaultTab:j,notesContent:s.jsx(F,{}),sitesContent:s.jsx(k,{})}),x&&!m&&s.jsx(F,{searchQuery:r}),!x&&m&&s.jsx(k,{searchQuery:r})]})]}),(0,s.jsxs)("footer",{className:`text-center text-sm relative z-10 ${S?"mt-auto py-8":"mt-12 py-6"}`,children:[s.jsx("div",{className:"text-text-tertiary",dangerouslySetInnerHTML:{__html:g}}),s.jsx(G.Z,{})]})]})]})}},44990:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326),a=r(17577);function l({text:e,className:t=""}){let[r,l]=(0,a.useState)(!1),o=async()=>{try{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){console.error("Failed to copy text: ",e)}};return s.jsx("button",{onClick:o,className:`
        absolute top-2 right-2
        px-2 py-1 text-xs
        bg-bg-secondary/80 backdrop-blur-sm
        border border-border-primary/50
        rounded-md
        text-text-secondary
        hover:text-text-primary
        hover:bg-bg-secondary
        hover:border-border-primary
        transition-all duration-200
        font-mono
        ${t}
      `,title:"复制代码",children:r?(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"已复制"]}):(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"复制"]})})}},86502:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326),a=r(17577);function l(){let[e,t]=(0,a.useState)(""),[r,l]=(0,a.useState)(""),[o,i]=(0,a.useState)(""),[n,c]=(0,a.useState)(!1);return n&&e?(0,s.jsxs)("div",{"data-copyright":"true",className:"text-xs text-gray-500 text-center py-3 select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[e,s.jsx("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:r})]}):null}},74659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var s=r(10326),a=r(17577);function l({noteId:e,title:t,password:r,onClose:l}){let o=(0,a.useRef)(null),[i,n]=(0,a.useState)(""),[c,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(!0);return s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[10000]",onClick:l,children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full mx-4",onClick:e=>e.stopPropagation(),children:[s.jsx("div",{className:"flex justify-between items-center mb-4",children:s.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600",children:s.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})}),(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[m&&s.jsx("div",{className:"text-gray-500 mb-4",children:"生成中..."}),s.jsx("canvas",{ref:o,className:"max-w-full h-auto rounded-lg shadow-lg",style:{width:"300px",height:"400px"}}),s.jsx("button",{onClick:()=>{let t=o.current;t&&t.toBlob(t=>{if(!t)return;let r=URL.createObjectURL(t),s=document.createElement("a");s.href=r,s.download=`note-${e}-share.png`,s.click(),URL.revokeObjectURL(r)})},disabled:m,className:"mt-6 px-6 py-3 bg-gradient-to-r from-purple-600 to-indigo-600 text-white rounded-lg hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 transition-all",children:"下载分享图片"})]})]})})}r(31270),r(51223)},35480:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`D:\360Downloads\www\tool-new\Xs-blog\frontend\src\app\page.tsx#default`)}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[380,804,795,472,77,964,225,258,721],()=>r(77240));module.exports=s})();