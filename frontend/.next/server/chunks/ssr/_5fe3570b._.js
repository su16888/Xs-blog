module.exports=[65763,a=>{"use strict";var b=a.i(72131),c=a.i(82572);let d=null;function e(a,f=!1){let[g,h]=(0,b.useState)(d||""),i=(0,c.useOptionalPageTitleContext)();(0,b.useEffect)(()=>{f&&i&&i.setTitle(a)},[a,f,i]),(0,b.useEffect)(()=>{d?h(d):(async()=>{try{let a=await fetch("/api/settings");if(a.ok){let b=await a.json();if(b.success&&b.data){let a={};b.data.forEach(b=>{a[b.key]=b.value});let c=a.siteTitle||"";d=c,h(c)}}}catch(a){console.error("Failed to fetch site title:",a)}})()},[]),(0,b.useEffect)(()=>{let b=document.title;return f?"ä»ªè¡¨ç›˜"===a?document.title=`${g} - åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${a} - ${g}åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${a} - ${g}`,()=>{document.title=b}},[a,g,f])}a.s(["usePageTitle",()=>e])},57723,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(60137);let e=(0,d.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),f=(0,d.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var g=a.i(33508);function h({show:a,message:d,type:h,duration:i=3e3,onClose:j}){let[k,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{if(a){l(!0);let a=setTimeout(()=>{l(!1)},i);return()=>clearTimeout(a)}l(!1)},[a,i]),(0,c.useEffect)(()=>{if(!k&&a){let a=setTimeout(j,300);return()=>clearTimeout(a)}},[k,a,j]);let m=(()=>{switch(h){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:(0,b.jsx)(e,{className:"w-5 h-5 text-green-500"})};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:(0,b.jsx)(f,{className:"w-5 h-5 text-red-500"})};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:(0,b.jsx)(e,{className:"w-5 h-5 text-blue-500"})}}})();return(0,b.jsx)(b.Fragment,{children:k&&(0,b.jsx)("div",{className:"fixed top-4 right-4 z-[999999] min-w-[300px] max-w-md animate-slide-down",children:(0,b.jsxs)("div",{className:`${m.bg} border rounded-lg shadow-lg p-4 flex items-start gap-3`,children:[(0,b.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:m.icon}),(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("p",{className:`${m.text} text-sm font-medium`,children:d})}),(0,b.jsx)("button",{onClick:()=>{l(!1)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,b.jsx)(g.X,{className:"w-4 h-4"})})]})})})}a.s(["default",()=>h],57723)},14548,a=>{"use strict";let b=(0,a.i(60137).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);a.s(["Save",()=>b],14548)},83344,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(65763),g=a.i(57723),h=a.i(14548),i=a.i(83490),j=a.i(54897);function k(){(0,f.usePageTitle)("æ–‡æœ¬è®¾ç½®"),(0,d.useRouter)();let{user:a}=(0,e.useAuth)(),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)("page-texts"),[q,r]=(0,c.useState)({navigation:{title:"å¯¼èˆªåˆ—è¡¨",description:"æŽ¢ç´¢ç²¾é€‰çš„ç½‘ç«™å¯¼èˆª",browserTitle:"å¯¼èˆªåˆ—è¡¨"},services:{title:"æœåŠ¡ä¸šåŠ¡",description:"ä¸ºæ‚¨æä¾›ä¸“ä¸šçš„æœåŠ¡è§£å†³æ–¹æ¡ˆ",browserTitle:"æœåŠ¡ä¸šåŠ¡"},notes:{title:"ç¬”è®°åˆ—è¡¨",description:"æŽ¢ç´¢æ‰€æœ‰å·²å‘å¸ƒçš„ç¬”è®°å†…å®¹",browserTitle:"å…¨éƒ¨ç¬”è®°"},galleries:{title:"å›¾åº“åˆ—è¡¨",description:"æŽ¢ç´¢ç²¾å½©çš„å›¾ç‰‡åˆé›†",browserTitle:"å›¾åº“åˆ—è¡¨"},messages:{title:"è”ç³»æˆ‘ä»¬",description:"æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡è¿™é‡Œè¿›è¡Œæäº¤ä½ çš„æƒ³æ³•ï¼",browserTitle:"ç•™è¨€æ¿"},promo:{title:"",description:"",browserTitle:""}}),[s,t]=(0,c.useState)({section1:"notes",section2:"navigation",enabledInBlogMode:!0}),[u,v]=(0,c.useState)({show:!1,type:"success",message:""});(0,c.useEffect)(()=>{w()},[]);let w=async()=>{try{let a=localStorage.getItem("token"),b=await i.default.get(`${(0,j.getApiUrl)()}/admin/settings`,{headers:{Authorization:`Bearer ${a}`}});if(b.data.success){let a=b.data.data,c=a.find(a=>"pageTexts"===a.key);if(c?.value)try{let a=JSON.parse(c.value);r({...q,...a})}catch(a){console.error("Failed to parse pageTexts:",a)}let d=a.find(a=>"homeContentSections"===a.key);if(d?.value)try{let a=JSON.parse(d.value);t({...s,...a})}catch(a){console.error("Failed to parse homeContentSections:",a)}}}catch(a){console.error("Failed to load settings:",a)}finally{l(!1)}},x=(a,b,c)=>{r({...q,[a]:{...q[a],[b]:c}})},y=async()=>{n(!0);try{let a=localStorage.getItem("token");(await i.default.post(`${(0,j.getApiUrl)()}/admin/settings/batch`,{settings:[{key:"pageTexts",value:JSON.stringify(q)}]},{headers:{Authorization:`Bearer ${a}`}})).data.success&&(v({show:!0,type:"success",message:"é¡µé¢æ–‡æœ¬è®¾ç½®ä¿å­˜æˆåŠŸï¼æ­£åœ¨åˆ·æ–°æ•°æ®..."}),setTimeout(()=>{w()},1e3))}catch(a){console.error("ä¿å­˜å¤±è´¥:",a),v({show:!0,type:"error",message:a.response?.data?.message||"ä¿å­˜å¤±è´¥"})}finally{n(!1)}},z=async()=>{if(s.section1===s.section2)return void v({show:!0,type:"error",message:"ä¸¤ä¸ªå†…å®¹åŒºåŸŸä¸èƒ½é€‰æ‹©ç›¸åŒçš„é¡µé¢"});n(!0);try{let a=localStorage.getItem("token");(await i.default.post(`${(0,j.getApiUrl)()}/admin/settings/batch`,{settings:[{key:"homeContentSections",value:JSON.stringify(s)}]},{headers:{Authorization:`Bearer ${a}`}})).data.success&&(v({show:!0,type:"success",message:"é¦–é¡µå†…å®¹é…ç½®ä¿å­˜æˆåŠŸï¼æ­£åœ¨åˆ·æ–°æ•°æ®..."}),setTimeout(()=>{w()},1e3))}catch(a){console.error("ä¿å­˜å¤±è´¥:",a),v({show:!0,type:"error",message:a.response?.data?.message||"ä¿å­˜å¤±è´¥"})}finally{n(!1)}},A=[{value:"notes",label:"ç¬”è®°åˆ—è¡¨"},{value:"navigation",label:"å¯¼èˆªåˆ—è¡¨"},{value:"services",label:"æœåŠ¡ä¸šåŠ¡"},{value:"galleries",label:"å›¾åº“åˆ—è¡¨"}];return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g.default,{show:u.show,message:u.message,type:u.type,onClose:()=>v({...u,show:!1})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex space-x-4 border-b border-gray-200",children:[(0,b.jsx)("button",{onClick:()=>p("page-texts"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"page-texts"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"é¡µé¢æ–‡æœ¬è®¾ç½®"}),(0,b.jsx)("button",{onClick:()=>p("home-content"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"home-content"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"é¦–é¡µå†…å®¹åˆ‡æ¢"})]}),"page-texts"===o&&(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"ðŸ“ åŠŸèƒ½è¯´æ˜Ž"}),(0,b.jsxs)("ul",{className:"space-y-1 text-blue-800",children:[(0,b.jsx)("li",{children:"â€¢ é¡µé¢æ ‡é¢˜ï¼šæ˜¾ç¤ºåœ¨é¡µé¢é¡¶éƒ¨çš„å¤§æ ‡é¢˜ï¼ˆtext-3xlæ ·å¼ï¼‰"}),(0,b.jsx)("li",{children:"â€¢ é¡µé¢æè¿°ï¼šæ˜¾ç¤ºåœ¨æ ‡é¢˜ä¸‹æ–¹çš„æè¿°æ–‡å­—ï¼ˆtext-text-secondaryæ ·å¼ï¼‰"}),(0,b.jsx)("li",{children:"â€¢ æµè§ˆå™¨æ ‡é¢˜ï¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸Šçš„æ ‡é¢˜"})]})]}),[{key:"navigation",label:"å¯¼èˆªåˆ—è¡¨é¡µé¢",route:"/navigation"},{key:"services",label:"æœåŠ¡ä¸šåŠ¡é¡µé¢",route:"/services"},{key:"notes",label:"ç¬”è®°åˆ—è¡¨é¡µé¢",route:"/notes"},{key:"galleries",label:"å›¾åº“åˆ—è¡¨é¡µé¢",route:"/galleries"},{key:"messages",label:"ç•™è¨€åˆ—è¡¨é¡µé¢",route:"/messages"},{key:"promo",label:"å®˜ç½‘ä¸»é¢˜é¡µé¢",route:"/promo"}].map(({key:a,label:c,route:d})=>(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c}),(0,b.jsx)("a",{href:d,target:"_blank",className:"text-sm text-blue-600 hover:text-blue-800",children:"é¢„è§ˆé¡µé¢ â†’"})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["é¡µé¢æ ‡é¢˜ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:q[a].title,onChange:b=>x(a,"title",b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥é¡µé¢æ ‡é¢˜"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["é¡µé¢æè¿° ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("textarea",{value:q[a].description,onChange:b=>x(a,"description",b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"è¯·è¾“å…¥é¡µé¢æè¿°"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["æµè§ˆå™¨æ ‡é¢˜ ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:q[a].browserTitle,onChange:b=>x(a,"browserTitle",b.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥æµè§ˆå™¨æ ‡ç­¾é¡µæ ‡é¢˜"})]})]})]},a)),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsxs)("button",{onClick:y,disabled:m,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(h.Save,{className:"w-4 h-4"}),m?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"]})})]}),"home-content"===o&&(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"ðŸ  åŠŸèƒ½è¯´æ˜Ž"}),(0,b.jsxs)("ul",{className:"space-y-1 text-blue-800",children:[(0,b.jsx)("li",{children:"â€¢ é¦–é¡µä¸‹æ–¹åŽŸæœ‰ä¸¤ä¸ªå†…å®¹åŒºåŸŸï¼ˆæ–‡å­—ç¢Žç‰‡/å¸¸ç”¨å¯¼èˆªï¼‰"}),(0,b.jsx)("li",{children:"â€¢ çŽ°åœ¨å¯ä»¥ä»Ž4ä¸ªé¡µé¢ä¸­ä»»é€‰2ä¸ªå±•ç¤º"}),(0,b.jsx)("li",{children:"â€¢ é»˜è®¤é€‰æ‹©ï¼šç¬”è®°åˆ—è¡¨ + å¯¼èˆªåˆ—è¡¨"}),(0,b.jsx)("li",{children:"â€¢ åšå®¢æ¨¡å¼ä¸‹ï¼Œå†…å®¹åˆ‡æ¢åŠŸèƒ½é»˜è®¤å¼€å¯"})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å†…å®¹åŒºåŸŸ 1 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("select",{value:s.section1,onChange:a=>t({...s,section1:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å†…å®¹åŒºåŸŸ 2 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("select",{value:s.section2,onChange:a=>t({...s,section2:a.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:A.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),(0,b.jsxs)("div",{className:"pt-2",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:s.enabledInBlogMode,onChange:a=>t({...s,enabledInBlogMode:a.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-gray-700",children:"åšå®¢æ¨¡å¼ä¸‹å¯ç”¨å†…å®¹åˆ‡æ¢"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"å‹¾é€‰åŽï¼Œåšå®¢æ¨¡å¼ä¸‹é¦–é¡µå°†æ˜¾ç¤ºé€‰æ‹©çš„å†…å®¹åŒºåŸŸ"})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4",children:(0,b.jsxs)("button",{onClick:z,disabled:m,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,b.jsx)(h.Save,{className:"w-4 h-4"}),m?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"]})})]})]})})})]})}a.s(["default",()=>k])}];

//# sourceMappingURL=_5fe3570b._.js.map