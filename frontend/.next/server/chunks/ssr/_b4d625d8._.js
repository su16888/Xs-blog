module.exports=[1239,a=>{"use strict";let b=(0,a.i(70106).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);a.s(["Pin",()=>b],1239)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},13749,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},38632,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],38632)},78987,a=>{"use strict";let b=(0,a.i(70106).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);a.s(["ShoppingBag",()=>b],78987)},52495,a=>{"use strict";let b=(0,a.i(70106).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);a.s(["ExternalLink",()=>b],52495)},210,a=>{"use strict";let b=(0,a.i(70106).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],210)},41710,a=>{"use strict";let b=(0,a.i(70106).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);a.s(["Clock",()=>b],41710)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},21374,32790,a=>{"use strict";let b=(0,a.i(70106).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);a.s(["Star",()=>b],21374);var c=a.i(87924),d=a.i(46271),e=a.i(62036),f=a.i(33508),g=a.i(52495),h=a.i(210),i=a.i(72131);function j({isOpen:a,onClose:b,site:j,logoUrl:k}){return((0,i.useEffect)(()=>{let c=a=>{"Escape"===a.key&&b()};return a&&(document.addEventListener("keydown",c),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",c),document.body.style.overflow="unset"}},[a,b]),j)?(0,c.jsx)(e.AnimatePresence,{children:a&&(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:b,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,c.jsxs)(d.motion.div,{initial:{scale:.95,opacity:0,y:15},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:15},transition:{type:"spring",damping:30,stiffness:400},onClick:a=>a.stopPropagation(),className:"bg-bg-primary rounded-2xl shadow-2xl max-w-md w-full overflow-hidden relative",children:[(0,c.jsx)("button",{onClick:b,className:"absolute top-3 right-3 p-1.5 rounded-lg bg-bg-secondary hover:bg-bg-tertiary transition-colors z-10","aria-label":"关闭",children:(0,c.jsx)(f.X,{className:"w-4 h-4 text-text-secondary"})}),(0,c.jsxs)("div",{className:"p-6 text-center",children:[(0,c.jsx)("div",{className:"mb-5 flex justify-center",children:k?(0,c.jsx)("div",{className:"w-20 h-20 rounded-xl overflow-hidden shadow-md",children:(0,c.jsx)("img",{src:k,alt:j.name,className:"w-full h-full object-cover"})}):(0,c.jsx)("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center text-primary-500 font-bold text-3xl",children:j.name[0]})}),(0,c.jsx)("h2",{className:"text-xl font-bold text-text-primary mb-2.5",children:j.name}),j.description&&(0,c.jsx)("p",{className:"text-text-secondary text-sm mb-6 leading-relaxed",children:j.description}),(0,c.jsxs)("div",{className:"flex gap-2.5",children:[(0,c.jsxs)("button",{onClick:b,className:"flex-1 px-4 py-2.5 rounded-lg bg-bg-secondary text-text-primary hover:bg-bg-tertiary transition-all duration-200 font-medium text-sm flex items-center justify-center gap-2",children:[(0,c.jsx)(h.ArrowLeft,{className:"w-3.5 h-3.5"}),"返回"]}),(0,c.jsxs)("button",{onClick:()=>{window.open(j.link,"_blank","noopener,noreferrer"),b()},className:"flex-1 px-4 py-2.5 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-all duration-200 font-medium text-sm flex items-center justify-center gap-2",children:["进入网站",(0,c.jsx)(g.ExternalLink,{className:"w-3.5 h-3.5"})]})]})]})]})})})}):null}a.s(["default",()=>j],32790)},68568,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(46271),e=a.i(62036),f=a.i(33508),g=a.i(78987),h=a.i(50522);let i=(0,a.i(70106).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var j=a.i(62180),k=a.i(19032);function l({service:a,isOpen:l,onClose:m}){let[n,o]=(0,c.useState)(!1);if(!a)return null;let p=a.show_order_button&&a.order_button_url;return(0,b.jsx)(e.AnimatePresence,{children:l&&(0,b.jsx)(d.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-3",onClick:m,children:(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},transition:{type:"spring",duration:.4,bounce:.2},className:"bg-white dark:bg-gray-900 w-full max-w-[380px] rounded-2xl overflow-hidden shadow-2xl relative flex flex-col",style:{aspectRatio:"9/16",maxHeight:"calc(100vh - 24px)"},onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("button",{onClick:m,className:"absolute top-3 right-3 z-30 w-8 h-8 flex items-center justify-center bg-black/30 hover:bg-black/50 backdrop-blur-sm rounded-full transition-all duration-200","aria-label":"关闭",children:(0,b.jsx)(f.X,{className:"w-4 h-4 text-white"})}),(0,b.jsxs)("div",{className:`flex-1 overflow-y-auto overscroll-contain hide-scrollbar ${p?"pb-20":"pb-4"}`,children:[(0,b.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100 dark:bg-gray-800",children:[a.cover_image&&!n?(0,b.jsx)("img",{src:(0,k.getImageUrl)(a.cover_image),alt:a.name,className:"w-full h-full object-cover",onError:()=>o(!0)}):(0,b.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,b.jsx)(g.ShoppingBag,{className:"w-20 h-20 text-gray-300 dark:text-gray-600"})}),a.is_recommended&&(0,b.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-1 bg-gradient-to-r from-orange-500 to-rose-500 text-white px-2.5 py-1 rounded-full text-[11px] font-medium shadow-lg",children:[(0,b.jsx)(i,{className:"w-3 h-3"}),(0,b.jsx)("span",{children:"精选推荐"})]}),a.Category&&(0,b.jsxs)("div",{className:"absolute top-3 right-12 flex items-center gap-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-2.5 py-1 rounded-full text-[11px] text-gray-600 dark:text-gray-300 shadow-sm",children:[a.Category.icon&&(0,b.jsx)("span",{children:a.Category.icon}),(0,b.jsx)("span",{children:a.Category.name})]})]}),(0,b.jsxs)("div",{className:"px-4 py-4",children:[(0,b.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white leading-snug mb-2",children:a.name}),a.description&&(0,b.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-3",children:a.description}),(0,b.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,b.jsx)("span",{className:"text-rose-500 text-sm font-bold",children:"¥"}),(0,b.jsx)("span",{className:"text-rose-500 text-2xl font-bold tracking-tight",children:a.price})]})]}),a.specifications&&a.specifications.length>0&&(0,b.jsxs)("div",{className:"px-4 mb-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),a.spec_title||"服务规格"]})}),(0,b.jsx)("div",{className:"space-y-2",children:a.specifications.sort((a,b)=>a.sort_order-b.sort_order).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between py-2.5 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,b.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:a.spec_name}),(0,b.jsx)("span",{className:"text-gray-900 dark:text-white text-sm font-medium",children:a.spec_value})]},a.id))})]}),a.content&&(0,b.jsxs)("div",{className:"px-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,b.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),"服务详情"]})}),(0,b.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 dark:text-gray-300 prose-headings:text-gray-900 dark:prose-headings:text-white prose-strong:text-gray-900 dark:prose-strong:text-white prose-a:text-violet-600 dark:prose-a:text-violet-400",children:(0,b.jsx)(j.default,{components:{h1:({node:a,...c})=>(0,b.jsx)("h1",{className:"text-base font-bold mt-4 mb-2 text-gray-900 dark:text-white",...c}),h2:({node:a,...c})=>(0,b.jsx)("h2",{className:"text-sm font-bold mt-3 mb-2 text-gray-900 dark:text-white",...c}),h3:({node:a,...c})=>(0,b.jsx)("h3",{className:"text-sm font-semibold mt-3 mb-1.5 text-gray-800 dark:text-gray-100",...c}),p:({node:a,...c})=>(0,b.jsx)("p",{className:"mb-3 leading-relaxed text-sm text-gray-600 dark:text-gray-300",...c}),ul:({node:a,...c})=>(0,b.jsx)("ul",{className:"list-disc list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...c}),ol:({node:a,...c})=>(0,b.jsx)("ol",{className:"list-decimal list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...c}),li:({node:a,...c})=>(0,b.jsx)("li",{className:"text-sm leading-relaxed",...c}),blockquote:({node:a,...c})=>(0,b.jsx)("blockquote",{className:"border-l-3 border-violet-500 pl-3 py-2 my-3 bg-violet-50 dark:bg-violet-900/20 rounded-r-lg text-sm italic",...c}),code:({node:a,inline:c,...d})=>c?(0,b.jsx)("code",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono text-violet-600 dark:text-violet-400",...d}):(0,b.jsx)("code",{className:"block p-3 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-x-auto text-xs font-mono",...d}),img:({node:a,...c})=>(0,b.jsx)("img",{className:"rounded-xl shadow-md my-3 max-w-full",loading:"lazy",...c}),a:({node:a,...c})=>(0,b.jsx)("a",{className:"text-violet-600 dark:text-violet-400 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",...c})},children:a.content})})]})]}),p&&(0,b.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white dark:from-gray-900 dark:via-gray-900 to-transparent pt-8",children:(0,b.jsxs)("a",{href:a.order_button_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200",children:[(0,b.jsx)("span",{className:"text-[15px]",children:a.order_button_text||"立即下单"}),(0,b.jsx)(h.ChevronRight,{className:"w-4 h-4"})]})})]})})})}a.s(["default",()=>l],68568)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},77156,41379,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],77156);let d=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>d],41379)},38078,a=>{"use strict";var b=a.i(87924),c=a.i(72131);a.i(35112);var d=a.i(46271),e=a.i(62036),f=a.i(33508),g=a.i(13749),h=a.i(50522),i=a.i(70106);(0,i.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),(0,i.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var j=a.i(84505),k=a.i(43108),l=a.i(77156),m=a.i(41379),n=a.i(19032),o=a.i(68114);function p({galleryId:a,isOpen:i,onClose:p}){let[q,r]=(0,c.useState)(null),[s,t]=(0,c.useState)(0),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(1),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(""),[E,F]=(0,c.useState)(""),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null);(0,c.useEffect)(()=>{i&&a&&O()},[i,a]),(0,c.useEffect)(()=>(i?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[i]),(0,c.useEffect)(()=>{if(!i)return;let a=a=>{"Escape"===a.key?p():"ArrowLeft"===a.key?Q():"ArrowRight"===a.key?P():"+"===a.key||"="===a.key?R():"-"===a.key&&S()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[i,s,y,q]);let O=async b=>{v(!0),x(null);try{let c=await (0,n.getGallery)(a,b);c.success?(r(c.data),B(!1),F("")):c.requirePassword?B(!0):x(c.message||"加载图册失败")}catch(a){a.response?.status===401?a.response?.data?.requirePassword?B(!0):(B(!0),F("密码错误")):x("加载图册失败")}finally{v(!1)}},P=()=>{q&&0!==q.images.length&&(t(a=>(a+1)%q.images.length),z(1))},Q=()=>{q&&0!==q.images.length&&(t(a=>(a-1+q.images.length)%q.images.length),z(1))},R=()=>{z(a=>Math.min(a+.25,3))},S=()=>{z(a=>Math.max(a-.25,.5))};return i&&(e.AnimatePresence,d.motion.div,!u&&!A&&q&&q.images.length>1&&q.images.length,!u&&!A&&q&&q.images.length>0&&j.Download,A||f.X,A&&(d.motion.div,f.X,k.Lock,G?m.EyeOff:l.Eye),!u&&!w&&!A&&q&&q.images.length>0&&(b.Fragment,d.motion.img,(0,o.getFileUrl)(q.images[s].path),q.images[s].filename,q.images.length>1&&(b.Fragment,g.ChevronLeft,h.ChevronRight)),u||w||A||!q||q.images.length,!u&&!w&&!A&&q&&q.images.length>0&&q.images.length>1&&q.images.map((a,c)=>(0,b.jsx)("button",{onClick:()=>{t(c),z(1)},className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${c===s?"border-primary-500 opacity-100":"border-white/20 opacity-50 hover:opacity-75"}`,children:(0,b.jsx)("img",{src:(0,o.getFileUrl)(a.path),alt:a.filename,className:"w-full h-full object-cover"})},a.id))),null}a.s(["default",()=>p],38078)}];

//# sourceMappingURL=_b4d625d8._.js.map