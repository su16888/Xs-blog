module.exports=[352204,a=>{"use strict";var b=a.i(187924),c=a.i(572131);let d="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",e="WHMtYmxvZy4=",f=a=>{try{return atob(a)}catch{return""}};function g(){let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=setTimeout(()=>{let a,b;a=f(d),b=f(e),a.length>0&&b.includes("Xs-blog")&&(g(f(d)),i(f(e)),k(f("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{let a=setInterval(()=>{document.querySelector("[data-copyright]")},5e3);return()=>clearInterval(a)},[l]);let n=async()=>{try{if(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(a=>{let b=a.split("=")[0].trim();document.cookie=`${b}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),"caches"in window){let a=await caches.keys();await Promise.all(a.map(a=>caches.delete(a)))}"indexedDB"in window&&(await indexedDB.databases?.()||[]).forEach(a=>{a.name&&indexedDB.deleteDatabase(a.name)}),alert("清理成功全部数据！"),window.location.reload()}catch(a){alert("清理成功全部数据！"),window.location.reload()}};return l&&a?(0,b.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:a=>a.preventDefault(),children:[(0,b.jsx)("span",{onDoubleClick:n,style:{cursor:"default"},children:a}),(0,b.jsx)("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:h})]}):null}a.s(["default",()=>g])},752238,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(119032),f=a.i(354897),g=a.i(711642),h=a.i(352204);function i(){let a=(0,d.useRouter)(),{setUser:i,isAuthenticated:j,isLoading:k}=(0,g.useAuth)(),[l,m]=(0,c.useState)({username:"",password:""}),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1);(0,c.useEffect)(()=>{(async()=>{try{let a=await (0,e.getSettings)();if(a.success&&a.data){let b=a.data.find(a=>"siteTitle"===a.key)?.value||"";document.title=b?`管理后台登录 - ${b}`:"管理后台登录"}}catch(a){document.title="管理后台登录"}})()},[]),(0,c.useEffect)(()=>{!k&&j&&a.push((0,f.getAdminRoute)("dashboard"))},[k,j,a]);let r=async b=>{b.preventDefault(),o(""),q(!0);try{let b=await (0,e.login)(l.username,l.password);try{localStorage.setItem("token",b.token),localStorage.setItem("user",JSON.stringify(b.user))}catch(a){console.warn("无法保存登录信息到 localStorage:",a)}i(b.user);let c=(0,f.getAdminRoute)("dashboard");a.push(c)}catch(a){o(a.response?.data?.message||a.message||"登录失败，请重试")}finally{q(!1)}},s=a=>{m({...l,[a.target.name]:a.target.value})};return k||j?(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-500",children:"加载中..."})]})}):(0,b.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,b.jsxs)("div",{className:"max-w-md w-full mx-4 flex flex-col",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 animate-fade-in",children:[(0,b.jsx)("div",{className:"text-center mb-8",children:(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"管理员登录"})}),n&&(0,b.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm",children:n}),(0,b.jsxs)("form",{onSubmit:r,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名"}),(0,b.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:l.username,onChange:s,className:"input",placeholder:"请输入用户名",disabled:p})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,b.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:l.password,onChange:s,className:"input",placeholder:"请输入密码",disabled:p,autoComplete:"current-password"})]}),(0,b.jsx)("button",{type:"submit",disabled:p,className:"w-full btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:p?"登录中...":"登录"})]}),(0,b.jsx)("div",{className:"mt-6 text-center",children:(0,b.jsx)("a",{href:"/",className:"text-sm text-primary-600 hover:text-primary-700 transition-colors",children:"← 返回首页"})})]}),(0,b.jsx)("div",{className:"mt-12",children:(0,b.jsx)(h.default,{})})]})})}a.s(["default",()=>i])}];

//# sourceMappingURL=src_98cacaf0._.js.map