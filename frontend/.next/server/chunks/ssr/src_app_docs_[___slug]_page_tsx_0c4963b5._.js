module.exports=[738322,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(762180),f=a.i(558348),g=a.i(541987),h=a.i(5276),i=a.i(445362),j=a.i(339642),k=a.i(346271),l=a.i(262036),m=a.i(119032),n=a.i(355488),o=a.i(104720),p=a.i(883706);let q=(0,p.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),r=(0,p.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var s=a.i(452495);let t=(0,p.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);var u=a.i(50522),v=a.i(613749),w=a.i(767552),x=a.i(405784),y=a.i(972692),z=a.i(633508),A=a.i(587532),B=a.i(953722),C=a.i(400210),D=a.i(926971),E=a.i(978891),F=a.i(699209),G=a.i(601327);function H(){return a=>{let b={};(0,j.visit)(a,"element",a=>{if(["h1","h2","h3","h4","h5"].includes(a.tagName)){let c=(function a(b){let c="";for(let d of b.children)"text"===d.type?c+=d.value:"element"===d.type&&(c+=a(d));return c})(a).toLowerCase().replace(/[^\w\u4e00-\u9fa5\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),d=c;void 0!==b[c]?(b[c]++,d=`${c}-${b[c]}`):b[c]=0,a.properties=a.properties||{},a.properties.id=d}})}}function I(){let a=(0,d.useParams)(),j=(0,d.useRouter)(),{settings:p,pageTexts:I}=(0,n.useSettings)(),[J,K]=(0,c.useState)(""),[L,M]=(0,c.useState)(0),[N,O]=(0,c.useState)(!0),[P,Q]=(0,c.useState)(null),[R,S]=(0,c.useState)(!1),[T,U]=(0,c.useState)(null),[V,W]=(0,c.useState)([]),[X,Y]=(0,c.useState)([]),[Z,$]=(0,c.useState)(!1),[_,aa]=(0,c.useState)(!1),[ab,ac]=(0,c.useState)(""),[ad,ae]=(0,c.useState)(!1),[af,ag]=(0,c.useState)(""),[ah,ai]=(0,c.useState)(!1),[aj,ak]=(0,c.useState)([]),[al,am]=(0,c.useState)(0),[an,ao]=(0,c.useState)(!1),ap=(0,c.useRef)(null),aq=(0,c.useRef)(null),ar=(0,c.useRef)(null),as=(0,c.useRef)(null),at=a.slug,au=at?at.join("/"):"",av=au.endsWith(".md")?au:`${au}.md`;(0,c.useEffect)(()=>{(async()=>{try{let a=sessionStorage.getItem("docFiles");if(a){let{data:b,timestamp:c}=JSON.parse(a);if(Date.now()-c<3e5)return void Y(b)}let b=await fetch((0,m.getApiUrl)("/markdown")),c=await b.json();if(c.success){let a=c.data.map(a=>({name:a,displayName:a.replace(/\.md$/,"")}));Y(a),sessionStorage.setItem("docFiles",JSON.stringify({data:a,timestamp:Date.now()}))}}catch(a){console.error("获取文档列表失败:",a)}})()},[]),(0,c.useEffect)(()=>{if(!au){Q("无效的文件路径"),O(!1);return}(async()=>{try{O(!0),Q(null);let a=await fetch((0,m.getApiUrl)(`/markdown/${av}`)),b=await a.json();b.success?(K(b.data.content),M(b.data.fileSize||0),aw(b.data.content)):Q(b.message||"文件不存在")}catch(a){console.error("加载 Markdown 文件失败:",a),Q("加载文件失败")}finally{O(!1)}})()},[au,av]);let aw=a=>{let b=a.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),c=[],d=b.split("\n"),e=!1,f={};for(let a=0;a<d.length;a++){let b=d[a];if(b.startsWith("```")){e=!e;continue}if(e)continue;let g=b.match(/^(#{1,5})\s+(.+)/);if(g){let a=g[1].length,b=g[2].trim(),d=b.toLowerCase().replace(/[^\w\u4e00-\u9fa5\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim(),e=d;void 0!==f[d]?(f[d]++,e=`${d}-${f[d]}`):f[d]=0,c.push({id:e,text:b,level:a})}}W(c)},ax=(0,c.useRef)(!1);(0,c.useEffect)(()=>{let a=!1,b="",c=V.filter(a=>a.level<6),d=()=>{a||(a=!0,requestAnimationFrame(()=>{let d=ap.current;if(!d){a=!1;return}let e=d.scrollHeight-d.clientHeight,f=d.scrollTop,g=e>0?Math.min(f/e*100,100):0;if(ar.current&&(ar.current.style.width=`${g}%`),as.current&&(as.current.style.width=`${g}%`),ae(f>300),window.dispatchEvent(new CustomEvent("docsPageScroll",{detail:{scrollTop:f,canScrollTop:f>300}})),ax.current){a=!1;return}if(c.length>0){let a=c[0]?.id||"";if(f+5>=e)a=c[c.length-1]?.id||"";else for(let b=c.length-1;b>=0;b--){let d=document.getElementById(c[b].id);if(d&&d.getBoundingClientRect().top<=100){a=c[b].id;break}}a!==b&&(document.querySelectorAll(".toc-active").forEach(a=>{a.classList.remove("toc-active"),a.classList.add("toc-inactive")}),document.querySelectorAll(`[data-toc-id="${a}"]`).forEach(a=>{a.classList.remove("toc-inactive"),a.classList.add("toc-active")}),b=a)}a=!1}))},e=ap.current;return e&&(e.addEventListener("scroll",d,{passive:!0}),d()),()=>{e&&e.removeEventListener("scroll",d)}},[V]);let ay=(0,c.useCallback)(a=>{let b=document.getElementById(a),c=ap.current;if(b&&c){ax.current=!0;let d=c.getBoundingClientRect(),e=b.getBoundingClientRect(),f=c.scrollTop+(e.top-d.top)+-100;c.scrollTo({top:f,behavior:"smooth"}),setTimeout(()=>{document.querySelectorAll(".toc-active").forEach(a=>{a.classList.remove("toc-active"),a.classList.add("toc-inactive")}),document.querySelectorAll(`[data-toc-id="${a}"]`).forEach(a=>{a.classList.remove("toc-inactive"),a.classList.add("toc-active")}),ax.current=!1},400),aa(!1)}},[]);(0,c.useEffect)(()=>{_&&V.length>0&&setTimeout(()=>{let a=ap.current;if(!a)return;let b=a.scrollHeight-a.clientHeight,c=a.scrollTop,d=V[0]?.id||"";if(c+5>=b)d=V[V.length-1]?.id||"";else for(let a=V.length-1;a>=0;a--){let b=document.getElementById(V[a].id);if(b&&b.getBoundingClientRect().top<=100){d=V[a].id;break}}document.querySelectorAll(".toc-active").forEach(a=>{a.classList.remove("toc-active"),a.classList.add("toc-inactive")}),document.querySelectorAll(`[data-toc-id="${d}"]`).forEach(a=>{a.classList.remove("toc-inactive"),a.classList.add("toc-active")})},50)},[_,V]);let az=a=>{let b=a.match(/^#\s+(.+)$/m);return b?b[1]:av.replace(".md","")},aA=async()=>{try{await navigator.clipboard.writeText(window.location.href),S(!0),setTimeout(()=>S(!1),2e3)}catch(a){console.error("复制失败:",a)}},aB=au.endsWith(".md")?au:`${au}.md`,aC=X.findIndex(a=>a.name===aB),aD=aC>0?X[aC-1]:null,aE=aC>=0&&aC<X.length-1?X[aC+1]:null,aF=X.filter(a=>a.displayName.toLowerCase().includes(ab.toLowerCase()));(0,c.useEffect)(()=>{if(J){let a=az(J);p.siteTitle?document.title=`${a} - ${p.siteTitle}`:document.title=a}},[J,p.siteTitle]);let aG=a=>{let b=a.replace(/\.md$/,"");j.push(`/docs/${b}`),$(!1)},aH=(0,c.useCallback)(a=>{if(!a.trim()||!ap.current){ak([]),am(0);let a=ap.current?.querySelectorAll(".search-highlight");a?.forEach(a=>{let b=a.parentNode;b&&(b.replaceChild(document.createTextNode(a.textContent||""),a),b.normalize())});return}let b=ap.current.querySelector(".note-content");if(!b)return;b.querySelectorAll(".search-highlight").forEach(a=>{let b=a.parentNode;b&&(b.replaceChild(document.createTextNode(a.textContent||""),a),b.normalize())});let c=[],d=document.createTreeWalker(b,NodeFilter.SHOW_TEXT,null),e=[],f=a.toLowerCase();for(;d.nextNode();){let b=d.currentNode,c=(b.textContent||"").toLowerCase(),g=0,h=[];for(;-1!==(g=c.indexOf(f,g));)h.push({start:g,end:g+a.length}),g+=a.length;h.length>0&&e.push({node:b,matches:h})}let g=0;e.forEach(({node:a,matches:b})=>{let d=a.textContent||"",e=a.parentNode;if(!e)return;let f=document.createDocumentFragment(),h=0;b.forEach(({start:a,end:b})=>{a>h&&f.appendChild(document.createTextNode(d.slice(h,a)));let e=document.createElement("span");e.className="search-highlight",e.setAttribute("data-search-index",String(g)),e.textContent=d.slice(a,b),f.appendChild(e),c.push({index:g,text:d.slice(Math.max(0,a-20),Math.min(d.length,b+20)),element:e}),g++,h=b}),h<d.length&&f.appendChild(document.createTextNode(d.slice(h))),e.replaceChild(f,a)}),ak(c),am(0),c.length>0&&aI(0)},[]),aI=(0,c.useCallback)(a=>{let b=ap.current;if(!b)return;b.querySelectorAll(".search-highlight-current").forEach(a=>{a.classList.remove("search-highlight-current")});let c=b.querySelector(`[data-search-index="${a}"]`);if(c){c.classList.add("search-highlight-current");let a=b.getBoundingClientRect(),d=c.getBoundingClientRect(),e=b.scrollTop+(d.top-a.top)-100;b.scrollTo({top:e,behavior:"smooth"})}},[]),aJ=(0,c.useCallback)(()=>{if(0===aj.length)return;let a=(al+1)%aj.length;am(a),aI(a)},[al,aj.length,aI]),aK=(0,c.useCallback)(()=>{if(0===aj.length)return;let a=(al-1+aj.length)%aj.length;am(a),aI(a)},[al,aj.length,aI]),aL=(0,c.useCallback)(a=>{let b=a.target.value;ag(b),aH(b)},[aH]),aM=(0,c.useCallback)(()=>{ai(!1),ag(""),ak([]),am(0);let a=ap.current?.querySelector(".note-content");a&&a.querySelectorAll(".search-highlight").forEach(a=>{let b=a.parentNode;b&&(b.replaceChild(document.createTextNode(a.textContent||""),a),b.normalize())})},[]);if(N)return(0,b.jsx)("main",{className:"min-h-screen bg-bg-primary pt-14 lg:pt-16",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"h-8 w-3/4 bg-bg-secondary animate-pulse rounded-lg"}),(0,b.jsx)("div",{className:"h-4 w-full bg-bg-secondary animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-4 w-5/6 bg-bg-secondary animate-pulse rounded"}),(0,b.jsx)("div",{className:"h-4 w-4/5 bg-bg-secondary animate-pulse rounded"})]})})});if(P)return(0,b.jsx)("main",{className:"min-h-screen bg-bg-primary pt-14 lg:pt-16",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 py-16",children:(0,b.jsxs)(k.motion.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,b.jsx)("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-bg-secondary mb-6",children:(0,b.jsx)(o.FileText,{className:"w-10 h-10 text-text-tertiary"})}),(0,b.jsx)("h1",{className:"text-2xl font-bold text-text-primary mb-2",children:"文档未找到"}),(0,b.jsx)("p",{className:"text-text-secondary mb-6",children:P}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[(0,b.jsx)("button",{onClick:()=>j.push("/docs"),className:"px-6 py-2.5 bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors",children:"返回文档列表"}),(0,b.jsx)("button",{onClick:()=>j.push("/"),className:"px-6 py-2.5 bg-bg-secondary text-text-primary rounded-lg hover:bg-bg-tertiary transition-colors border border-border-primary",children:"返回首页"})]})]})})});let aN=az(J),aO=p.blogLogo||"",aP=p.blogLogoText||"";return(0,b.jsxs)("main",{className:"h-screen bg-bg-primary overflow-hidden relative",children:[(0,b.jsx)(E.default,{}),(0,b.jsx)("div",{className:"fixed top-0 left-0 right-0 h-1 z-[60] bg-bg-secondary/50",children:(0,b.jsx)("div",{ref:ar,className:"h-full bg-gradient-to-r from-primary-400 to-primary-600 will-change-[width]",style:{width:0,transition:"none"}})}),(0,b.jsx)("div",{className:"hidden lg:block h-16"}),(0,b.jsxs)("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between h-14 px-4 bg-bg-primary border-b border-border-primary",children:[(0,b.jsx)("button",{onClick:()=>j.push("/docs"),className:"p-2 -ml-2 rounded-lg hover:bg-bg-secondary text-text-secondary transition-colors flex items-center gap-1",children:(0,b.jsx)(C.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"文档详情"}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>{ai(!0),setTimeout(()=>aq.current?.focus(),100)},className:"p-2 rounded-lg hover:bg-bg-secondary text-text-secondary transition-colors",title:"搜索当前文档",children:(0,b.jsx)(A.Search,{className:"w-5 h-5"})}),(0,b.jsx)("button",{onClick:()=>aa(!_),className:"p-2 -mr-2 rounded-lg hover:bg-bg-secondary text-text-secondary transition-colors",title:"导航",children:(0,b.jsx)(y.Menu,{className:"w-5 h-5"})})]})]}),(0,b.jsx)(l.AnimatePresence,{children:ah&&(0,b.jsxs)(k.motion.div,{className:"absolute top-0 left-0 right-0 h-14 bg-bg-primary border-b border-border-primary flex items-center px-3 gap-2",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:[(0,b.jsx)("button",{onClick:aM,className:"p-2 rounded-lg hover:bg-bg-secondary text-text-secondary",children:(0,b.jsx)(C.ArrowLeft,{className:"w-5 h-5"})}),(0,b.jsx)("div",{className:"flex-1 relative",children:(0,b.jsx)("input",{ref:aq,type:"text",placeholder:"搜索当前文档...",value:af,onChange:aL,onKeyDown:a=>{"Enter"===a.key&&(a.preventDefault(),aJ())},className:"w-full px-3 py-2 text-sm bg-bg-secondary border border-border-primary rounded-lg text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500/50"})}),aj.length>0&&(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)("span",{className:"text-xs text-text-tertiary whitespace-nowrap",children:[al+1,"/",aj.length]}),(0,b.jsx)("button",{onClick:aK,className:"p-1.5 rounded hover:bg-bg-secondary text-text-secondary",children:(0,b.jsx)(w.ChevronUp,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:aJ,className:"p-1.5 rounded hover:bg-bg-secondary text-text-secondary",children:(0,b.jsx)(x.ChevronDown,{className:"w-4 h-4"})})]})]})})]}),(0,b.jsx)("div",{className:"lg:hidden h-14"}),(0,b.jsx)(l.AnimatePresence,{children:(Z||_)&&(0,b.jsx)(k.motion.div,{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>{$(!1),aa(!1)}})}),(0,b.jsxs)("div",{className:"max-w-[1400px] mx-auto h-[calc(100vh-3.5rem)] lg:h-[calc(100vh-4rem)] flex",children:[(0,b.jsx)("aside",{className:"w-64 h-full bg-bg-primary border-r border-border-primary overflow-y-auto scrollbar-hide hidden lg:block flex-shrink-0","data-docs-sidebar":!0,children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,b.jsxs)("button",{onClick:()=>j.push("/docs"),className:"flex items-center gap-1.5 px-2.5 py-1.5 rounded-lg hover:bg-bg-secondary text-text-secondary hover:text-primary-500 transition-colors",title:"返回文档列表",children:[(0,b.jsx)(C.ArrowLeft,{className:"w-4 h-4"}),(0,b.jsx)("span",{className:"text-sm",children:"返回列表"})]}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)("button",{onClick:()=>{ai(!ah),ah?aM():setTimeout(()=>aq.current?.focus(),100)},className:`p-2 rounded-lg transition-colors ${ah?"bg-primary-500/10 text-primary-500":"hover:bg-bg-secondary text-text-secondary hover:text-text-primary"}`,title:"搜索当前文档",children:(0,b.jsx)(A.Search,{className:"w-4 h-4"})})]}),(0,b.jsx)(l.AnimatePresence,{children:ah&&(0,b.jsx)(k.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden mb-4",children:(0,b.jsxs)("div",{className:"p-3 bg-bg-secondary rounded-lg border border-border-primary",children:[(0,b.jsx)("div",{className:"relative mb-2",children:(0,b.jsx)("input",{ref:aq,type:"text",placeholder:"搜索当前文档内容...",value:af,onChange:aL,onKeyDown:a=>{"Enter"===a.key?(a.preventDefault(),aJ()):"Escape"===a.key&&aM()},className:"w-full px-3 py-2 text-sm bg-bg-primary border border-border-primary rounded-lg text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500/50"})}),aj.length>0&&(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-xs text-text-tertiary",children:[al+1," / ",aj.length," 个结果"]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:aK,className:"p-1 rounded hover:bg-bg-tertiary text-text-secondary",title:"上一个",children:(0,b.jsx)(w.ChevronUp,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:aJ,className:"p-1 rounded hover:bg-bg-tertiary text-text-secondary",title:"下一个",children:(0,b.jsx)(x.ChevronDown,{className:"w-4 h-4"})}),(0,b.jsx)("button",{onClick:aM,className:"p-1 rounded hover:bg-bg-tertiary text-text-secondary",title:"关闭",children:(0,b.jsx)(z.X,{className:"w-4 h-4"})})]})]}),af&&0===aj.length&&(0,b.jsx)("p",{className:"text-xs text-text-tertiary",children:"未找到匹配内容"})]})})}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-3 px-1",children:[(0,b.jsx)(t,{className:"w-4 h-4 text-primary-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"文档列表"})]}),(0,b.jsx)("nav",{className:"space-y-1",children:0===aF.length?(0,b.jsx)("p",{className:"text-sm text-text-tertiary py-2 text-center",children:"未找到匹配的文档"}):aF.map(a=>(0,b.jsxs)("button",{onClick:()=>aG(a.name),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-left transition-all ${aB===a.name?"bg-primary-500/10 text-primary-500 font-medium":"text-text-secondary hover:bg-bg-secondary hover:text-text-primary"}`,children:[(0,b.jsx)(o.FileText,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.displayName})]},a.name))})]})}),(0,b.jsx)(l.AnimatePresence,{children:Z&&(0,b.jsx)(k.motion.aside,{className:"fixed top-14 left-0 z-40 w-72 h-[calc(100vh-3.5rem)] bg-bg-primary border-r border-border-primary overflow-y-auto scrollbar-hide lg:hidden",initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{type:"spring",damping:25,stiffness:300},children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("a",{href:"/",className:"flex items-center justify-center gap-3 mb-4 pb-4 border-b border-border-primary",children:[aO&&(0,b.jsx)("img",{src:(0,m.getImageUrl)(aO),alt:"Logo",className:"h-8 w-auto object-contain",onError:a=>{a.target.style.display="none"}}),aP?(0,b.jsx)("span",{className:"text-lg font-bold text-text-primary",children:aP}):!aO&&p.siteTitle&&(0,b.jsx)("span",{className:"text-lg font-bold text-text-primary",children:p.siteTitle})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("button",{onClick:()=>{j.push("/docs"),$(!1)},className:"flex items-center gap-2 text-text-primary hover:text-primary-500 transition-colors",children:[(0,b.jsx)(v.ChevronLeft,{className:"w-5 h-5 text-primary-500"}),(0,b.jsx)("span",{className:"text-base font-semibold",children:"返回文档列表"})]}),(0,b.jsx)("button",{onClick:()=>$(!1),className:"p-1 rounded hover:bg-bg-secondary text-text-tertiary",children:(0,b.jsx)(z.X,{className:"w-4 h-4"})})]}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)(A.Search,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-4 h-4 text-text-tertiary"}),(0,b.jsx)("input",{type:"text",placeholder:"搜索文档...",value:ab,onChange:a=>ac(a.target.value),className:"w-full pl-8 pr-3 py-2 text-sm bg-bg-secondary border border-border-primary rounded-lg text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500/50 focus:border-primary-500 transition-all"})]}),(0,b.jsx)("nav",{className:"space-y-1",children:aF.map(a=>(0,b.jsxs)("button",{onClick:()=>aG(a.name),className:`w-full flex items-center gap-2 px-3 py-2 rounded-lg text-sm text-left transition-all ${aB===a.name?"bg-primary-500/10 text-primary-500 font-medium":"text-text-secondary hover:bg-bg-secondary hover:text-text-primary"}`,children:[(0,b.jsx)(o.FileText,{className:"w-4 h-4 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.displayName})]},a.name))})]})})}),(0,b.jsx)("div",{className:"flex-1 min-w-0 h-full overflow-y-auto scrollbar-hide",ref:ap,"data-docs-content":!0,style:{WebkitOverflowScrolling:"touch",transform:"translateZ(0)",backfaceVisibility:"hidden"},children:(0,b.jsxs)("div",{className:"px-4 lg:px-8 py-4 lg:py-6",children:[(0,b.jsx)("div",{className:"hidden lg:block sticky top-0 z-20 -mx-8 px-8 pt-4 -mt-4 pb-4 bg-bg-primary",children:(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 bg-bg-secondary/95 backdrop-blur-sm rounded-xl border border-border-primary shadow-md",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,b.jsx)(B.BookOpen,{className:"w-4 h-4 text-primary-500 flex-shrink-0"}),(0,b.jsx)("button",{onClick:()=>j.push("/docs"),className:"text-sm font-semibold text-text-primary hover:text-primary-500 transition-colors flex-shrink-0",children:"全部文档"}),(0,b.jsx)(u.ChevronRight,{className:"w-4 h-4 text-text-tertiary flex-shrink-0"}),(0,b.jsx)("span",{className:"text-sm text-text-secondary truncate",children:aN})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 flex-shrink-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5 px-3 py-1.5 text-xs text-text-tertiary bg-bg-tertiary/50 rounded-lg",children:[(0,b.jsx)(o.FileText,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{children:(a=>{if(0===a)return"0 B";let b=Math.floor(Math.log(a)/Math.log(1024));return parseFloat((a/Math.pow(1024,b)).toFixed(2))+" "+["B","KB","MB","GB"][b]})(L)})]}),(0,b.jsx)("button",{onClick:aA,className:"p-2 rounded-lg hover:bg-bg-tertiary text-text-secondary transition-colors",title:"复制链接",children:R?(0,b.jsx)(r,{className:"w-5 h-5 text-green-500"}):(0,b.jsx)(q,{className:"w-5 h-5"})})]})]})}),(0,b.jsx)("article",{className:"note-content max-w-none prose-headings:scroll-mt-20",children:(0,b.jsx)(e.default,{remarkPlugins:[f.default,g.default],rehypePlugins:[h.default,H,i.default],components:{a:({href:a,children:c,...d})=>{let e=a?.startsWith("http");if((a?.endsWith(".md")||a?.startsWith("/docs/")&&!a?.startsWith("http"))&&a){let d=a.replace(/\.md$/,"").replace(/^\/docs\//,"");return(0,b.jsx)("button",{onClick:()=>j.push(`/docs/${d}`),className:"text-primary-500 hover:underline inline-flex items-center gap-1",children:c})}return(0,b.jsxs)("a",{href:a,target:e?"_blank":void 0,rel:e?"noopener noreferrer":void 0,className:"inline-flex items-center gap-1",...d,children:[c,e&&(0,b.jsx)(s.ExternalLink,{className:"w-3 h-3"})]})},pre:({node:a,children:d,...e})=>{let f=a=>"string"==typeof a?a:Array.isArray(a)?a.map(f).join(""):c.default.isValidElement(a)?f(a.props.children||""):"",g=f(d),h=(a=>{if(c.default.isValidElement(a)){let b=a.props,c=b?.className||"",d=/language-(\w+)/.exec(c);return d?d[1]:""}return""})(d);return"mermaid"===h?(0,b.jsx)(G.default,{chart:g}):(0,b.jsxs)("div",{className:"relative my-4 group code-block-wrapper",children:[h&&(0,b.jsx)("span",{className:"code-language-label",children:h}),(0,b.jsx)(F.default,{text:g}),(0,b.jsx)("pre",{className:"code-block",...e,children:d})]})},code:({node:a,className:c,children:d,...e})=>c&&c.includes("language-")?(0,b.jsx)("code",{className:`block-code ${c||""}`,...e,children:d}):(0,b.jsx)("code",{className:"inline-code",...e,children:d}),img:({src:a,alt:c,...d})=>(0,b.jsx)("img",{src:a,alt:c||"",loading:"lazy",className:"max-w-full h-auto",...d})},children:J})}),(aD||aE)&&(0,b.jsxs)(k.motion.div,{className:"mt-12 flex flex-wrap justify-between gap-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[aD?(0,b.jsxs)("button",{onClick:()=>aG(aD.name),className:"group inline-flex flex-col items-start px-3 py-2 rounded-md border border-border-primary hover:border-primary-500/50 hover:bg-bg-secondary transition-all text-left max-w-[45%]",children:[(0,b.jsxs)("span",{className:"text-xs text-text-tertiary mb-0.5 flex items-center gap-1",children:[(0,b.jsx)(v.ChevronLeft,{className:"w-3 h-3"}),"上一篇"]}),(0,b.jsx)("span",{className:"text-sm text-text-primary font-medium group-hover:text-primary-500 transition-colors truncate max-w-full",children:aD.displayName})]}):(0,b.jsx)("div",{}),aE?(0,b.jsxs)("button",{onClick:()=>aG(aE.name),className:"group inline-flex flex-col items-end px-3 py-2 rounded-md border border-border-primary hover:border-primary-500/50 hover:bg-bg-secondary transition-all text-right max-w-[45%] ml-auto",children:[(0,b.jsxs)("span",{className:"text-xs text-text-tertiary mb-0.5 flex items-center gap-1",children:["下一篇",(0,b.jsx)(u.ChevronRight,{className:"w-3 h-3"})]}),(0,b.jsx)("span",{className:"text-sm text-text-primary font-medium group-hover:text-primary-500 transition-colors truncate max-w-full",children:aE.displayName})]}):(0,b.jsx)("div",{})]}),(0,b.jsx)("footer",{className:"mt-16 pt-8 border-t border-border-primary",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 text-sm text-text-tertiary",children:[(0,b.jsx)("p",{dangerouslySetInnerHTML:{__html:p.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`}}),(0,b.jsx)(D.default,{})]})})]})}),(0,b.jsx)("aside",{className:"w-64 h-full bg-bg-primary border-l border-border-primary overflow-y-auto scrollbar-hide hidden lg:block flex-shrink-0","data-docs-sidebar":!0,children:(0,b.jsxs)("div",{className:"p-4",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between text-xs text-text-tertiary mb-2",children:(0,b.jsxs)("span",{className:"font-medium text-text-secondary",children:["目录树 (",V.length,")"]})}),(0,b.jsx)("div",{className:"h-1 bg-bg-secondary rounded-full overflow-hidden",children:(0,b.jsx)("div",{ref:as,className:"h-full bg-primary-500 will-change-[width]",style:{width:0,transition:"none"}})})]}),V.length>0?(0,b.jsx)("nav",{className:"space-y-0.5",children:V.map((a,c)=>(0,b.jsx)("button",{"data-toc-id":a.id,onClick:()=>ay(a.id),className:`toc-item w-full text-left text-[13px] py-1.5 px-3 rounded-lg truncate block ${0===c?"toc-active":"toc-inactive"}`,style:{paddingLeft:`${(a.level-1)*12+12}px`},title:a.text,children:a.text},`${a.id}-${c}`))}):(0,b.jsx)("p",{className:"text-sm text-text-tertiary text-center py-4",children:"暂无目录"})]})}),(0,b.jsx)(l.AnimatePresence,{children:_&&(0,b.jsxs)(k.motion.aside,{className:"fixed top-14 right-0 z-40 w-72 h-[calc(100vh-3.5rem)] bg-bg-primary border-l border-border-primary lg:hidden flex flex-col pt-3",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:300},children:[(0,b.jsxs)("div",{className:"mx-4 mb-3 border border-border-primary rounded-lg overflow-hidden flex-shrink-0",children:[(0,b.jsxs)("button",{onClick:()=>ao(!an),className:"w-full flex items-center justify-between px-3 py-2.5 bg-bg-secondary hover:bg-bg-tertiary transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(t,{className:"w-4 h-4 text-primary-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"文档列表"})]}),(0,b.jsx)(k.motion.div,{animate:{rotate:180*!!an},transition:{duration:.2},children:(0,b.jsx)(x.ChevronDown,{className:"w-4 h-4 text-text-tertiary"})})]}),(0,b.jsx)(l.AnimatePresence,{children:an&&(0,b.jsx)(k.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:"overflow-hidden",children:(0,b.jsxs)("div",{className:"max-h-48 overflow-y-auto border-t border-border-primary",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[(0,b.jsx)("div",{className:"p-2 border-b border-border-primary",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(A.Search,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-text-tertiary"}),(0,b.jsx)("input",{type:"text",placeholder:"搜索文档...",value:ab,onChange:a=>ac(a.target.value),className:"w-full pl-7 pr-2 py-1.5 text-xs bg-bg-primary border border-border-primary rounded text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-1 focus:ring-primary-500/50"})]})}),(0,b.jsx)("nav",{className:"p-2 space-y-0.5",children:0===aF.length?(0,b.jsx)("p",{className:"text-xs text-text-tertiary py-2 text-center",children:"未找到匹配的文档"}):aF.map(a=>(0,b.jsxs)("button",{onClick:()=>{aG(a.name),aa(!1)},className:`w-full flex items-center gap-2 px-2 py-1.5 rounded text-xs text-left transition-all ${aB===a.name?"bg-primary-500/10 text-primary-500 font-medium":"text-text-secondary hover:bg-bg-secondary hover:text-text-primary"}`,children:[(0,b.jsx)(o.FileText,{className:"w-3.5 h-3.5 flex-shrink-0"}),(0,b.jsx)("span",{className:"truncate",children:a.displayName})]},a.name))})]})})})]}),(0,b.jsxs)("div",{className:"mx-4 mb-4 flex-1 min-h-0 border border-border-primary rounded-lg overflow-hidden flex flex-col",children:[(0,b.jsx)("div",{className:"px-3 py-2.5 bg-bg-secondary border-b border-border-primary flex-shrink-0",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(B.BookOpen,{className:"w-4 h-4 text-primary-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary",children:"目录树"})]})}),(0,b.jsxs)("div",{className:"px-3 py-2 border-b border-border-primary flex-shrink-0",children:[(0,b.jsx)("div",{className:"flex items-center justify-between text-xs text-text-tertiary mb-1.5",children:(0,b.jsx)("span",{children:"阅读进度"})}),(0,b.jsx)("div",{className:"h-1 bg-bg-secondary rounded-full overflow-hidden",children:(0,b.jsx)("div",{className:"h-full bg-primary-500 will-change-[width]",style:{width:0,transition:"none"}})})]}),(0,b.jsx)("div",{className:"flex-1 overflow-y-auto",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:V.length>0?(0,b.jsx)("nav",{className:"p-2 space-y-0.5",children:V.map((a,c)=>(0,b.jsx)("button",{"data-toc-id":a.id,onClick:()=>ay(a.id),className:`toc-item w-full text-left text-[13px] py-1.5 px-3 rounded-lg truncate block ${0===c?"toc-active":"toc-inactive"}`,style:{paddingLeft:`${(a.level-1)*12+12}px`},title:a.text,children:a.text},`mobile-${a.id}-${c}`))}):(0,b.jsx)("p",{className:"text-sm text-text-tertiary text-center py-4",children:"暂无目录"})})]})]})})]})]})}a.s(["default",()=>I],738322)}];

//# sourceMappingURL=src_app_docs_%5B___slug%5D_page_tsx_0c4963b5._.js.map