{"version":3,"sources":["../../../../src/app/social-feed/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { getApiUrl, getImageUrl } from '@/lib/api';\r\nimport Copyright from '@/components/Copyright';\r\nimport './SocialFeed.css';\r\n\r\ninterface Profile {\r\n  cover_image: string;\r\n  avatar: string;\r\n  nickname: string;\r\n  signature: string;\r\n  custom_copyright: string;\r\n}\r\n\r\ninterface Post {\r\n  id: number;\r\n  content: string;\r\n  images: string[];\r\n  thumbnails?: string[];  // Áº©Áï•ÂõæË∑ØÂæÑÊï∞ÁªÑ\r\n  video: string | null;\r\n  likes_count: number;\r\n  comments_count: number;\r\n  is_pinned: boolean;\r\n  created_at: string;\r\n}\r\n\r\n// Âà§Êñ≠ÊòØÂê¶ÊòØËßÜÈ¢ëÊñá‰ª∂ - ÁßªÂà∞ÁªÑ‰ª∂Â§ñÈÉ®\r\n// ÊîØÊåÅÊ†áÂáÜËßÜÈ¢ëÊâ©Â±ïÂêçÂíåÂ∏¶ #.mp4 Ê†áËÆ∞ÁöÑURLÔºàÁî®‰∫éÊäñÈü≥Á≠âÁ¨¨‰∏âÊñπËßÜÈ¢ëÔºâ\r\nconst isVideoFile = (url: string) => {\r\n  const videoExtensions = ['.mp4', '.webm', '.ogg', '.mov', '.avi'];\r\n  const lowerUrl = url.toLowerCase();\r\n  // Ê£ÄÊü•Ê†áÂáÜÊâ©Â±ïÂêçÊàñ #.mp4 Ê†áËÆ∞\r\n  return videoExtensions.some(ext => lowerUrl.endsWith(ext) || lowerUrl.endsWith('#' + ext.slice(1)));\r\n};\r\n\r\n// ÊáíÂä†ËΩΩÂõæÁâáÁªÑ‰ª∂ - ‰ΩøÁî® IntersectionObserver\r\nconst LazyImage = ({\r\n  src,\r\n  alt,\r\n  onClick,\r\n  className = ''\r\n}: {\r\n  src: string,\r\n  alt: string,\r\n  onClick?: () => void,\r\n  className?: string\r\n}) => {\r\n  const imgRef = useRef<HTMLImageElement>(null);\r\n  const [isLoaded, setIsLoaded] = useState(false);\r\n  const [isInView, setIsInView] = useState(false);\r\n  const [hasError, setHasError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const img = imgRef.current;\r\n    if (!img) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsInView(true);\r\n            observer.disconnect();\r\n          }\r\n        });\r\n      },\r\n      { rootMargin: '100px', threshold: 0.1 }\r\n    );\r\n\r\n    observer.observe(img);\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  // Â§ÑÁêÜÂõæÁâáÂä†ËΩΩÈîôËØØ - ÂØπ‰∫éÁ¨¨‰∏âÊñπÂõæÁâáÔºåÁõ¥Êé•‰ΩøÁî®ÂéüÂõæ\r\n  const handleError = () => {\r\n    setHasError(true);\r\n    setIsLoaded(true);\r\n  };\r\n\r\n  return (\r\n    <img\r\n      ref={imgRef}\r\n      src={isInView ? src : undefined}\r\n      data-src={src}\r\n      alt={alt}\r\n      onClick={onClick}\r\n      className={`${className} ${isLoaded ? 'sf-img-loaded' : 'sf-img-loading'}`}\r\n      onLoad={() => setIsLoaded(true)}\r\n      onError={handleError}\r\n      style={{\r\n        backgroundColor: isLoaded ? 'transparent' : undefined,\r\n        display: hasError && !isLoaded ? 'none' : undefined\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\n// Ê∏ÖÁêÜËßÜÈ¢ëURL - ÁßªÈô§ #.mp4 Á≠âÊ†áËÆ∞\r\nconst cleanVideoUrl = (url: string) => {\r\n  // ÁßªÈô§ #.mp4, #.webm Á≠âÊ†áËÆ∞\r\n  return url.replace(/#\\.(mp4|webm|ogg|mov|avi)$/i, '');\r\n};\r\n\r\n// Âà§Êñ≠ÊòØÂê¶ÊòØÂ§ñÈÉ®URLÔºàÁ¨¨‰∏âÊñπÂ≠òÂÇ®Ôºâ\r\nconst isExternalUrl = (url: string) => {\r\n  return url.startsWith('http://') || url.startsWith('https://');\r\n};\r\n\r\n// ÊáíÂä†ËΩΩËßÜÈ¢ëÁªÑ‰ª∂ - Âè™È¢ÑÂä†ËΩΩ metadataÔºåÁÇπÂáªÊâçÂä†ËΩΩÂÆåÊï¥ËßÜÈ¢ëÔºåÁ¶ªÂºÄËßÜÂè£Ëá™Âä®ÊöÇÂÅú\r\nconst LazyVideo = ({ video, images }: { video: string | null, images: string[] }) => {\r\n  const rawVideoUrl = video || images.find(img => isVideoFile(img));\r\n  const videoRef = useRef<HTMLVideoElement>(null);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const [isInView, setIsInView] = useState(false);\r\n  const [isActivated, setIsActivated] = useState(false);\r\n  const [showPlayButton, setShowPlayButton] = useState(true);\r\n\r\n  // ÊáíÂä†ËΩΩ - ËøõÂÖ•ËßÜÂè£Êó∂Âä†ËΩΩËßÜÈ¢ë\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    if (!container) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            setIsInView(true);\r\n            observer.disconnect();\r\n          }\r\n        });\r\n      },\r\n      { rootMargin: '50px', threshold: 0.1 }\r\n    );\r\n\r\n    observer.observe(container);\r\n    return () => observer.disconnect();\r\n  }, []);\r\n\r\n  // Á¶ªÂºÄËßÜÂè£Êó∂ÊöÇÂÅúËßÜÈ¢ë\r\n  useEffect(() => {\r\n    const container = containerRef.current;\r\n    const videoEl = videoRef.current;\r\n    if (!container || !videoEl) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (!entry.isIntersecting && !videoEl.paused) {\r\n            videoEl.pause();\r\n          }\r\n        });\r\n      },\r\n      { threshold: 0 }\r\n    );\r\n\r\n    observer.observe(container);\r\n    return () => observer.disconnect();\r\n  }, [isInView]); // Âè™Âú®ËßÜÈ¢ëÂä†ËΩΩÂêéÊâçÂêØÂä®Ëøô‰∏™ observer\r\n\r\n  if (!rawVideoUrl) return null;\r\n\r\n  // Ê∏ÖÁêÜURLÂπ∂Âà§Êñ≠ÊòØÂê¶ÊòØÂ§ñÈÉ®ÈìæÊé•\r\n  const cleanedUrl = cleanVideoUrl(rawVideoUrl);\r\n  const isExternal = isExternalUrl(cleanedUrl);\r\n  // Â§ñÈÉ®ËßÜÈ¢ëÈÄöËøáÂêéÁ´Ø‰ª£ÁêÜÊí≠ÊîæÔºàËß£ÂÜ≥Ë∑®ÂüüÂíåÈò≤ÁõóÈìæÈóÆÈ¢òÔºâ\r\n  const finalVideoUrl = isExternal\r\n    ? getApiUrl(`/proxy/video?url=${encodeURIComponent(cleanedUrl)}`)\r\n    : getImageUrl(cleanedUrl);\r\n\r\n  const handlePlay = () => {\r\n    setIsActivated(true);\r\n    setShowPlayButton(false);\r\n    setTimeout(() => {\r\n      videoRef.current?.play();\r\n    }, 100);\r\n  };\r\n\r\n  const handleVideoPlay = () => {\r\n    setShowPlayButton(false);\r\n  };\r\n\r\n  const handleVideoPause = () => {\r\n    setShowPlayButton(true);\r\n  };\r\n\r\n  return (\r\n    <div className=\"sf-video\" ref={containerRef}>\r\n      {isInView && (\r\n        <div className=\"sf-video-wrapper\">\r\n          <video\r\n            ref={videoRef}\r\n            src={finalVideoUrl}\r\n            controls\r\n            preload={isActivated ? 'auto' : 'metadata'}\r\n            onPlay={handleVideoPlay}\r\n            onPause={handleVideoPause}\r\n            playsInline\r\n          />\r\n          {showPlayButton && (\r\n            <div className=\"sf-video-play-btn\" onClick={handlePlay}>\r\n              <svg viewBox=\"0 0 24 24\" fill=\"currentColor\">\r\n                <path d=\"M8 5v14l11-7z\" />\r\n              </svg>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ÂõæÁâáÁΩëÊ†ºÁªÑ‰ª∂ - ‰ΩøÁî®ÊáíÂä†ËΩΩÂíåÁº©Áï•Âõæ\r\nconst ImageGrid = ({\r\n  images,\r\n  thumbnails,\r\n  isFourImages = false,\r\n  onImageClick\r\n}: {\r\n  images: string[],\r\n  thumbnails?: string[],\r\n  isFourImages?: boolean,\r\n  onImageClick: (images: string[], index: number) => void\r\n}) => {\r\n  const imageFiles = images.filter(img => !isVideoFile(img));\r\n  if (imageFiles.length === 0) return null;\r\n\r\n  // Ëé∑ÂèñÂØπÂ∫îÁöÑÁº©Áï•ÂõæÔºåÂ¶ÇÊûúÊ≤°ÊúâÂàô‰ΩøÁî®ÂéüÂõæ\r\n  // ÂØπ‰∫éÁ¨¨‰∏âÊñπÂ≠òÂÇ®ÁöÑÂõæÁâáÔºàÂ§ñÈÉ®URLÔºâÔºåÁõ¥Êé•‰ΩøÁî®ÂéüÂõæÔºå‰∏ç‰ΩøÁî®Áº©Áï•Âõæ\r\n  const getThumbnail = (index: number) => {\r\n    const originalUrl = imageFiles[index];\r\n    // Â¶ÇÊûúÊòØÂ§ñÈÉ®URLÔºåÁõ¥Êé•ËøîÂõûÂéüÂõæ\r\n    if (isExternalUrl(originalUrl)) {\r\n      return originalUrl;\r\n    }\r\n    // Êú¨Âú∞ÂõæÁâá‰ΩøÁî®Áº©Áï•Âõæ\r\n    if (thumbnails && thumbnails[index]) {\r\n      return getImageUrl(thumbnails[index]);\r\n    }\r\n    return getImageUrl(originalUrl);\r\n  };\r\n\r\n  if (imageFiles.length === 1) {\r\n    return (\r\n      <div className=\"sf-pic-grid sf-pic-1\">\r\n        <LazyImage\r\n          src={getThumbnail(0)}\r\n          onClick={() => onImageClick(imageFiles, 0)}\r\n          alt=\"Âä®ÊÄÅÂõæÁâá\"\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`sf-pic-grid ${isFourImages ? 'sf-pic-4' : ''}`}>\r\n      {imageFiles.map((img, index) => (\r\n        <LazyImage\r\n          key={index}\r\n          src={getThumbnail(index)}\r\n          onClick={() => onImageClick(imageFiles, index)}\r\n          alt={`Âä®ÊÄÅÂõæÁâá${index + 1}`}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\n// ÂèØÂ±ïÂºÄ/Êî∂Ëµ∑ÁöÑÊñáÊú¨ÁªÑ‰ª∂ - ‰ΩøÁî® memo Èò≤Ê≠¢‰∏çÂøÖË¶ÅÁöÑÈáçÊñ∞Ê∏≤Êüì\r\nconst ExpandableText = React.memo(({ content, maxLines = 4 }: { content: string, maxLines?: number }) => {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [needsExpand, setNeedsExpand] = useState(false);\r\n  const textRef = useRef<HTMLDivElement>(null);\r\n  const fullTextRef = useRef<HTMLDivElement>(null);\r\n  const contentIdRef = useRef(0);\r\n\r\n  // Ê£ÄÊü•ÂÜÖÂÆπÊòØÂê¶ÂåÖÂê´ iframe\r\n  const hasIframe = content && content.includes('<iframe');\r\n\r\n  // ÂàÜÁ¶ªÊñáÂ≠óÂÜÖÂÆπÂíå iframe ÂÜÖÂÆπ\r\n  const separateContent = (text: string) => {\r\n    if (!text) return { textPart: '', iframePart: '' };\r\n\r\n    // ÂåπÈÖç iframe Ê†áÁ≠æÔºàÂåÖÊã¨ÂÜÖÂÆπÂíåÁªìÊùüÊ†áÁ≠æÔºâ\r\n    const iframeRegex = /<iframe[\\s\\S]*?<\\/iframe>/gi;\r\n    const iframes = text.match(iframeRegex) || [];\r\n    const textPart = text.replace(iframeRegex, '').trim();\r\n    const iframePart = iframes.join('');\r\n\r\n    return { textPart, iframePart };\r\n  };\r\n\r\n  const { textPart, iframePart } = separateContent(content);\r\n\r\n  // Â§ÑÁêÜÂÜÖÂÆπÔºöÊç¢Ë°åÁ¨¶ËΩ¨ <br>ÔºåÂ§ÑÁêÜ iframe\r\n  const processContent = (text: string) => {\r\n    if (!text) return '';\r\n    // ÂÖàÂ∞ÜÊç¢Ë°åÁ¨¶ËΩ¨Êç¢‰∏∫ <br>\r\n    let processed = text.replace(/\\n/g, '<br>');\r\n    // Â§ÑÁêÜ iframe Á¶ÅÊ≠¢Ëá™Âä®Êí≠ÊîæÔºåÂπ∂Ê∑ªÂä† loading=\"lazy\"\r\n    // ÁΩëÊòì‰∫ëÈü≥‰πê iframe Ê∑ªÂä†ÂåÖË£πÂÆπÂô®ÔºàÁî®‰∫éÊ∑±Ëâ≤Ê®°ÂºèË£ÅÂâ™Èò¥ÂΩ±Ôºâ\r\n    processed = processed.replace(/<iframe([^>]*)src=\"([^\"]*)\"([^>]*)>([\\s\\S]*?)<\\/iframe>/gi, (match, before, src, after, content) => {\r\n      let newSrc = src;\r\n      if (!src.includes('autoplay=')) {\r\n        newSrc = src + (src.includes('?') ? '&' : '?') + 'autoplay=0';\r\n      } else {\r\n        newSrc = src.replace(/autoplay=1/gi, 'autoplay=0');\r\n      }\r\n      // Ê∑ªÂä† loading=\"lazy\" Èò≤Ê≠¢‰∏çÂøÖË¶ÅÁöÑÈáçÊñ∞Âä†ËΩΩ\r\n      const hasLoading = before.includes('loading=') || after.includes('loading=');\r\n      const loadingAttr = hasLoading ? '' : ' loading=\"lazy\"';\r\n      const iframeHtml = `<iframe${before}src=\"${newSrc}\"${after}${loadingAttr}>${content}</iframe>`;\r\n\r\n      // ÁΩëÊòì‰∫ëÈü≥‰πê iframe Áî®ÂÆπÂô®ÂåÖË£πÔºàÊ∑±Ëâ≤Ê®°Âºè‰∏ãÁî®‰∫éË£ÅÂâ™Èò¥ÂΩ±Ôºâ\r\n      if (src.includes('music.163.com')) {\r\n        return `<div class=\"sf-music163-wrapper\">${iframeHtml}</div>`;\r\n      }\r\n      return iframeHtml;\r\n    });\r\n    return processed;\r\n  };\r\n\r\n  const processedTextHtml = processContent(textPart);\r\n  const processedIframeHtml = processContent(iframePart);\r\n\r\n  // Âè™Âú® content ÂèòÂåñÊó∂Êõ¥Êñ∞ key\r\n  useEffect(() => {\r\n    contentIdRef.current += 1;\r\n  }, [content]);\r\n\r\n  // Ê£ÄÊµãÊñáÂ≠óÈÉ®ÂàÜÊòØÂê¶ÈúÄË¶ÅÂ±ïÂºÄÊåâÈíÆ\r\n  useEffect(() => {\r\n    const checkHeight = () => {\r\n      const textEl = textRef.current;\r\n      const fullEl = fullTextRef.current;\r\n      if (!textEl || !fullEl) return;\r\n\r\n      // Âè™Ê£ÄÊµãÊñáÂ≠óÈÉ®ÂàÜÁöÑÈ´òÂ∫¶\r\n      const lineHeight = parseFloat(getComputedStyle(textEl).lineHeight) || 21;\r\n      const maxHeight = lineHeight * maxLines;\r\n\r\n      const actualHeight = fullEl.scrollHeight;\r\n      if (actualHeight > maxHeight + 5) {\r\n        setNeedsExpand(true);\r\n      } else {\r\n        setNeedsExpand(false);\r\n      }\r\n    };\r\n\r\n    // Âª∂ËøüÊ£ÄÊµãÔºåÁ°Æ‰øù DOM Ê∏≤ÊüìÂÆåÊàê\r\n    const timer = setTimeout(checkHeight, 100);\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [textPart, maxLines]);\r\n\r\n  // ‰ΩøÁî® key Êù•ÊéßÂà∂ iframe ÁöÑÈáçÊñ∞Ê∏≤ÊüìÔºåÂè™Êúâ content ÂèòÂåñÊó∂ÊâçÈáçÊñ∞Ê∏≤Êüì\r\n  const contentKey = `content-${contentIdRef.current}`;\r\n\r\n  // Â¶ÇÊûúÊúâ iframeÔºåÂàÜÂºÄÊ∏≤ÊüìÊñáÂ≠óÂíå iframe\r\n  if (hasIframe) {\r\n    return (\r\n      <div className=\"sf-text-wrapper\">\r\n        {/* ÊñáÂ≠óÈÉ®ÂàÜ */}\r\n        {textPart && (\r\n          <>\r\n            {/* ÈöêËóèÁöÑÂÆåÊï¥ÊñáÂ≠óÂÜÖÂÆπÔºåÁî®‰∫éÊµãÈáèÈ´òÂ∫¶ */}\r\n            <div\r\n              ref={fullTextRef}\r\n              className=\"sf-text sf-text-measure\"\r\n              dangerouslySetInnerHTML={{ __html: processedTextHtml }}\r\n              style={{ position: 'absolute', visibility: 'hidden', width: '100%', pointerEvents: 'none' }}\r\n            />\r\n\r\n            {/* ÊòæÁ§∫ÁöÑÊñáÂ≠óÂÜÖÂÆπ */}\r\n            <div\r\n              ref={textRef}\r\n              className={`sf-text ${!isExpanded && needsExpand ? 'sf-text-collapsed' : ''}`}\r\n              style={!isExpanded && needsExpand ? {\r\n                WebkitLineClamp: maxLines,\r\n                display: '-webkit-box',\r\n                WebkitBoxOrient: 'vertical',\r\n                overflow: 'hidden'\r\n              } as React.CSSProperties : undefined}\r\n              dangerouslySetInnerHTML={{ __html: processedTextHtml }}\r\n            />\r\n\r\n            {/* Â±ïÂºÄ/Êî∂Ëµ∑ÊåâÈíÆ - ÊîæÂú® iframe ‰∏äÊñπ */}\r\n            {needsExpand && (\r\n              <span\r\n                className=\"sf-text-toggle\"\r\n                onClick={() => setIsExpanded(!isExpanded)}\r\n              >\r\n                {isExpanded ? 'Êî∂Ëµ∑' : 'Â±ïÂºÄ'}\r\n              </span>\r\n            )}\r\n          </>\r\n        )}\r\n\r\n        {/* iframe ÈÉ®ÂàÜ - ÂßãÁªàÂÆåÊï¥ÊòæÁ§∫ */}\r\n        <div\r\n          className=\"sf-text sf-iframe-container\"\r\n          dangerouslySetInnerHTML={{ __html: processedIframeHtml }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Ê≤°Êúâ iframe ÁöÑÊÉÖÂÜµÔºå‰øùÊåÅÂéüÊúâÈÄªËæë\r\n  const processedHtml = processContent(content);\r\n\r\n  return (\r\n    <div className=\"sf-text-wrapper\">\r\n      {/* ÈöêËóèÁöÑÂÆåÊï¥ÂÜÖÂÆπÔºåÁî®‰∫éÊµãÈáèÈ´òÂ∫¶ */}\r\n      <div\r\n        ref={fullTextRef}\r\n        className=\"sf-text sf-text-measure\"\r\n        dangerouslySetInnerHTML={{ __html: processedHtml }}\r\n        style={{ position: 'absolute', visibility: 'hidden', width: '100%', pointerEvents: 'none' }}\r\n      />\r\n\r\n      {/* ÊòæÁ§∫ÁöÑÂÜÖÂÆπ */}\r\n      <div\r\n        key={contentKey}\r\n        ref={textRef}\r\n        className={`sf-text ${!isExpanded && needsExpand ? 'sf-text-collapsed' : ''}`}\r\n        style={!isExpanded && needsExpand ? {\r\n          WebkitLineClamp: maxLines,\r\n          display: '-webkit-box',\r\n          WebkitBoxOrient: 'vertical',\r\n          overflow: 'hidden'\r\n        } as React.CSSProperties : undefined}\r\n        dangerouslySetInnerHTML={{ __html: processedHtml }}\r\n      />\r\n\r\n      {/* Â±ïÂºÄ/Êî∂Ëµ∑ÊåâÈíÆ */}\r\n      {needsExpand && (\r\n        <span\r\n          className=\"sf-text-toggle\"\r\n          onClick={() => setIsExpanded(!isExpanded)}\r\n        >\r\n          {isExpanded ? 'Êî∂Ëµ∑' : 'Â±ïÂºÄ'}\r\n        </span>\r\n      )}\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default function SocialFeedPage() {\r\n  const [profile, setProfile] = useState<Profile>({\r\n    cover_image: '',\r\n    avatar: '',\r\n    nickname: 'ÊúãÂèãÂúà',\r\n    signature: '',\r\n    custom_copyright: ''\r\n  });\r\n  const [posts, setPosts] = useState<Post[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  // ÂàÜÈ°µÁä∂ÊÄÅ\r\n  const [page, setPage] = useState(1);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const loadMoreRef = useRef<HTMLDivElement>(null);\r\n  const POSTS_PER_PAGE = 10;\r\n\r\n  // Lightbox Áä∂ÊÄÅ\r\n  const [currentImageList, setCurrentImageList] = useState<string[]>([]);\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [showLightbox, setShowLightbox] = useState(false);\r\n\r\n  // Ëß¶Êë∏ÊªëÂä®Áä∂ÊÄÅ\r\n  const [touchStart, setTouchStart] = useState<number | null>(null);\r\n  const [touchEnd, setTouchEnd] = useState<number | null>(null);\r\n\r\n  // ÂõûÂà∞È°∂ÈÉ®ÊÇ¨ÊµÆÁêÉÁä∂ÊÄÅ\r\n  const [showBackToTop, setShowBackToTop] = useState(false);\r\n\r\n  // Lightbox ÂõæÁâáÂä†ËΩΩÁä∂ÊÄÅ\r\n  const [imageLoadingStates, setImageLoadingStates] = useState<Record<number, boolean>>({});\r\n\r\n  // È°µÈù¢Áã¨Á´ã‰∏ªÈ¢òÁä∂ÊÄÅ - ÈªòËÆ§ÊµÖËâ≤\r\n  const [isDark, setIsDark] = useState(false);\r\n\r\n  // ÊúãÂèãÂúà‰∏ªÈ¢òÊ®°ÂºèÁä∂ÊÄÅ\r\n  const [socialFeedThemeEnabled, setSocialFeedThemeEnabled] = useState(false);\r\n\r\n  // È°µÈù¢ÊñáÊú¨ÈÖçÁΩÆÁä∂ÊÄÅ\r\n  const [pageTextConfig, setPageTextConfig] = useState({\r\n    browserTitle: 'ÊúãÂèãÂúà',\r\n    browserSubtitle: ''\r\n  });\r\n\r\n  // ËÆæÁΩÆÊµèËßàÂô®Ê†áÈ¢òÔºà‰ªÖ‰ΩøÁî® browserTitleÔºå‰∏çÂèóÁΩëÁ´ôÊ†áÈ¢ò„ÄÅÂâØÊ†áÈ¢òÂΩ±ÂìçÔºâ\r\n  useEffect(() => {\r\n    document.title = pageTextConfig.browserTitle;\r\n  }, [pageTextConfig.browserTitle]);\r\n\r\n  // Ëé∑ÂèñÁ≥ªÁªüËÆæÁΩÆÂíåÈ°µÈù¢ÊñáÊú¨ÈÖçÁΩÆ\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n      try {\r\n        // Âπ∂Ë°åËé∑ÂèñËÆæÁΩÆÂíåÈ°µÈù¢ÊñáÊú¨ÈÖçÁΩÆ\r\n        const [settingsRes, pageTextsRes] = await Promise.all([\r\n          fetch(getApiUrl('/settings')),\r\n          fetch(getApiUrl('/page-texts/socialFeed'))\r\n        ]);\r\n\r\n        if (settingsRes.ok) {\r\n          const data = await settingsRes.json();\r\n          if (data.success && data.data) {\r\n            const settingsObj: Record<string, string> = {};\r\n            data.data.forEach((item: { key: string; value: string }) => {\r\n              settingsObj[item.key] = item.value;\r\n            });\r\n            setSocialFeedThemeEnabled(settingsObj.socialFeedThemeEnabled === 'true');\r\n          }\r\n        }\r\n\r\n        if (pageTextsRes.ok) {\r\n          const data = await pageTextsRes.json();\r\n          if (data.success && data.data) {\r\n            setPageTextConfig({\r\n              browserTitle: data.data.browserTitle || 'ÊúãÂèãÂúà',\r\n              browserSubtitle: data.data.browserSubtitle || ''\r\n            });\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('Ëé∑ÂèñËÆæÁΩÆÂ§±Ë¥•:', err);\r\n      }\r\n    };\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  // Ëß¶Êë∏ÊªëÂä®Â§ÑÁêÜ - ÊúÄÂ∞èÊªëÂä®Ë∑ùÁ¶ª\r\n  const minSwipeDistance = 50;\r\n\r\n  const onTouchStart = (e: React.TouchEvent) => {\r\n    setTouchEnd(null);\r\n    setTouchStart(e.targetTouches[0].clientX);\r\n  };\r\n\r\n  const onTouchMove = (e: React.TouchEvent) => {\r\n    setTouchEnd(e.targetTouches[0].clientX);\r\n  };\r\n\r\n  const onTouchEnd = () => {\r\n    if (!touchStart || !touchEnd) return;\r\n    const distance = touchStart - touchEnd;\r\n    const isLeftSwipe = distance > minSwipeDistance;\r\n    const isRightSwipe = distance < -minSwipeDistance;\r\n\r\n    if (isLeftSwipe && currentIndex < currentImageList.length - 1) {\r\n      setCurrentIndex(prev => prev + 1);\r\n    }\r\n    if (isRightSwipe && currentIndex > 0) {\r\n      setCurrentIndex(prev => prev - 1);\r\n    }\r\n  };\r\n\r\n  // Âä†ËΩΩÊõ¥Â§öÂ∏ñÂ≠ê\r\n  const loadMorePosts = useCallback(async () => {\r\n    if (loadingMore || !hasMore) return;\r\n\r\n    setLoadingMore(true);\r\n    try {\r\n      const res = await fetch(getApiUrl(`/social-feed/posts?page=${page + 1}&limit=${POSTS_PER_PAGE}`));\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        if (data.success && data.data?.posts) {\r\n          const newPosts = data.data.posts;\r\n          if (newPosts.length < POSTS_PER_PAGE) {\r\n            setHasMore(false);\r\n          }\r\n          if (newPosts.length > 0) {\r\n            setPosts(prev => [...prev, ...newPosts]);\r\n            setPage(prev => prev + 1);\r\n          } else {\r\n            setHasMore(false);\r\n          }\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Âä†ËΩΩÊõ¥Â§öÂ§±Ë¥•:', err);\r\n    } finally {\r\n      setLoadingMore(false);\r\n    }\r\n  }, [page, loadingMore, hasMore]);\r\n\r\n  // Êó†ÈôêÊªöÂä® - IntersectionObserver\r\n  useEffect(() => {\r\n    const loadMoreElement = loadMoreRef.current;\r\n    if (!loadMoreElement) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        if (entries[0].isIntersecting && hasMore && !loadingMore && !loading) {\r\n          loadMorePosts();\r\n        }\r\n      },\r\n      { rootMargin: '100px', threshold: 0.1 }\r\n    );\r\n\r\n    observer.observe(loadMoreElement);\r\n    return () => observer.disconnect();\r\n  }, [hasMore, loadingMore, loading, loadMorePosts]);\r\n\r\n  // ÂàùÂßãÂä†ËΩΩÊï∞ÊçÆ\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        setLoading(true);\r\n        setError(null);\r\n\r\n        const [profileRes, postsRes] = await Promise.all([\r\n          fetch(getApiUrl('/social-feed/profile')),\r\n          fetch(getApiUrl(`/social-feed/posts?page=1&limit=${POSTS_PER_PAGE}`))\r\n        ]);\r\n\r\n        if (profileRes.ok) {\r\n          const profileData = await profileRes.json();\r\n          if (profileData.success && profileData.data) {\r\n            setProfile(profileData.data);\r\n          }\r\n        }\r\n\r\n        if (postsRes.ok) {\r\n          const postsData = await postsRes.json();\r\n          if (postsData.success && postsData.data?.posts) {\r\n            const fetchedPosts = postsData.data.posts;\r\n            setPosts(fetchedPosts);\r\n            // Âà§Êñ≠ÊòØÂê¶ËøòÊúâÊõ¥Â§ö\r\n            if (fetchedPosts.length < POSTS_PER_PAGE) {\r\n              setHasMore(false);\r\n            }\r\n          }\r\n        }\r\n      } catch (err) {\r\n        console.error('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•:', err);\r\n        setError('Âä†ËΩΩÊï∞ÊçÆÂ§±Ë¥•ÔºåËØ∑Á®çÂêéÈáçËØï');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, []);\r\n\r\n  // ÁõëÂê¨ÊªöÂä®\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setShowBackToTop(window.scrollY > 300);\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  // ÈîÆÁõò‰∫ã‰ª∂ÁõëÂê¨ - Áî®‰∫é Lightbox Â∑¶Âè≥ÂàáÊç¢ÂíåÂÖ≥Èó≠\r\n  useEffect(() => {\r\n    if (!showLightbox) return;\r\n\r\n    const handleKeyDown = (e: KeyboardEvent) => {\r\n      if (e.key === 'ArrowLeft' && currentIndex > 0) {\r\n        setCurrentIndex(prev => prev - 1);\r\n      } else if (e.key === 'ArrowRight' && currentIndex < currentImageList.length - 1) {\r\n        setCurrentIndex(prev => prev + 1);\r\n      } else if (e.key === 'Escape') {\r\n        closeLightbox();\r\n      }\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => window.removeEventListener('keydown', handleKeyDown);\r\n  }, [showLightbox, currentIndex, currentImageList.length]);\r\n\r\n  // ÂõûÂà∞È°∂ÈÉ®\r\n  const scrollToTop = () => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  // ÂàáÊç¢‰∏ªÈ¢ò\r\n  const toggleTheme = () => {\r\n    setIsDark(prev => !prev);\r\n  };\r\n\r\n  // Ê†ºÂºèÂåñÊó∂Èó¥\r\n  const formatTime = (dateString: string) => {\r\n    const date = new Date(dateString);\r\n    const now = new Date();\r\n    const diff = now.getTime() - date.getTime();\r\n    const minutes = Math.floor(diff / (1000 * 60));\r\n    const hours = Math.floor(diff / (1000 * 60 * 60));\r\n    const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n\r\n    if (minutes < 1) return 'ÂàöÂàö';\r\n    if (minutes < 60) return `${minutes}ÂàÜÈíüÂâç`;\r\n    if (hours < 24) return `${hours}Â∞èÊó∂Ââç`;\r\n    if (days < 7) return `${days}Â§©Ââç`;\r\n\r\n    return date.toLocaleDateString('zh-CN', { month: 'long', day: 'numeric' });\r\n  };\r\n\r\n  // ÊâìÂºÄÂõæÁâáÈ¢ÑËßà\r\n  const openGallery = useCallback((images: string[], index: number) => {\r\n    // Â§ÑÁêÜÂõæÁâáURLÔºåÂ§ñÈÉ®URLÁõ¥Êé•‰ΩøÁî®ÔºåÊú¨Âú∞ÂõæÁâá‰ΩøÁî®getImageUrl\r\n    const processedImages = images.map(img => {\r\n      if (isExternalUrl(img)) {\r\n        return img;\r\n      }\r\n      return getImageUrl(img);\r\n    });\r\n    setCurrentImageList(processedImages);\r\n    setCurrentIndex(index);\r\n    setImageLoadingStates({}); // ÈáçÁΩÆÂä†ËΩΩÁä∂ÊÄÅ\r\n    setShowLightbox(true);\r\n    document.body.style.overflow = 'hidden';\r\n  }, []);\r\n\r\n  // ÂÖ≥Èó≠ÂõæÁâáÈ¢ÑËßà\r\n  const closeLightbox = () => {\r\n    setShowLightbox(false);\r\n    document.body.style.overflow = '';\r\n    setCurrentIndex(0);\r\n    setCurrentImageList([]);\r\n  };\r\n\r\n  // ÂàáÊç¢ÂõæÁâá\r\n  const changeImage = (direction: number) => {\r\n    const newIndex = currentIndex + direction;\r\n    if (newIndex >= 0 && newIndex < currentImageList.length) {\r\n      setCurrentIndex(newIndex);\r\n    }\r\n  };\r\n\r\n  // Âä†ËΩΩÁä∂ÊÄÅ\r\n  if (loading) {\r\n    return (\r\n      <div className={`sf-page ${isDark ? 'sf-dark' : 'sf-light'}`}>\r\n        <div className=\"sf-loading\">Âä†ËΩΩ‰∏≠...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ÈîôËØØÁä∂ÊÄÅ\r\n  if (error) {\r\n    return (\r\n      <div className={`sf-page ${isDark ? 'sf-dark' : 'sf-light'}`}>\r\n        <div className=\"sf-error\">\r\n          <div style={{ fontSize: '48px', marginBottom: '20px' }}>üòî</div>\r\n          <div>{error}</div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`sf-page ${isDark ? 'sf-dark' : 'sf-light'}`}>\r\n      <div className=\"sf-container\">\r\n        {/* È°∂ÈÉ®Â∞ÅÈù¢ */}\r\n        <div className=\"sf-header\">\r\n          {/* ËøîÂõûÈ¶ñÈ°µÊåâÈíÆ - ÊúãÂèãÂúà‰∏ªÈ¢òÊ®°ÂºèÂºÄÂêØÊó∂ÈöêËóè */}\r\n          {!socialFeedThemeEnabled && (\r\n            <a\r\n              href=\"/\"\r\n              className=\"sf-back-home\"\r\n              title=\"ËøîÂõûÈ¶ñÈ°µ\"\r\n            >\r\n              <svg width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <path d=\"M19 12H5M12 19l-7-7 7-7\"/>\r\n              </svg>\r\n            </a>\r\n          )}\r\n          <img\r\n            className=\"sf-cover\"\r\n            src={profile.cover_image ? getImageUrl(profile.cover_image) : '/pyqbj.png'}\r\n            alt=\"Â∞ÅÈù¢\"\r\n          />\r\n          <div className=\"sf-nickname\">{profile.nickname || 'Arran'}</div>\r\n          <div className=\"sf-signature\">{profile.signature || 'ÂàÜ‰∫´ÁîüÊ¥ªÔºåËÆ∞ÂΩïÁæéÂ•ΩÊó∂Âàª'}</div>\r\n          <div className=\"sf-avatar\">\r\n            <img\r\n              src={profile.avatar ? getImageUrl(profile.avatar) : '/pyqtx.png'}\r\n              alt=\"Â§¥ÂÉè\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Âä®ÊÄÅÂàóË°® */}\r\n        <div className=\"sf-feed-list\">\r\n          {posts.length === 0 ? (\r\n            <div className=\"sf-empty\">ÊöÇÊó†Âä®ÊÄÅ</div>\r\n          ) : (\r\n            posts.map((post) => (\r\n              <div key={post.id} className=\"sf-feed-item\">\r\n                <div className=\"sf-avatar-col\">\r\n                  <img\r\n                    src={profile.avatar ? getImageUrl(profile.avatar) : '/pyqtx.png'}\r\n                    loading=\"lazy\"\r\n                    alt={profile.nickname}\r\n                  />\r\n                </div>\r\n                <div className=\"sf-content-col\">\r\n                  <div className=\"sf-user-name\">{profile.nickname || 'ÊúãÂèãÂúà'}</div>\r\n                  <ExpandableText content={post.content} maxLines={4} />\r\n\r\n                  {/* ËßÜÈ¢ë - ÂÖºÂÆπ video Â≠óÊÆµÂíå images ‰∏≠ÁöÑËßÜÈ¢ëÔºåÊáíÂä†ËΩΩ */}\r\n                  <LazyVideo video={post.video} images={post.images || []} />\r\n\r\n                  {/* ÂõæÁâáÁΩëÊ†º - Ëá™Âä®ËøáÊª§ËßÜÈ¢ëÊñá‰ª∂Ôºå‰ΩøÁî®Áº©Áï•Âõæ */}\r\n                  {post.images && post.images.length > 0 && (\r\n                    <ImageGrid\r\n                      images={post.images}\r\n                      thumbnails={post.thumbnails}\r\n                      isFourImages={post.images.filter(img => !isVideoFile(img)).length === 4}\r\n                      onImageClick={openGallery}\r\n                    />\r\n                  )}\r\n\r\n                  <div className=\"sf-footer\">\r\n                    <span className=\"sf-time\">{formatTime(post.created_at)}</span>\r\n                    {post.is_pinned && <span className=\"sf-pin\">ÁΩÆÈ°∂</span>}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n\r\n          {/* Êó†ÈôêÊªöÂä®Ëß¶ÂèëÂô® */}\r\n          <div ref={loadMoreRef} className=\"sf-load-more\">\r\n            {loadingMore && <div className=\"sf-loading-more\">Âä†ËΩΩ‰∏≠...</div>}\r\n            {!hasMore && posts.length > 0 && <div className=\"sf-no-more\">Â∑≤Âä†ËΩΩÂÖ®ÈÉ®Âä®ÊÄÅ</div>}\r\n          </div>\r\n        </div>\r\n\r\n        {/* ÁâàÊùÉ‰ø°ÊÅØ */}\r\n        <div className=\"sf-copyright\">\r\n          {profile.custom_copyright && (\r\n            <div className=\"sf-custom-copyright\">{profile.custom_copyright}</div>\r\n          )}\r\n          <Copyright />\r\n        </div>\r\n\r\n        {/* Lightbox */}\r\n        {showLightbox && (\r\n          <div\r\n            className=\"sf-lightbox\"\r\n            onTouchStart={onTouchStart}\r\n            onTouchMove={onTouchMove}\r\n            onTouchEnd={onTouchEnd}\r\n          >\r\n            <div className=\"sf-lb-close\" onClick={closeLightbox}>\r\n              <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                <line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\r\n                <line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\r\n              </svg>\r\n            </div>\r\n            {currentImageList.length > 1 && (\r\n              <>\r\n                <div\r\n                  className={`sf-lb-prev ${currentIndex === 0 ? 'sf-lb-disabled' : ''}`}\r\n                  onClick={() => changeImage(-1)}\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <polyline points=\"15 18 9 12 15 6\"></polyline>\r\n                  </svg>\r\n                </div>\r\n                <div\r\n                  className={`sf-lb-next ${currentIndex === currentImageList.length - 1 ? 'sf-lb-disabled' : ''}`}\r\n                  onClick={() => changeImage(1)}\r\n                >\r\n                  <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n                    <polyline points=\"9 18 15 12 9 6\"></polyline>\r\n                  </svg>\r\n                </div>\r\n              </>\r\n            )}\r\n            <div className=\"sf-lb-img-container\">\r\n              {/* Âä†ËΩΩ‰∏≠Âä®Áîª */}\r\n              {!imageLoadingStates[currentIndex] && (\r\n                <div className=\"sf-lb-loading\">\r\n                  <div className=\"sf-lb-spinner\"></div>\r\n                </div>\r\n              )}\r\n              <img\r\n                src={currentImageList[currentIndex]}\r\n                alt=\"È¢ÑËßàÂõæÁâá\"\r\n                className={`sf-lb-img ${imageLoadingStates[currentIndex] ? 'sf-lb-img-loaded' : 'sf-lb-img-loading'}`}\r\n                onLoad={() => setImageLoadingStates(prev => ({ ...prev, [currentIndex]: true }))}\r\n                onError={() => setImageLoadingStates(prev => ({ ...prev, [currentIndex]: true }))}\r\n              />\r\n            </div>\r\n            <div className=\"sf-lb-counter\">\r\n              {currentIndex + 1} / {currentImageList.length}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* ‰∏ªÈ¢òÂàáÊç¢ÊÇ¨ÊµÆÁêÉ */}\r\n      <div className=\"sf-theme-btn\" onClick={toggleTheme} title={isDark ? 'ÂàáÊç¢ÊµÖËâ≤' : 'ÂàáÊç¢Ê∑±Ëâ≤'}>\r\n        {isDark ? (\r\n          <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\r\n          </svg>\r\n        ) : (\r\n          <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\r\n          </svg>\r\n        )}\r\n      </div>\r\n\r\n      {/* ÂõûÂà∞È°∂ÈÉ®ÊÇ¨ÊµÆÁêÉ */}\r\n      <div\r\n        className={`sf-back-top ${showBackToTop ? 'sf-visible' : ''}`}\r\n        onClick={scrollToTop}\r\n        title=\"ÂõûÂà∞È°∂ÈÉ®\"\r\n      >\r\n        <svg fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 10l7-7m0 0l7 7m-7-7v18\" />\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}