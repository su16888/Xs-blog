{"version":3,"sources":["turbopack:///[next]/internal/font/google/inter_5972bc34.module.css [app-rsc] (css module)","../../../../src/contexts/ThemeContext.tsx/__nextjs-internal-proxy.mjs","../../../../src/contexts/SettingsContext.tsx/__nextjs-internal-proxy.mjs","../../../../src/contexts/ProfileContext.tsx/__nextjs-internal-proxy.mjs","../../../../src/contexts/SocialLinksContext.tsx/__nextjs-internal-proxy.mjs","../../../../src/contexts/AuthContext.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/IntegrityGuard.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/FloatingButtons.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/PageVisitTracker.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/GrayscaleOverlay.tsx/__nextjs-internal-proxy.mjs","../../../../src/components/GlobalNav.tsx/__nextjs-internal-proxy.mjs","../../../../node_modules/next/src/server/web/spec-extension/cookies.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/reflect.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/request-cookies.ts","../../../../node_modules/next/src/client/components/hooks-server-context.ts","../../../../node_modules/next/src/client/components/static-generation-bailout.ts","../../../../node_modules/next/src/server/dynamic-rendering-utils.ts","../../../../node_modules/next/src/lib/framework/boundary-constants.tsx","../../../../node_modules/next/src/lib/scheduler.ts","../../../../node_modules/next/src/shared/lib/lazy-dynamic/bailout-to-csr.ts","../../../../node_modules/next/src/shared/lib/invariant-error.ts","../../../../node_modules/next/src/shared/lib/promise-with-resolvers.ts","../../../../node_modules/next/src/server/app-render/staged-rendering.ts","../../../../node_modules/next/src/server/app-render/dynamic-rendering.ts","../../../../node_modules/next/src/server/create-deduped-by-callsite-server-error-logger.ts","../../../../node_modules/next/src/server/request/utils.ts","../../../../node_modules/next/src/server/request/cookies.ts","../../../../node_modules/next/src/server/web/spec-extension/adapters/headers.ts","../../../../node_modules/next/src/server/request/headers.ts","../../../../node_modules/next/src/server/request/draft-mode.ts","../../../../node_modules/next/headers.js","turbopack:///[next]/internal/font/google/inter_5972bc34.js","../../../../src/app/layout.tsx","../../../../src/lib/runtimeConfig.ts","../../../../src/lib/adminConfig.ts","../../../../node_modules/clsx/dist/clsx.mjs","../../../../src/lib/clientCache.ts","../../../../src/lib/utils.ts"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"inter_5972bc34-module__OU16Qa__className\",\n});\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ThemeProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call ThemeProvider() from the server but ThemeProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/ThemeContext.tsx\",\n    \"ThemeProvider\",\n);\nexport const useTheme = registerClientReference(\n    function() { throw new Error(\"Attempted to call useTheme() from the server but useTheme is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/ThemeContext.tsx\",\n    \"useTheme\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SettingsProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call SettingsProvider() from the server but SettingsProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SettingsContext.tsx\",\n    \"SettingsProvider\",\n);\nexport const clearFrontendCache = registerClientReference(\n    function() { throw new Error(\"Attempted to call clearFrontendCache() from the server but clearFrontendCache is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SettingsContext.tsx\",\n    \"clearFrontendCache\",\n);\nexport const useSettingBoolean = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSettingBoolean() from the server but useSettingBoolean is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SettingsContext.tsx\",\n    \"useSettingBoolean\",\n);\nexport const useSettingString = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSettingString() from the server but useSettingString is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SettingsContext.tsx\",\n    \"useSettingString\",\n);\nexport const useSettings = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSettings() from the server but useSettings is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SettingsContext.tsx\",\n    \"useSettings\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const ProfileProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call ProfileProvider() from the server but ProfileProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/ProfileContext.tsx\",\n    \"ProfileProvider\",\n);\nexport const useProfile = registerClientReference(\n    function() { throw new Error(\"Attempted to call useProfile() from the server but useProfile is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/ProfileContext.tsx\",\n    \"useProfile\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const SocialLinksProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call SocialLinksProvider() from the server but SocialLinksProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SocialLinksContext.tsx\",\n    \"SocialLinksProvider\",\n);\nexport const useSocialLinks = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSocialLinks() from the server but useSocialLinks is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/SocialLinksContext.tsx\",\n    \"useSocialLinks\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AuthProvider = registerClientReference(\n    function() { throw new Error(\"Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/AuthContext.tsx\",\n    \"AuthProvider\",\n);\nexport const useAuth = registerClientReference(\n    function() { throw new Error(\"Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/contexts/AuthContext.tsx\",\n    \"useAuth\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/IntegrityGuard.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/IntegrityGuard.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/FloatingButtons.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/FloatingButtons.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/PageVisitTracker.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/PageVisitTracker.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/GrayscaleOverlay.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/GrayscaleOverlay.tsx\",\n    \"default\",\n);\n","// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/components/GlobalNav.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/components/GlobalNav.tsx\",\n    \"default\",\n);\n","export {\n  RequestCookies,\n  ResponseCookies,\n  stringifyCookie,\n} from 'next/dist/compiled/@edge-runtime/cookies'\n","export class ReflectAdapter {\n  static get<T extends object>(\n    target: T,\n    prop: string | symbol,\n    receiver: unknown\n  ): any {\n    const value = Reflect.get(target, prop, receiver)\n    if (typeof value === 'function') {\n      return value.bind(target)\n    }\n\n    return value\n  }\n\n  static set<T extends object>(\n    target: T,\n    prop: string | symbol,\n    value: any,\n    receiver: any\n  ): boolean {\n    return Reflect.set(target, prop, value, receiver)\n  }\n\n  static has<T extends object>(target: T, prop: string | symbol): boolean {\n    return Reflect.has(target, prop)\n  }\n\n  static deleteProperty<T extends object>(\n    target: T,\n    prop: string | symbol\n  ): boolean {\n    return Reflect.deleteProperty(target, prop)\n  }\n}\n","import { RequestCookies } from '../cookies'\n\nimport { ResponseCookies } from '../cookies'\nimport { ReflectAdapter } from './reflect'\nimport { workAsyncStorage } from '../../../app-render/work-async-storage.external'\nimport type { RequestStore } from '../../../app-render/work-unit-async-storage.external'\n\n/**\n * @internal\n */\nexport class ReadonlyRequestCookiesError extends Error {\n  constructor() {\n    super(\n      'Cookies can only be modified in a Server Action or Route Handler. Read more: https://nextjs.org/docs/app/api-reference/functions/cookies#options'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\n// We use this to type some APIs but we don't construct instances directly\nexport type { ResponseCookies }\n\n// The `cookies()` API is a mix of request and response cookies. For `.get()` methods,\n// we want to return the request cookie if it exists. For mutative methods like `.set()`,\n// we want to return the response cookie.\nexport type ReadonlyRequestCookies = Omit<\n  RequestCookies,\n  'set' | 'clear' | 'delete'\n> &\n  Pick<ResponseCookies, 'set' | 'delete'>\n\nexport class RequestCookiesAdapter {\n  public static seal(cookies: RequestCookies): ReadonlyRequestCookies {\n    return new Proxy(cookies as any, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'clear':\n          case 'delete':\n          case 'set':\n            return ReadonlyRequestCookiesError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n}\n\nconst SYMBOL_MODIFY_COOKIE_VALUES = Symbol.for('next.mutated.cookies')\n\nexport function getModifiedCookieValues(\n  cookies: ResponseCookies\n): ResponseCookie[] {\n  const modified: ResponseCookie[] | undefined = (cookies as unknown as any)[\n    SYMBOL_MODIFY_COOKIE_VALUES\n  ]\n  if (!modified || !Array.isArray(modified) || modified.length === 0) {\n    return []\n  }\n\n  return modified\n}\n\ntype SetCookieArgs =\n  | [key: string, value: string, cookie?: Partial<ResponseCookie>]\n  | [options: ResponseCookie]\n\nexport function appendMutableCookies(\n  headers: Headers,\n  mutableCookies: ResponseCookies\n): boolean {\n  const modifiedCookieValues = getModifiedCookieValues(mutableCookies)\n  if (modifiedCookieValues.length === 0) {\n    return false\n  }\n\n  // Return a new response that extends the response with\n  // the modified cookies as fallbacks. `res` cookies\n  // will still take precedence.\n  const resCookies = new ResponseCookies(headers)\n  const returnedCookies = resCookies.getAll()\n\n  // Set the modified cookies as fallbacks.\n  for (const cookie of modifiedCookieValues) {\n    resCookies.set(cookie)\n  }\n\n  // Set the original cookies as the final values.\n  for (const cookie of returnedCookies) {\n    resCookies.set(cookie)\n  }\n\n  return true\n}\n\ntype ResponseCookie = NonNullable<\n  ReturnType<InstanceType<typeof ResponseCookies>['get']>\n>\n\nexport class MutableRequestCookiesAdapter {\n  public static wrap(\n    cookies: RequestCookies,\n    onUpdateCookies?: (cookies: string[]) => void\n  ): ResponseCookies {\n    const responseCookies = new ResponseCookies(new Headers())\n    for (const cookie of cookies.getAll()) {\n      responseCookies.set(cookie)\n    }\n\n    let modifiedValues: ResponseCookie[] = []\n    const modifiedCookies = new Set<string>()\n    const updateResponseCookies = () => {\n      // TODO-APP: change method of getting workStore\n      const workStore = workAsyncStorage.getStore()\n      if (workStore) {\n        workStore.pathWasRevalidated = true\n      }\n\n      const allCookies = responseCookies.getAll()\n      modifiedValues = allCookies.filter((c) => modifiedCookies.has(c.name))\n      if (onUpdateCookies) {\n        const serializedCookies: string[] = []\n        for (const cookie of modifiedValues) {\n          const tempCookies = new ResponseCookies(new Headers())\n          tempCookies.set(cookie)\n          serializedCookies.push(tempCookies.toString())\n        }\n\n        onUpdateCookies(serializedCookies)\n      }\n    }\n\n    const wrappedCookies = new Proxy(responseCookies, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          // A special symbol to get the modified cookie values\n          case SYMBOL_MODIFY_COOKIE_VALUES:\n            return modifiedValues\n\n          // TODO: Throw error if trying to set a cookie after the response\n          // headers have been set.\n          case 'delete':\n            return function (...args: [string] | [ResponseCookie]) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.delete(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n          case 'set':\n            return function (...args: SetCookieArgs) {\n              modifiedCookies.add(\n                typeof args[0] === 'string' ? args[0] : args[0].name\n              )\n              try {\n                target.set(...args)\n                return wrappedCookies\n              } finally {\n                updateResponseCookies()\n              }\n            }\n\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n\n    return wrappedCookies\n  }\n}\n\nexport function createCookiesWithMutableAccessCheck(\n  requestStore: RequestStore\n): ResponseCookies {\n  const wrappedCookies = new Proxy(requestStore.mutableCookies, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'delete':\n          return function (...args: [string] | [ResponseCookie]) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().delete')\n            target.delete(...args)\n            return wrappedCookies\n          }\n        case 'set':\n          return function (...args: SetCookieArgs) {\n            ensureCookiesAreStillMutable(requestStore, 'cookies().set')\n            target.set(...args)\n            return wrappedCookies\n          }\n\n        default:\n          return ReflectAdapter.get(target, prop, receiver)\n      }\n    },\n  })\n  return wrappedCookies\n}\n\nexport function areCookiesMutableInCurrentPhase(requestStore: RequestStore) {\n  return requestStore.phase === 'action'\n}\n\n/** Ensure that cookies() starts throwing on mutation\n * if we changed phases and can no longer mutate.\n *\n * This can happen when going:\n *   'render' -> 'after'\n *   'action' -> 'render'\n * */\nfunction ensureCookiesAreStillMutable(\n  requestStore: RequestStore,\n  _callingExpression: string\n) {\n  if (!areCookiesMutableInCurrentPhase(requestStore)) {\n    // TODO: maybe we can give a more precise error message based on callingExpression?\n    throw new ReadonlyRequestCookiesError()\n  }\n}\n\nexport function responseCookiesToRequestCookies(\n  responseCookies: ResponseCookies\n): RequestCookies {\n  const requestCookies = new RequestCookies(new Headers())\n  for (const cookie of responseCookies.getAll()) {\n    requestCookies.set(cookie)\n  }\n  return requestCookies\n}\n","const DYNAMIC_ERROR_CODE = 'DYNAMIC_SERVER_USAGE'\n\nexport class DynamicServerError extends Error {\n  digest: typeof DYNAMIC_ERROR_CODE = DYNAMIC_ERROR_CODE\n\n  constructor(public readonly description: string) {\n    super(`Dynamic server usage: ${description}`)\n  }\n}\n\nexport function isDynamicServerError(err: unknown): err is DynamicServerError {\n  if (\n    typeof err !== 'object' ||\n    err === null ||\n    !('digest' in err) ||\n    typeof err.digest !== 'string'\n  ) {\n    return false\n  }\n\n  return err.digest === DYNAMIC_ERROR_CODE\n}\n","const NEXT_STATIC_GEN_BAILOUT = 'NEXT_STATIC_GEN_BAILOUT'\n\nexport class StaticGenBailoutError extends Error {\n  public readonly code = NEXT_STATIC_GEN_BAILOUT\n}\n\nexport function isStaticGenBailoutError(\n  error: unknown\n): error is StaticGenBailoutError {\n  if (typeof error !== 'object' || error === null || !('code' in error)) {\n    return false\n  }\n\n  return error.code === NEXT_STATIC_GEN_BAILOUT\n}\n","import type { NonStaticRenderStage } from './app-render/staged-rendering'\nimport type { RequestStore } from './app-render/work-unit-async-storage.external'\n\nexport function isHangingPromiseRejectionError(\n  err: unknown\n): err is HangingPromiseRejectionError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === HANGING_PROMISE_REJECTION\n}\n\nconst HANGING_PROMISE_REJECTION = 'HANGING_PROMISE_REJECTION'\n\nclass HangingPromiseRejectionError extends Error {\n  public readonly digest = HANGING_PROMISE_REJECTION\n\n  constructor(\n    public readonly route: string,\n    public readonly expression: string\n  ) {\n    super(\n      `During prerendering, ${expression} rejects when the prerender is complete. Typically these errors are handled by React but if you move ${expression} to a different context by using \\`setTimeout\\`, \\`after\\`, or similar functions you may observe this error and you should handle it in that context. This occurred at route \"${route}\".`\n    )\n  }\n}\n\ntype AbortListeners = Array<(err: unknown) => void>\nconst abortListenersBySignal = new WeakMap<AbortSignal, AbortListeners>()\n\n/**\n * This function constructs a promise that will never resolve. This is primarily\n * useful for cacheComponents where we use promise resolution timing to determine which\n * parts of a render can be included in a prerender.\n *\n * @internal\n */\nexport function makeHangingPromise<T>(\n  signal: AbortSignal,\n  route: string,\n  expression: string\n): Promise<T> {\n  if (signal.aborted) {\n    return Promise.reject(new HangingPromiseRejectionError(route, expression))\n  } else {\n    const hangingPromise = new Promise<T>((_, reject) => {\n      const boundRejection = reject.bind(\n        null,\n        new HangingPromiseRejectionError(route, expression)\n      )\n      let currentListeners = abortListenersBySignal.get(signal)\n      if (currentListeners) {\n        currentListeners.push(boundRejection)\n      } else {\n        const listeners = [boundRejection]\n        abortListenersBySignal.set(signal, listeners)\n        signal.addEventListener(\n          'abort',\n          () => {\n            for (let i = 0; i < listeners.length; i++) {\n              listeners[i]()\n            }\n          },\n          { once: true }\n        )\n      }\n    })\n    // We are fine if no one actually awaits this promise. We shouldn't consider this an unhandled rejection so\n    // we attach a noop catch handler here to suppress this warning. If you actually await somewhere or construct\n    // your own promise out of it you'll need to ensure you handle the error when it rejects.\n    hangingPromise.catch(ignoreReject)\n    return hangingPromise\n  }\n}\n\nfunction ignoreReject() {}\n\nexport function makeDevtoolsIOAwarePromise<T>(\n  underlying: T,\n  requestStore: RequestStore,\n  stage: NonStaticRenderStage\n): Promise<T> {\n  if (requestStore.stagedRendering) {\n    // We resolve each stage in a timeout, so React DevTools will pick this up as IO.\n    return requestStore.stagedRendering.delayUntilStage(\n      stage,\n      undefined,\n      underlying\n    )\n  }\n  // in React DevTools if we resolve in a setTimeout we will observe\n  // the promise resolution as something that can suspend a boundary or root.\n  return new Promise<T>((resolve) => {\n    // Must use setTimeout to be considered IO React DevTools. setImmediate will not work.\n    setTimeout(() => {\n      resolve(underlying)\n    }, 0)\n  })\n}\n","export const METADATA_BOUNDARY_NAME = '__next_metadata_boundary__'\nexport const VIEWPORT_BOUNDARY_NAME = '__next_viewport_boundary__'\nexport const OUTLET_BOUNDARY_NAME = '__next_outlet_boundary__'\nexport const ROOT_LAYOUT_BOUNDARY_NAME = '__next_root_layout_boundary__'\n","export type ScheduledFn<T = void> = () => T | PromiseLike<T>\nexport type SchedulerFn<T = void> = (cb: ScheduledFn<T>) => void\n\n/**\n * Schedules a function to be called on the next tick after the other promises\n * have been resolved.\n *\n * @param cb the function to schedule\n */\nexport const scheduleOnNextTick = (cb: ScheduledFn<void>) => {\n  // We use Promise.resolve().then() here so that the operation is scheduled at\n  // the end of the promise job queue, we then add it to the next process tick\n  // to ensure it's evaluated afterwards.\n  //\n  // This was inspired by the implementation of the DataLoader interface: https://github.com/graphql/dataloader/blob/d336bd15282664e0be4b4a657cb796f09bafbc6b/src/index.js#L213-L255\n  //\n  Promise.resolve().then(() => {\n    if (process.env.NEXT_RUNTIME === 'edge') {\n      setTimeout(cb, 0)\n    } else {\n      process.nextTick(cb)\n    }\n  })\n}\n\n/**\n * Schedules a function to be called using `setImmediate` or `setTimeout` if\n * `setImmediate` is not available (like in the Edge runtime).\n *\n * @param cb the function to schedule\n */\nexport const scheduleImmediate = (cb: ScheduledFn<void>): void => {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    setTimeout(cb, 0)\n  } else {\n    setImmediate(cb)\n  }\n}\n\n/**\n * returns a promise than resolves in a future task. There is no guarantee that the task it resolves in\n * will be the next task but if you await it you can at least be sure that the current task is over and\n * most usefully that the entire microtask queue of the current task has been emptied.\n */\nexport function atLeastOneTask() {\n  return new Promise<void>((resolve) => scheduleImmediate(resolve))\n}\n\n/**\n * This utility function is extracted to make it easier to find places where we are doing\n * specific timing tricks to try to schedule work after React has rendered. This is especially\n * important at the moment because Next.js uses the edge builds of React which use setTimeout to\n * schedule work when you might expect that something like setImmediate would do the trick.\n *\n * Long term we should switch to the node versions of React rendering when possible and then\n * update this to use setImmediate rather than setTimeout\n */\nexport function waitAtLeastOneReactRenderTask(): Promise<void> {\n  if (process.env.NEXT_RUNTIME === 'edge') {\n    return new Promise((r) => setTimeout(r, 0))\n  } else {\n    return new Promise((r) => setImmediate(r))\n  }\n}\n","// This has to be a shared module which is shared between client component error boundary and dynamic component\nconst BAILOUT_TO_CSR = 'BAILOUT_TO_CLIENT_SIDE_RENDERING'\n\n/** An error that should be thrown when we want to bail out to client-side rendering. */\nexport class BailoutToCSRError extends Error {\n  public readonly digest = BAILOUT_TO_CSR\n\n  constructor(public readonly reason: string) {\n    super(`Bail out to client-side rendering: ${reason}`)\n  }\n}\n\n/** Checks if a passed argument is an error that is thrown if we want to bail out to client-side rendering. */\nexport function isBailoutToCSRError(err: unknown): err is BailoutToCSRError {\n  if (typeof err !== 'object' || err === null || !('digest' in err)) {\n    return false\n  }\n\n  return err.digest === BAILOUT_TO_CSR\n}\n","export class InvariantError extends Error {\n  constructor(message: string, options?: ErrorOptions) {\n    super(\n      `Invariant: ${message.endsWith('.') ? message : message + '.'} This is a bug in Next.js.`,\n      options\n    )\n    this.name = 'InvariantError'\n  }\n}\n","export function createPromiseWithResolvers<T>(): PromiseWithResolvers<T> {\n  // Shim of Stage 4 Promise.withResolvers proposal\n  let resolve: (value: T | PromiseLike<T>) => void\n  let reject: (reason: any) => void\n  const promise = new Promise<T>((res, rej) => {\n    resolve = res\n    reject = rej\n  })\n  return { resolve: resolve!, reject: reject!, promise }\n}\n","import { InvariantError } from '../../shared/lib/invariant-error'\nimport { createPromiseWithResolvers } from '../../shared/lib/promise-with-resolvers'\n\nexport enum RenderStage {\n  Static = 1,\n  Runtime = 2,\n  Dynamic = 3,\n}\n\nexport type NonStaticRenderStage = RenderStage.Runtime | RenderStage.Dynamic\n\nexport class StagedRenderingController {\n  currentStage: RenderStage = RenderStage.Static\n\n  private runtimeStagePromise = createPromiseWithResolvers<void>()\n  private dynamicStagePromise = createPromiseWithResolvers<void>()\n\n  constructor(private abortSignal: AbortSignal | null = null) {\n    if (abortSignal) {\n      abortSignal.addEventListener(\n        'abort',\n        () => {\n          const { reason } = abortSignal\n          if (this.currentStage < RenderStage.Runtime) {\n            this.runtimeStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.runtimeStagePromise.reject(reason)\n          }\n          if (this.currentStage < RenderStage.Dynamic) {\n            this.dynamicStagePromise.promise.catch(ignoreReject) // avoid unhandled rejections\n            this.dynamicStagePromise.reject(reason)\n          }\n        },\n        { once: true }\n      )\n    }\n  }\n\n  advanceStage(stage: NonStaticRenderStage) {\n    // If we're already at the target stage or beyond, do nothing.\n    // (this can happen e.g. if sync IO advanced us to the dynamic stage)\n    if (this.currentStage >= stage) {\n      return\n    }\n    this.currentStage = stage\n    // Note that we might be going directly from Static to Dynamic,\n    // so we need to resolve the runtime stage as well.\n    if (stage >= RenderStage.Runtime) {\n      this.runtimeStagePromise.resolve()\n    }\n    if (stage >= RenderStage.Dynamic) {\n      this.dynamicStagePromise.resolve()\n    }\n  }\n\n  private getStagePromise(stage: NonStaticRenderStage): Promise<void> {\n    switch (stage) {\n      case RenderStage.Runtime: {\n        return this.runtimeStagePromise.promise\n      }\n      case RenderStage.Dynamic: {\n        return this.dynamicStagePromise.promise\n      }\n      default: {\n        stage satisfies never\n        throw new InvariantError(`Invalid render stage: ${stage}`)\n      }\n    }\n  }\n\n  waitForStage(stage: NonStaticRenderStage) {\n    return this.getStagePromise(stage)\n  }\n\n  delayUntilStage<T>(\n    stage: NonStaticRenderStage,\n    displayName: string | undefined,\n    resolvedValue: T\n  ) {\n    const ioTriggerPromise = this.getStagePromise(stage)\n\n    const promise = makeDevtoolsIOPromiseFromIOTrigger(\n      ioTriggerPromise,\n      displayName,\n      resolvedValue\n    )\n\n    // Analogously to `makeHangingPromise`, we might reject this promise if the signal is invoked.\n    // (e.g. in the case where we don't want want the render to proceed to the dynamic stage and abort it).\n    // We shouldn't consider this an unhandled rejection, so we attach a noop catch handler here to suppress this warning.\n    if (this.abortSignal) {\n      promise.catch(ignoreReject)\n    }\n    return promise\n  }\n}\n\nfunction ignoreReject() {}\n\n// TODO(restart-on-cache-miss): the layering of `delayUntilStage`,\n// `makeDevtoolsIOPromiseFromIOTrigger` and and `makeDevtoolsIOAwarePromise`\n// is confusing, we should clean it up.\nfunction makeDevtoolsIOPromiseFromIOTrigger<T>(\n  ioTrigger: Promise<any>,\n  displayName: string | undefined,\n  resolvedValue: T\n): Promise<T> {\n  // If we create a `new Promise` and give it a displayName\n  // (with no userspace code above us in the stack)\n  // React Devtools will use it as the IO cause when determining \"suspended by\".\n  // In particular, it should shadow any inner IO that resolved/rejected the promise\n  // (in case of staged rendering, this will be the `setTimeout` that triggers the relevant stage)\n  const promise = new Promise<T>((resolve, reject) => {\n    ioTrigger.then(resolve.bind(null, resolvedValue), reject)\n  })\n  if (displayName !== undefined) {\n    // @ts-expect-error\n    promise.displayName = displayName\n  }\n  return promise\n}\n","/**\n * The functions provided by this module are used to communicate certain properties\n * about the currently running code so that Next.js can make decisions on how to handle\n * the current execution in different rendering modes such as pre-rendering, resuming, and SSR.\n *\n * Today Next.js treats all code as potentially static. Certain APIs may only make sense when dynamically rendering.\n * Traditionally this meant deopting the entire render to dynamic however with PPR we can now deopt parts\n * of a React tree as dynamic while still keeping other parts static. There are really two different kinds of\n * Dynamic indications.\n *\n * The first is simply an intention to be dynamic. unstable_noStore is an example of this where\n * the currently executing code simply declares that the current scope is dynamic but if you use it\n * inside unstable_cache it can still be cached. This type of indication can be removed if we ever\n * make the default dynamic to begin with because the only way you would ever be static is inside\n * a cache scope which this indication does not affect.\n *\n * The second is an indication that a dynamic data source was read. This is a stronger form of dynamic\n * because it means that it is inappropriate to cache this at all. using a dynamic data source inside\n * unstable_cache should error. If you want to use some dynamic data inside unstable_cache you should\n * read that data outside the cache and pass it in as an argument to the cached function.\n */\n\nimport type { WorkStore } from '../app-render/work-async-storage.external'\nimport type {\n  WorkUnitStore,\n  RequestStore,\n  PrerenderStoreLegacy,\n  PrerenderStoreModern,\n  PrerenderStoreModernRuntime,\n} from '../app-render/work-unit-async-storage.external'\n\n// Once postpone is in stable we should switch to importing the postpone export directly\nimport React from 'react'\n\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  getRuntimeStagePromise,\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n} from './work-unit-async-storage.external'\nimport { workAsyncStorage } from '../app-render/work-async-storage.external'\nimport { makeHangingPromise } from '../dynamic-rendering-utils'\nimport {\n  METADATA_BOUNDARY_NAME,\n  VIEWPORT_BOUNDARY_NAME,\n  OUTLET_BOUNDARY_NAME,\n  ROOT_LAYOUT_BOUNDARY_NAME,\n} from '../../lib/framework/boundary-constants'\nimport { scheduleOnNextTick } from '../../lib/scheduler'\nimport { BailoutToCSRError } from '../../shared/lib/lazy-dynamic/bailout-to-csr'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from './staged-rendering'\n\nconst hasPostpone = typeof React.unstable_postpone === 'function'\n\nexport type DynamicAccess = {\n  /**\n   * If debugging, this will contain the stack trace of where the dynamic access\n   * occurred. This is used to provide more information to the user about why\n   * their page is being rendered dynamically.\n   */\n  stack?: string\n\n  /**\n   * The expression that was accessed dynamically.\n   */\n  expression: string\n}\n\n// Stores dynamic reasons used during an RSC render.\nexport type DynamicTrackingState = {\n  /**\n   * When true, stack information will also be tracked during dynamic access.\n   */\n  readonly isDebugDynamicAccesses: boolean | undefined\n\n  /**\n   * The dynamic accesses that occurred during the render.\n   */\n  readonly dynamicAccesses: Array<DynamicAccess>\n\n  syncDynamicErrorWithStack: null | Error\n}\n\n// Stores dynamic reasons used during an SSR render.\nexport type DynamicValidationState = {\n  hasSuspenseAboveBody: boolean\n  hasDynamicMetadata: boolean\n  hasDynamicViewport: boolean\n  hasAllowedDynamic: boolean\n  dynamicErrors: Array<Error>\n}\n\nexport function createDynamicTrackingState(\n  isDebugDynamicAccesses: boolean | undefined\n): DynamicTrackingState {\n  return {\n    isDebugDynamicAccesses,\n    dynamicAccesses: [],\n    syncDynamicErrorWithStack: null,\n  }\n}\n\nexport function createDynamicValidationState(): DynamicValidationState {\n  return {\n    hasSuspenseAboveBody: false,\n    hasDynamicMetadata: false,\n    hasDynamicViewport: false,\n    hasAllowedDynamic: false,\n    dynamicErrors: [],\n  }\n}\n\nexport function getFirstDynamicReason(\n  trackingState: DynamicTrackingState\n): undefined | string {\n  return trackingState.dynamicAccesses[0]?.expression\n}\n\n/**\n * This function communicates that the current scope should be treated as dynamic.\n *\n * In most cases this function is a no-op but if called during\n * a PPR prerender it will postpone the current sub-tree and calling\n * it during a normal prerender will cause the entire prerender to abort\n */\nexport function markCurrentScopeAsDynamic(\n  store: WorkStore,\n  workUnitStore: undefined | Exclude<WorkUnitStore, PrerenderStoreModern>,\n  expression: string\n): void {\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'cache':\n      case 'unstable-cache':\n        // Inside cache scopes, marking a scope as dynamic has no effect,\n        // because the outer cache scope creates a cache boundary. This is\n        // subtly different from reading a dynamic data source, which is\n        // forbidden inside a cache scope.\n        return\n      case 'private-cache':\n        // A private cache scope is already dynamic by definition.\n        return\n      case 'prerender-legacy':\n      case 'prerender-ppr':\n      case 'request':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n\n  // If we're forcing dynamic rendering or we're forcing static rendering, we\n  // don't need to do anything here because the entire page is already dynamic\n  // or it's static and it should not throw or postpone here.\n  if (store.forceDynamic || store.forceStatic) return\n\n  if (store.dynamicShouldError) {\n    throw new StaticGenBailoutError(\n      `Route ${store.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n    )\n  }\n\n  if (workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-ppr':\n        return postponeWithTracking(\n          store.route,\n          expression,\n          workUnitStore.dynamicTracking\n        )\n      case 'prerender-legacy':\n        workUnitStore.revalidate = 0\n\n        // We aren't prerendering, but we are generating a static page. We need\n        // to bail out of static generation.\n        const err = new DynamicServerError(\n          `Route ${store.route} couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n        )\n        store.dynamicUsageDescription = expression\n        store.dynamicUsageStack = err.stack\n\n        throw err\n      case 'request':\n        if (process.env.NODE_ENV !== 'production') {\n          workUnitStore.usedDynamic = true\n        }\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\n/**\n * This function is meant to be used when prerendering without cacheComponents or PPR.\n * When called during a build it will cause Next.js to consider the route as dynamic.\n *\n * @internal\n */\nexport function throwToInterruptStaticGeneration(\n  expression: string,\n  store: WorkStore,\n  prerenderStore: PrerenderStoreLegacy\n): never {\n  // We aren't prerendering but we are generating a static page. We need to bail out of static generation\n  const err = new DynamicServerError(\n    `Route ${store.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n  )\n\n  prerenderStore.revalidate = 0\n\n  store.dynamicUsageDescription = expression\n  store.dynamicUsageStack = err.stack\n\n  throw err\n}\n\n/**\n * This function should be used to track whether something dynamic happened even when\n * we are in a dynamic render. This is useful for Dev where all renders are dynamic but\n * we still track whether dynamic APIs were accessed for helpful messaging\n *\n * @internal\n */\nexport function trackDynamicDataInDynamicRender(workUnitStore: WorkUnitStore) {\n  switch (workUnitStore.type) {\n    case 'cache':\n    case 'unstable-cache':\n      // Inside cache scopes, marking a scope as dynamic has no effect,\n      // because the outer cache scope creates a cache boundary. This is\n      // subtly different from reading a dynamic data source, which is\n      // forbidden inside a cache scope.\n      return\n    case 'private-cache':\n      // A private cache scope is already dynamic by definition.\n      return\n    case 'prerender':\n    case 'prerender-runtime':\n    case 'prerender-legacy':\n    case 'prerender-ppr':\n    case 'prerender-client':\n      break\n    case 'request':\n      if (process.env.NODE_ENV !== 'production') {\n        workUnitStore.usedDynamic = true\n      }\n      break\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nfunction abortOnSynchronousDynamicDataAccess(\n  route: string,\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const reason = `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n\n  const error = createPrerenderInterruptedError(reason)\n\n  prerenderStore.controller.abort(error)\n\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function abortOnSynchronousPlatformIOAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): void {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n  // It is important that we set this tracking value after aborting. Aborts are executed\n  // synchronously except for the case where you abort during render itself. By setting this\n  // value late we can use it to determine if any of the aborted tasks are the task that\n  // called the sync IO expression in the first place.\n  if (dynamicTracking) {\n    if (dynamicTracking.syncDynamicErrorWithStack === null) {\n      dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n    }\n  }\n}\n\nexport function trackSynchronousPlatformIOAccessInDev(\n  requestStore: RequestStore\n): void {\n  // We don't actually have a controller to abort but we do the semantic equivalent by\n  // advancing the request store out of the prerender stage\n  if (requestStore.stagedRendering) {\n    // TODO: error for sync IO in the runtime stage\n    // (which is not currently covered by the validation render in `spawnDynamicValidationInDev`)\n    requestStore.stagedRendering.advanceStage(RenderStage.Dynamic)\n  }\n}\n\n/**\n * use this function when prerendering with cacheComponents. If we are doing a\n * prospective prerender we don't actually abort because we want to discover\n * all caches for the shell. If this is the actual prerender we do abort.\n *\n * This function accepts a prerenderStore but the caller should ensure we're\n * actually running in cacheComponents mode.\n *\n * @internal\n */\nexport function abortAndThrowOnSynchronousRequestDataAccess(\n  route: string,\n  expression: string,\n  errorWithStack: Error,\n  prerenderStore: PrerenderStoreModern\n): never {\n  const prerenderSignal = prerenderStore.controller.signal\n  if (prerenderSignal.aborted === false) {\n    // TODO it would be better to move this aborted check into the callsite so we can avoid making\n    // the error object when it isn't relevant to the aborting of the prerender however\n    // since we need the throw semantics regardless of whether we abort it is easier to land\n    // this way. See how this was handled with `abortOnSynchronousPlatformIOAccess` for a closer\n    // to ideal implementation\n    abortOnSynchronousDynamicDataAccess(route, expression, prerenderStore)\n    // It is important that we set this tracking value after aborting. Aborts are executed\n    // synchronously except for the case where you abort during render itself. By setting this\n    // value late we can use it to determine if any of the aborted tasks are the task that\n    // called the sync IO expression in the first place.\n    const dynamicTracking = prerenderStore.dynamicTracking\n    if (dynamicTracking) {\n      if (dynamicTracking.syncDynamicErrorWithStack === null) {\n        dynamicTracking.syncDynamicErrorWithStack = errorWithStack\n      }\n    }\n  }\n  throw createPrerenderInterruptedError(\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}.`\n  )\n}\n\n/**\n * This component will call `React.postpone` that throws the postponed error.\n */\ntype PostponeProps = {\n  reason: string\n  route: string\n}\nexport function Postpone({ reason, route }: PostponeProps): never {\n  const prerenderStore = workUnitAsyncStorage.getStore()\n  const dynamicTracking =\n    prerenderStore && prerenderStore.type === 'prerender-ppr'\n      ? prerenderStore.dynamicTracking\n      : null\n  postponeWithTracking(route, reason, dynamicTracking)\n}\n\nexport function postponeWithTracking(\n  route: string,\n  expression: string,\n  dynamicTracking: null | DynamicTrackingState\n): never {\n  assertPostpone()\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      // When we aren't debugging, we don't need to create another error for the\n      // stack trace.\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n\n  React.unstable_postpone(createPostponeReason(route, expression))\n}\n\nfunction createPostponeReason(route: string, expression: string) {\n  return (\n    `Route ${route} needs to bail out of prerendering at this point because it used ${expression}. ` +\n    `React throws this special object to indicate where. It should not be caught by ` +\n    `your own try/catch. Learn more: https://nextjs.org/docs/messages/ppr-caught-error`\n  )\n}\n\nexport function isDynamicPostpone(err: unknown) {\n  if (\n    typeof err === 'object' &&\n    err !== null &&\n    typeof (err as any).message === 'string'\n  ) {\n    return isDynamicPostponeReason((err as any).message)\n  }\n  return false\n}\n\nfunction isDynamicPostponeReason(reason: string) {\n  return (\n    reason.includes(\n      'needs to bail out of prerendering at this point because it used'\n    ) &&\n    reason.includes(\n      'Learn more: https://nextjs.org/docs/messages/ppr-caught-error'\n    )\n  )\n}\n\nif (isDynamicPostponeReason(createPostponeReason('%%%', '^^^')) === false) {\n  throw new Error(\n    'Invariant: isDynamicPostpone misidentified a postpone reason. This is a bug in Next.js'\n  )\n}\n\nconst NEXT_PRERENDER_INTERRUPTED = 'NEXT_PRERENDER_INTERRUPTED'\n\nfunction createPrerenderInterruptedError(message: string): Error {\n  const error = new Error(message)\n  ;(error as any).digest = NEXT_PRERENDER_INTERRUPTED\n  return error\n}\n\ntype DigestError = Error & {\n  digest: string\n}\n\nexport function isPrerenderInterruptedError(\n  error: unknown\n): error is DigestError {\n  return (\n    typeof error === 'object' &&\n    error !== null &&\n    (error as any).digest === NEXT_PRERENDER_INTERRUPTED &&\n    'name' in error &&\n    'message' in error &&\n    error instanceof Error\n  )\n}\n\nexport function accessedDynamicData(\n  dynamicAccesses: Array<DynamicAccess>\n): boolean {\n  return dynamicAccesses.length > 0\n}\n\nexport function consumeDynamicAccess(\n  serverDynamic: DynamicTrackingState,\n  clientDynamic: DynamicTrackingState\n): DynamicTrackingState['dynamicAccesses'] {\n  // We mutate because we only call this once we are no longer writing\n  // to the dynamicTrackingState and it's more efficient than creating a new\n  // array.\n  serverDynamic.dynamicAccesses.push(...clientDynamic.dynamicAccesses)\n  return serverDynamic.dynamicAccesses\n}\n\nexport function formatDynamicAPIAccesses(\n  dynamicAccesses: Array<DynamicAccess>\n): string[] {\n  return dynamicAccesses\n    .filter(\n      (access): access is Required<DynamicAccess> =>\n        typeof access.stack === 'string' && access.stack.length > 0\n    )\n    .map(({ expression, stack }) => {\n      stack = stack\n        .split('\\n')\n        // Remove the \"Error: \" prefix from the first line of the stack trace as\n        // well as the first 4 lines of the stack trace which is the distance\n        // from the user code and the `new Error().stack` call.\n        .slice(4)\n        .filter((line) => {\n          // Exclude Next.js internals from the stack trace.\n          if (line.includes('node_modules/next/')) {\n            return false\n          }\n\n          // Exclude anonymous functions from the stack trace.\n          if (line.includes(' (<anonymous>)')) {\n            return false\n          }\n\n          // Exclude Node.js internals from the stack trace.\n          if (line.includes(' (node:')) {\n            return false\n          }\n\n          return true\n        })\n        .join('\\n')\n      return `Dynamic API Usage Debug - ${expression}:\\n${stack}`\n    })\n}\n\nfunction assertPostpone() {\n  if (!hasPostpone) {\n    throw new Error(\n      `Invariant: React.unstable_postpone is not defined. This suggests the wrong version of React was loaded. This is a bug in Next.js`\n    )\n  }\n}\n\n/**\n * This is a bit of a hack to allow us to abort a render using a Postpone instance instead of an Error which changes React's\n * abort semantics slightly.\n */\nexport function createRenderInBrowserAbortSignal(): AbortSignal {\n  const controller = new AbortController()\n  controller.abort(new BailoutToCSRError('Render in Browser'))\n  return controller.signal\n}\n\n/**\n * In a prerender, we may end up with hanging Promises as inputs due them\n * stalling on connection() or because they're loading dynamic data. In that\n * case we need to abort the encoding of arguments since they'll never complete.\n */\nexport function createHangingInputAbortSignal(\n  workUnitStore: WorkUnitStore\n): AbortSignal | undefined {\n  switch (workUnitStore.type) {\n    case 'prerender':\n    case 'prerender-runtime':\n      const controller = new AbortController()\n\n      if (workUnitStore.cacheSignal) {\n        // If we have a cacheSignal it means we're in a prospective render. If\n        // the input we're waiting on is coming from another cache, we do want\n        // to wait for it so that we can resolve this cache entry too.\n        workUnitStore.cacheSignal.inputReady().then(() => {\n          controller.abort()\n        })\n      } else {\n        // Otherwise we're in the final render and we should already have all\n        // our caches filled.\n        // If the prerender uses stages, we have wait until the runtime stage,\n        // at which point all runtime inputs will be resolved.\n        // (otherwise, a runtime prerender might consider `cookies()` hanging\n        //  even though they'd resolve in the next task.)\n        //\n        // We might still be waiting on some microtasks so we\n        // wait one tick before giving up. When we give up, we still want to\n        // render the content of this cache as deeply as we can so that we can\n        // suspend as deeply as possible in the tree or not at all if we don't\n        // end up waiting for the input.\n        const runtimeStagePromise = getRuntimeStagePromise(workUnitStore)\n        if (runtimeStagePromise) {\n          runtimeStagePromise.then(() =>\n            scheduleOnNextTick(() => controller.abort())\n          )\n        } else {\n          scheduleOnNextTick(() => controller.abort())\n        }\n      }\n\n      return controller.signal\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n    case 'request':\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      return undefined\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nexport function annotateDynamicAccess(\n  expression: string,\n  prerenderStore: PrerenderStoreModern\n) {\n  const dynamicTracking = prerenderStore.dynamicTracking\n  if (dynamicTracking) {\n    dynamicTracking.dynamicAccesses.push({\n      stack: dynamicTracking.isDebugDynamicAccesses\n        ? new Error().stack\n        : undefined,\n      expression,\n    })\n  }\n}\n\nexport function useDynamicRouteParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n  if (workStore && workUnitStore) {\n    switch (workUnitStore.type) {\n      case 'prerender-client':\n      case 'prerender': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n\n        if (fallbackParams && fallbackParams.size > 0) {\n          // We are in a prerender with cacheComponents semantics. We are going to\n          // hang here and never resolve. This will cause the currently\n          // rendering component to effectively be a dynamic hole.\n          React.use(\n            makeHangingPromise(\n              workUnitStore.renderSignal,\n              workStore.route,\n              expression\n            )\n          )\n        }\n        break\n      }\n      case 'prerender-ppr': {\n        const fallbackParams = workUnitStore.fallbackRouteParams\n        if (fallbackParams && fallbackParams.size > 0) {\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        }\n        break\n      }\n      case 'prerender-runtime':\n        throw new InvariantError(\n          `\\`${expression}\\` was called during a runtime prerender. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'cache':\n      case 'private-cache':\n        throw new InvariantError(\n          `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n        )\n      case 'prerender-legacy':\n      case 'request':\n      case 'unstable-cache':\n        break\n      default:\n        workUnitStore satisfies never\n    }\n  }\n}\n\nexport function useDynamicSearchParams(expression: string) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore) {\n    // We assume pages router context and just return\n    return\n  }\n\n  if (!workUnitStore) {\n    throwForMissingRequestStore(expression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-client': {\n      React.use(\n        makeHangingPromise(\n          workUnitStore.renderSignal,\n          workStore.route,\n          expression\n        )\n      )\n      break\n    }\n    case 'prerender-legacy':\n    case 'prerender-ppr': {\n      if (workStore.forceStatic) {\n        return\n      }\n      throw new BailoutToCSRError(expression)\n    }\n    case 'prerender':\n    case 'prerender-runtime':\n      throw new InvariantError(\n        `\\`${expression}\\` was called from a Server Component. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'cache':\n    case 'unstable-cache':\n    case 'private-cache':\n      throw new InvariantError(\n        `\\`${expression}\\` was called inside a cache scope. Next.js should be preventing ${expression} from being included in server components statically, but did not in this case.`\n      )\n    case 'request':\n      return\n    default:\n      workUnitStore satisfies never\n  }\n}\n\nconst hasSuspenseRegex = /\\n\\s+at Suspense \\(<anonymous>\\)/\n\n// Common implicit body tags that React will treat as body when placed directly in html\nconst bodyAndImplicitTags =\n  'body|div|main|section|article|aside|header|footer|nav|form|p|span|h1|h2|h3|h4|h5|h6'\n\n// Detects when RootLayoutBoundary (our framework marker component) appears\n// after Suspense in the component stack, indicating the root layout is wrapped\n// within a Suspense boundary. Ensures no body/html/implicit-body components are in between.\n//\n// Example matches:\n//   at Suspense (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\n//\n// Or with other components in between (but not body/html/implicit-body):\n//   at Suspense (<anonymous>)\n//   at SomeComponent (<anonymous>)\n//   at __next_root_layout_boundary__ (<anonymous>)\nconst hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex = new RegExp(\n  `\\\\n\\\\s+at Suspense \\\\(<anonymous>\\\\)(?:(?!\\\\n\\\\s+at (?:${bodyAndImplicitTags}) \\\\(<anonymous>\\\\))[\\\\s\\\\S])*?\\\\n\\\\s+at ${ROOT_LAYOUT_BOUNDARY_NAME} \\\\([^\\\\n]*\\\\)`\n)\n\nconst hasMetadataRegex = new RegExp(\n  `\\\\n\\\\s+at ${METADATA_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasViewportRegex = new RegExp(\n  `\\\\n\\\\s+at ${VIEWPORT_BOUNDARY_NAME}[\\\\n\\\\s]`\n)\nconst hasOutletRegex = new RegExp(`\\\\n\\\\s+at ${OUTLET_BOUNDARY_NAME}[\\\\n\\\\s]`)\n\nexport function trackAllowedDynamicAccess(\n  workStore: WorkStore,\n  componentStack: string,\n  dynamicValidation: DynamicValidationState,\n  clientDynamic: DynamicTrackingState\n) {\n  if (hasOutletRegex.test(componentStack)) {\n    // We don't need to track that this is dynamic. It is only so when something else is also dynamic.\n    return\n  } else if (hasMetadataRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicMetadata = true\n    return\n  } else if (hasViewportRegex.test(componentStack)) {\n    dynamicValidation.hasDynamicViewport = true\n    return\n  } else if (\n    hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex.test(\n      componentStack\n    )\n  ) {\n    // For Suspense within body, the prelude wouldn't be empty so it wouldn't violate the empty static shells rule.\n    // But if you have Suspense above body, the prelude is empty but we allow that because having Suspense\n    // is an explicit signal from the user that they acknowledge the empty shell and want dynamic rendering.\n    dynamicValidation.hasAllowedDynamic = true\n    dynamicValidation.hasSuspenseAboveBody = true\n    return\n  } else if (hasSuspenseRegex.test(componentStack)) {\n    // this error had a Suspense boundary above it so we don't need to report it as a source\n    // of disallowed\n    dynamicValidation.hasAllowedDynamic = true\n    return\n  } else if (clientDynamic.syncDynamicErrorWithStack) {\n    // This task was the task that called the sync error.\n    dynamicValidation.dynamicErrors.push(\n      clientDynamic.syncDynamicErrorWithStack\n    )\n    return\n  } else {\n    const message =\n      `Route \"${workStore.route}\": Uncached data was accessed outside of ` +\n      '<Suspense>. This delays the entire page from rendering, resulting in a ' +\n      'slow user experience. Learn more: ' +\n      'https://nextjs.org/docs/messages/blocking-route'\n    const error = createErrorWithComponentOrOwnerStack(message, componentStack)\n    dynamicValidation.dynamicErrors.push(error)\n    return\n  }\n}\n\n/**\n * In dev mode, we prefer using the owner stack, otherwise the provided\n * component stack is used.\n */\nfunction createErrorWithComponentOrOwnerStack(\n  message: string,\n  componentStack: string\n) {\n  const ownerStack =\n    process.env.NODE_ENV !== 'production' && React.captureOwnerStack\n      ? React.captureOwnerStack()\n      : null\n\n  const error = new Error(message)\n  error.stack = error.name + ': ' + message + (ownerStack ?? componentStack)\n  return error\n}\n\nexport enum PreludeState {\n  Full = 0,\n  Empty = 1,\n  Errored = 2,\n}\n\nexport function logDisallowedDynamicError(\n  workStore: WorkStore,\n  error: Error\n): void {\n  console.error(error)\n\n  if (!workStore.dev) {\n    if (workStore.hasReadableErrorStacks) {\n      console.error(\n        `To get a more detailed stack trace and pinpoint the issue, start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.`\n      )\n    } else {\n      console.error(`To get a more detailed stack trace and pinpoint the issue, try one of the following:\n  - Start the app in development mode by running \\`next dev\\`, then open \"${workStore.route}\" in your browser to investigate the error.\n  - Rerun the production build with \\`next build --debug-prerender\\` to generate better stack traces.`)\n    }\n  }\n}\n\nexport function throwIfDisallowedDynamic(\n  workStore: WorkStore,\n  prelude: PreludeState,\n  dynamicValidation: DynamicValidationState,\n  serverDynamic: DynamicTrackingState\n): void {\n  if (serverDynamic.syncDynamicErrorWithStack) {\n    logDisallowedDynamicError(\n      workStore,\n      serverDynamic.syncDynamicErrorWithStack\n    )\n    throw new StaticGenBailoutError()\n  }\n\n  if (prelude !== PreludeState.Full) {\n    if (dynamicValidation.hasSuspenseAboveBody) {\n      // This route has opted into allowing fully dynamic rendering\n      // by including a Suspense boundary above the body. In this case\n      // a lack of a shell is not considered disallowed so we simply return\n      return\n    }\n\n    // We didn't have any sync bailouts but there may be user code which\n    // blocked the root. We would have captured these during the prerender\n    // and can log them here and then terminate the build/validating render\n    const dynamicErrors = dynamicValidation.dynamicErrors\n    if (dynamicErrors.length > 0) {\n      for (let i = 0; i < dynamicErrors.length; i++) {\n        logDisallowedDynamicError(workStore, dynamicErrors[i])\n      }\n\n      throw new StaticGenBailoutError()\n    }\n\n    // If we got this far then the only other thing that could be blocking\n    // the root is dynamic Viewport. If this is dynamic then\n    // you need to opt into that by adding a Suspense boundary above the body\n    // to indicate your are ok with fully dynamic rendering.\n    if (dynamicValidation.hasDynamicViewport) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateViewport\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) without explicitly allowing fully dynamic rendering. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-viewport`\n      )\n      throw new StaticGenBailoutError()\n    }\n\n    if (prelude === PreludeState.Empty) {\n      // If we ever get this far then we messed up the tracking of invalid dynamic.\n      // We still adhere to the constraint that you must produce a shell but invite the\n      // user to report this as a bug in Next.js.\n      console.error(\n        `Route \"${workStore.route}\" did not produce a static shell and Next.js was unable to determine a reason. This is a bug in Next.js.`\n      )\n      throw new StaticGenBailoutError()\n    }\n  } else {\n    if (\n      dynamicValidation.hasAllowedDynamic === false &&\n      dynamicValidation.hasDynamicMetadata\n    ) {\n      console.error(\n        `Route \"${workStore.route}\" has a \\`generateMetadata\\` that depends on Request data (\\`cookies()\\`, etc...) or uncached external data (\\`fetch(...)\\`, etc...) when the rest of the route does not. See more info here: https://nextjs.org/docs/messages/next-prerender-dynamic-metadata`\n      )\n      throw new StaticGenBailoutError()\n    }\n  }\n}\n\nexport function delayUntilRuntimeStage<T>(\n  prerenderStore: PrerenderStoreModernRuntime,\n  result: Promise<T>\n): Promise<T> {\n  if (prerenderStore.runtimeStagePromise) {\n    return prerenderStore.runtimeStagePromise.then(() => result)\n  }\n  return result\n}\n","import * as React from 'react'\n\nconst errorRef: { current: null | Error } = { current: null }\n\n// React.cache is currently only available in canary/experimental React channels.\nconst cache =\n  typeof React.cache === 'function'\n    ? React.cache\n    : (fn: (key: unknown) => void) => fn\n\n// When Cache Components is enabled, we record these as errors so that they\n// are captured by the dev overlay as it's more critical to fix these\n// when enabled.\nconst logErrorOrWarn = process.env.__NEXT_CACHE_COMPONENTS\n  ? console.error\n  : console.warn\n\n// We don't want to dedupe across requests.\n// The developer might've just attempted to fix the warning so we should warn again if it still happens.\nconst flushCurrentErrorIfNew = cache(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars -- cache key\n  (key: unknown) => {\n    try {\n      logErrorOrWarn(errorRef.current)\n    } finally {\n      errorRef.current = null\n    }\n  }\n)\n\n/**\n * Creates a function that logs an error message that is deduped by the userland\n * callsite.\n * This requires no indirection between the call of this function and the userland\n * callsite i.e. there's only a single library frame above this.\n * Do not use on the Client where sourcemaps and ignore listing might be enabled.\n * Only use that for warnings need a fix independent of the callstack.\n *\n * @param getMessage\n * @returns\n */\nexport function createDedupedByCallsiteServerErrorLoggerDev<Args extends any[]>(\n  getMessage: (...args: Args) => Error\n) {\n  return function logDedupedError(...args: Args) {\n    const message = getMessage(...args)\n\n    if (process.env.NODE_ENV !== 'production') {\n      const callStackFrames = new Error().stack?.split('\\n')\n      if (callStackFrames === undefined || callStackFrames.length < 4) {\n        logErrorOrWarn(message)\n      } else {\n        // Error:\n        //   logDedupedError\n        //   asyncApiBeingAccessedSynchronously\n        //   <userland callsite>\n        // TODO: This breaks if sourcemaps with ignore lists are enabled.\n        const key = callStackFrames[4]\n        errorRef.current = message\n        flushCurrentErrorIfNew(key)\n      }\n    } else {\n      logErrorOrWarn(message)\n    }\n  }\n}\n","import { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { afterTaskAsyncStorage } from '../app-render/after-task-async-storage.external'\nimport type { WorkStore } from '../app-render/work-async-storage.external'\n\nexport function throwWithStaticGenerationBailoutErrorWithDynamicError(\n  route: string,\n  expression: string\n): never {\n  throw new StaticGenBailoutError(\n    `Route ${route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used ${expression}. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n  )\n}\n\nexport function throwForSearchParamsAccessInUseCache(\n  workStore: WorkStore,\n  constructorOpt: Function\n): never {\n  const error = new Error(\n    `Route ${workStore.route} used \\`searchParams\\` inside \"use cache\". Accessing dynamic request data inside a cache scope is not supported. If you need some search params inside a cached function await \\`searchParams\\` outside of the cached function and pass only the required search params as arguments to the cached function. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n  )\n\n  Error.captureStackTrace(error, constructorOpt)\n  workStore.invalidDynamicUsageError ??= error\n\n  throw error\n}\n\nexport function isRequestAPICallableInsideAfter() {\n  const afterTaskStore = afterTaskAsyncStorage.getStore()\n  return afterTaskStore?.rootTaskSpawnPhase === 'action'\n}\n","import {\n  type ReadonlyRequestCookies,\n  areCookiesMutableInCurrentPhase,\n  RequestCookiesAdapter,\n} from '../web/spec-extension/adapters/request-cookies'\nimport { RequestCookies } from '../web/spec-extension/cookies'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\nexport function cookies(): Promise<ReadonlyRequestCookies> {\n  const callingExpression = 'cookies'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        // TODO(after): clarify that this only applies to pages?\n        `Route ${workStore.route} used \\`cookies()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`cookies()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // cookies object without tracking\n      const underlyingCookies = createEmptyCookies()\n      return makeUntrackedCookies(underlyingCookies)\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`cookies()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n          const error = new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, cookies)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`cookies()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`cookies()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n          return makeHangingCookies(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`cookies`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // We need track dynamic access here eagerly to keep continuity with\n          // how cookies has worked in PPR without cacheComponents.\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // We track dynamic access here so we don't need to wrap the cookies\n          // in individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedCookies(workUnitStore.cookies)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedCookies(workUnitStore.cookies)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          let underlyingCookies: ReadonlyRequestCookies\n\n          if (areCookiesMutableInCurrentPhase(workUnitStore)) {\n            // We can't conditionally return different types here based on the context.\n            // To avoid confusion, we always return the readonly type here.\n            underlyingCookies =\n              workUnitStore.userspaceMutableCookies as unknown as ReadonlyRequestCookies\n          } else {\n            underlyingCookies = workUnitStore.cookies\n          }\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedCookiesWithDevWarnings(\n              workUnitStore,\n              underlyingCookies,\n              workStore?.route\n            )\n          } else {\n            return makeUntrackedCookies(underlyingCookies)\n          }\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\nfunction createEmptyCookies(): ReadonlyRequestCookies {\n  return RequestCookiesAdapter.seal(new RequestCookies(new Headers({})))\n}\n\ninterface CacheLifetime {}\nconst CachedCookies = new WeakMap<\n  CacheLifetime,\n  Promise<ReadonlyRequestCookies>\n>()\n\nfunction makeHangingCookies(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyRequestCookies> {\n  const cachedPromise = CachedCookies.get(prerenderStore)\n  if (cachedPromise) {\n    return cachedPromise\n  }\n\n  const promise = makeHangingPromise<ReadonlyRequestCookies>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`cookies()`'\n  )\n  CachedCookies.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookies(\n  underlyingCookies: ReadonlyRequestCookies\n): Promise<ReadonlyRequestCookies> {\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = Promise.resolve(underlyingCookies)\n  CachedCookies.set(underlyingCookies, promise)\n\n  return promise\n}\n\nfunction makeUntrackedCookiesWithDevWarnings(\n  requestStore: RequestStore,\n  underlyingCookies: ReadonlyRequestCookies,\n  route?: string\n): Promise<ReadonlyRequestCookies> {\n  if (requestStore.asyncApiPromises) {\n    let promise: Promise<ReadonlyRequestCookies>\n    if (underlyingCookies === requestStore.mutableCookies) {\n      promise = requestStore.asyncApiPromises.mutableCookies\n    } else if (underlyingCookies === requestStore.cookies) {\n      promise = requestStore.asyncApiPromises.cookies\n    } else {\n      throw new InvariantError(\n        'Received an underlying cookies object that does not match either `cookies` or `mutableCookies`'\n      )\n    }\n    return instrumentCookiesPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedCookies = CachedCookies.get(underlyingCookies)\n  if (cachedCookies) {\n    return cachedCookies\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingCookies,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentCookiesPromiseWithDevWarnings(promise, route)\n\n  CachedCookies.set(underlyingCookies, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createCookiesAccessError\n)\n\nfunction instrumentCookiesPromiseWithDevWarnings(\n  promise: Promise<ReadonlyRequestCookies>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    size: replaceableWarningDescriptor(promise, 'size', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    getAll: replaceableWarningDescriptor(promise, 'getAll', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    clear: replaceableWarningDescriptor(promise, 'clear', route),\n    toString: replaceableWarningDescriptor(promise, 'toString', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`cookies().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...cookies()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createCookiesAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`cookies()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import type { IncomingHttpHeaders } from 'http'\n\nimport { ReflectAdapter } from './reflect'\n\n/**\n * @internal\n */\nexport class ReadonlyHeadersError extends Error {\n  constructor() {\n    super(\n      'Headers cannot be modified. Read more: https://nextjs.org/docs/app/api-reference/functions/headers'\n    )\n  }\n\n  public static callable() {\n    throw new ReadonlyHeadersError()\n  }\n}\n\nexport type ReadonlyHeaders = Headers & {\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  append(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  set(...args: any[]): void\n  /** @deprecated Method unavailable on `ReadonlyHeaders`. Read more: https://nextjs.org/docs/app/api-reference/functions/headers */\n  delete(...args: any[]): void\n}\nexport class HeadersAdapter extends Headers {\n  private readonly headers: IncomingHttpHeaders\n\n  constructor(headers: IncomingHttpHeaders) {\n    // We've already overridden the methods that would be called, so we're just\n    // calling the super constructor to ensure that the instanceof check works.\n    super()\n\n    this.headers = new Proxy(headers, {\n      get(target, prop, receiver) {\n        // Because this is just an object, we expect that all \"get\" operations\n        // are for properties. If it's a \"get\" for a symbol, we'll just return\n        // the symbol.\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.get(target, prop, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return undefined.\n        if (typeof original === 'undefined') return\n\n        // If the original casing exists, return the value.\n        return ReflectAdapter.get(target, original, receiver)\n      },\n      set(target, prop, value, receiver) {\n        if (typeof prop === 'symbol') {\n          return ReflectAdapter.set(target, prop, value, receiver)\n        }\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, use the prop as the key.\n        return ReflectAdapter.set(target, original ?? prop, value, receiver)\n      },\n      has(target, prop) {\n        if (typeof prop === 'symbol') return ReflectAdapter.has(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return false.\n        if (typeof original === 'undefined') return false\n\n        // If the original casing exists, return true.\n        return ReflectAdapter.has(target, original)\n      },\n      deleteProperty(target, prop) {\n        if (typeof prop === 'symbol')\n          return ReflectAdapter.deleteProperty(target, prop)\n\n        const lowercased = prop.toLowerCase()\n\n        // Let's find the original casing of the key. This assumes that there is\n        // no mixed case keys (e.g. \"Content-Type\" and \"content-type\") in the\n        // headers object.\n        const original = Object.keys(headers).find(\n          (o) => o.toLowerCase() === lowercased\n        )\n\n        // If the original casing doesn't exist, return true.\n        if (typeof original === 'undefined') return true\n\n        // If the original casing exists, delete the property.\n        return ReflectAdapter.deleteProperty(target, original)\n      },\n    })\n  }\n\n  /**\n   * Seals a Headers instance to prevent modification by throwing an error when\n   * any mutating method is called.\n   */\n  public static seal(headers: Headers): ReadonlyHeaders {\n    return new Proxy<ReadonlyHeaders>(headers, {\n      get(target, prop, receiver) {\n        switch (prop) {\n          case 'append':\n          case 'delete':\n          case 'set':\n            return ReadonlyHeadersError.callable\n          default:\n            return ReflectAdapter.get(target, prop, receiver)\n        }\n      },\n    })\n  }\n\n  /**\n   * Merges a header value into a string. This stores multiple values as an\n   * array, so we need to merge them into a string.\n   *\n   * @param value a header value\n   * @returns a merged header value (a string)\n   */\n  private merge(value: string | string[]): string {\n    if (Array.isArray(value)) return value.join(', ')\n\n    return value\n  }\n\n  /**\n   * Creates a Headers instance from a plain object or a Headers instance.\n   *\n   * @param headers a plain object or a Headers instance\n   * @returns a headers instance\n   */\n  public static from(headers: IncomingHttpHeaders | Headers): Headers {\n    if (headers instanceof Headers) return headers\n\n    return new HeadersAdapter(headers)\n  }\n\n  public append(name: string, value: string): void {\n    const existing = this.headers[name]\n    if (typeof existing === 'string') {\n      this.headers[name] = [existing, value]\n    } else if (Array.isArray(existing)) {\n      existing.push(value)\n    } else {\n      this.headers[name] = value\n    }\n  }\n\n  public delete(name: string): void {\n    delete this.headers[name]\n  }\n\n  public get(name: string): string | null {\n    const value = this.headers[name]\n    if (typeof value !== 'undefined') return this.merge(value)\n\n    return null\n  }\n\n  public has(name: string): boolean {\n    return typeof this.headers[name] !== 'undefined'\n  }\n\n  public set(name: string, value: string): void {\n    this.headers[name] = value\n  }\n\n  public forEach(\n    callbackfn: (value: string, name: string, parent: Headers) => void,\n    thisArg?: any\n  ): void {\n    for (const [name, value] of this.entries()) {\n      callbackfn.call(thisArg, value, name, this)\n    }\n  }\n\n  public *entries(): HeadersIterator<[string, string]> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(name) as string\n\n      yield [name, value] as [string, string]\n    }\n  }\n\n  public *keys(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      const name = key.toLowerCase()\n      yield name\n    }\n  }\n\n  public *values(): HeadersIterator<string> {\n    for (const key of Object.keys(this.headers)) {\n      // We assert here that this is a string because we got it from the\n      // Object.keys() call above.\n      const value = this.get(key) as string\n\n      yield value\n    }\n  }\n\n  public [Symbol.iterator](): HeadersIterator<[string, string]> {\n    return this.entries()\n  }\n}\n","import {\n  HeadersAdapter,\n  type ReadonlyHeaders,\n} from '../web/spec-extension/adapters/headers'\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport {\n  throwForMissingRequestStore,\n  workUnitAsyncStorage,\n  type PrerenderStoreModern,\n  type RequestStore,\n} from '../app-render/work-unit-async-storage.external'\nimport {\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  throwToInterruptStaticGeneration,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport {\n  makeDevtoolsIOAwarePromise,\n  makeHangingPromise,\n} from '../dynamic-rendering-utils'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { isRequestAPICallableInsideAfter } from './utils'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { RenderStage } from '../app-render/staged-rendering'\n\n/**\n * This function allows you to read the HTTP incoming request headers in\n * [Server Components](https://nextjs.org/docs/app/building-your-application/rendering/server-components),\n * [Server Actions](https://nextjs.org/docs/app/building-your-application/data-fetching/server-actions-and-mutations),\n * [Route Handlers](https://nextjs.org/docs/app/building-your-application/routing/route-handlers) and\n * [Middleware](https://nextjs.org/docs/app/building-your-application/routing/middleware).\n *\n * Read more: [Next.js Docs: `headers`](https://nextjs.org/docs/app/api-reference/functions/headers)\n */\nexport function headers(): Promise<ReadonlyHeaders> {\n  const callingExpression = 'headers'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    if (\n      workUnitStore &&\n      workUnitStore.phase === 'after' &&\n      !isRequestAPICallableInsideAfter()\n    ) {\n      throw new Error(\n        `Route ${workStore.route} used \\`headers()\\` inside \\`after()\\`. This is not supported. If you need this data inside an \\`after()\\` callback, use \\`headers()\\` outside of the callback. See more info here: https://nextjs.org/docs/canary/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.forceStatic) {\n      // When using forceStatic we override all other logic and always just return an empty\n      // headers object without tracking\n      const underlyingHeaders = HeadersAdapter.seal(new Headers({}))\n      return makeUntrackedHeaders(underlyingHeaders)\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside \"use cache\". Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, headers)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \\`headers()\\` inside a function cached with \\`unstable_cache()\\`. Accessing Dynamic data sources inside a cache scope is not supported. If you need this data inside a cached function use \\`headers()\\` outside of the cached function and pass the required dynamic data in as an argument. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n        case 'prerender':\n        case 'prerender-client':\n        case 'private-cache':\n        case 'prerender-runtime':\n        case 'prerender-ppr':\n        case 'prerender-legacy':\n        case 'request':\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`headers()\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'prerender':\n          return makeHangingHeaders(workStore, workUnitStore)\n        case 'prerender-client':\n          const exportName = '`headers`'\n          throw new InvariantError(\n            `${exportName} must not be used within a client component. Next.js should be preventing ${exportName} from being included in client components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          // PPR Prerender (no cacheComponents)\n          // We are prerendering with PPR. We need track dynamic access here eagerly\n          // to keep continuity with how headers has worked in PPR without cacheComponents.\n          // TODO consider switching the semantic to throw on property access instead\n          return postponeWithTracking(\n            workStore.route,\n            callingExpression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          // Legacy Prerender\n          // We are in a legacy static generation mode while prerendering\n          // We track dynamic access here so we don't need to wrap the headers in\n          // individual property access tracking.\n          return throwToInterruptStaticGeneration(\n            callingExpression,\n            workStore,\n            workUnitStore\n          )\n        case 'prerender-runtime':\n          return delayUntilRuntimeStage(\n            workUnitStore,\n            makeUntrackedHeaders(workUnitStore.headers)\n          )\n        case 'private-cache':\n          // Private caches are delayed until the runtime stage in use-cache-wrapper,\n          // so we don't need an additional delay here.\n          return makeUntrackedHeaders(workUnitStore.headers)\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n\n          if (process.env.NODE_ENV === 'development') {\n            // Semantically we only need the dev tracking when running in `next dev`\n            // but since you would never use next dev with production NODE_ENV we use this\n            // as a proxy so we can statically exclude this code from production builds.\n            return makeUntrackedHeadersWithDevWarnings(\n              workUnitStore.headers,\n              workStore?.route,\n              workUnitStore\n            )\n          } else {\n            return makeUntrackedHeaders(workUnitStore.headers)\n          }\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n\n  // If we end up here, there was no work store or work unit store present.\n  throwForMissingRequestStore(callingExpression)\n}\n\ninterface CacheLifetime {}\nconst CachedHeaders = new WeakMap<CacheLifetime, Promise<ReadonlyHeaders>>()\n\nfunction makeHangingHeaders(\n  workStore: WorkStore,\n  prerenderStore: PrerenderStoreModern\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(prerenderStore)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeHangingPromise<ReadonlyHeaders>(\n    prerenderStore.renderSignal,\n    workStore.route,\n    '`headers()`'\n  )\n  CachedHeaders.set(prerenderStore, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeaders(\n  underlyingHeaders: ReadonlyHeaders\n): Promise<ReadonlyHeaders> {\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = Promise.resolve(underlyingHeaders)\n  CachedHeaders.set(underlyingHeaders, promise)\n\n  return promise\n}\n\nfunction makeUntrackedHeadersWithDevWarnings(\n  underlyingHeaders: ReadonlyHeaders,\n  route: string | undefined,\n  requestStore: RequestStore\n): Promise<ReadonlyHeaders> {\n  if (requestStore.asyncApiPromises) {\n    const promise = requestStore.asyncApiPromises.headers\n    return instrumentHeadersPromiseWithDevWarnings(promise, route)\n  }\n\n  const cachedHeaders = CachedHeaders.get(underlyingHeaders)\n  if (cachedHeaders) {\n    return cachedHeaders\n  }\n\n  const promise = makeDevtoolsIOAwarePromise(\n    underlyingHeaders,\n    requestStore,\n    RenderStage.Runtime\n  )\n\n  const proxiedPromise = instrumentHeadersPromiseWithDevWarnings(promise, route)\n\n  CachedHeaders.set(underlyingHeaders, proxiedPromise)\n\n  return proxiedPromise\n}\n\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createHeadersAccessError\n)\n\nfunction instrumentHeadersPromiseWithDevWarnings(\n  promise: Promise<ReadonlyHeaders>,\n  route: string | undefined\n) {\n  Object.defineProperties(promise, {\n    [Symbol.iterator]: replaceableWarningDescriptorForSymbolIterator(\n      promise,\n      route\n    ),\n    append: replaceableWarningDescriptor(promise, 'append', route),\n    delete: replaceableWarningDescriptor(promise, 'delete', route),\n    get: replaceableWarningDescriptor(promise, 'get', route),\n    has: replaceableWarningDescriptor(promise, 'has', route),\n    set: replaceableWarningDescriptor(promise, 'set', route),\n    getSetCookie: replaceableWarningDescriptor(promise, 'getSetCookie', route),\n    forEach: replaceableWarningDescriptor(promise, 'forEach', route),\n    keys: replaceableWarningDescriptor(promise, 'keys', route),\n    values: replaceableWarningDescriptor(promise, 'values', route),\n    entries: replaceableWarningDescriptor(promise, 'entries', route),\n  })\n  return promise\n}\n\nfunction replaceableWarningDescriptor(\n  target: unknown,\n  prop: string,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, `\\`headers().${prop}\\``)\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, prop, {\n        value,\n        writable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction replaceableWarningDescriptorForSymbolIterator(\n  target: unknown,\n  route: string | undefined\n) {\n  return {\n    enumerable: false,\n    get() {\n      warnForSyncAccess(route, '`...headers()` or similar iteration')\n      return undefined\n    },\n    set(value: unknown) {\n      Object.defineProperty(target, Symbol.iterator, {\n        value,\n        writable: true,\n        enumerable: true,\n        configurable: true,\n      })\n    },\n    configurable: true,\n  }\n}\n\nfunction createHeadersAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`headers()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n","import {\n  getDraftModeProviderForCacheScope,\n  throwForMissingRequestStore,\n} from '../app-render/work-unit-async-storage.external'\n\nimport type { DraftModeProvider } from '../async-storage/draft-mode-provider'\n\nimport {\n  workAsyncStorage,\n  type WorkStore,\n} from '../app-render/work-async-storage.external'\nimport { workUnitAsyncStorage } from '../app-render/work-unit-async-storage.external'\nimport {\n  abortAndThrowOnSynchronousRequestDataAccess,\n  delayUntilRuntimeStage,\n  postponeWithTracking,\n  trackDynamicDataInDynamicRender,\n} from '../app-render/dynamic-rendering'\nimport { createDedupedByCallsiteServerErrorLoggerDev } from '../create-deduped-by-callsite-server-error-logger'\nimport { StaticGenBailoutError } from '../../client/components/static-generation-bailout'\nimport { DynamicServerError } from '../../client/components/hooks-server-context'\nimport { InvariantError } from '../../shared/lib/invariant-error'\nimport { ReflectAdapter } from '../web/spec-extension/adapters/reflect'\n\nexport function draftMode(): Promise<DraftMode> {\n  const callingExpression = 'draftMode'\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (!workStore || !workUnitStore) {\n    throwForMissingRequestStore(callingExpression)\n  }\n\n  switch (workUnitStore.type) {\n    case 'prerender-runtime':\n      // TODO(runtime-ppr): does it make sense to delay this? normally it's always microtasky\n      return delayUntilRuntimeStage(\n        workUnitStore,\n        createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n      )\n    case 'request':\n      return createOrGetCachedDraftMode(workUnitStore.draftMode, workStore)\n\n    case 'cache':\n    case 'private-cache':\n    case 'unstable-cache':\n      // Inside of `\"use cache\"` or `unstable_cache`, draft mode is available if\n      // the outmost work unit store is a request store (or a runtime prerender),\n      // and if draft mode is enabled.\n      const draftModeProvider = getDraftModeProviderForCacheScope(\n        workStore,\n        workUnitStore\n      )\n\n      if (draftModeProvider) {\n        return createOrGetCachedDraftMode(draftModeProvider, workStore)\n      }\n\n    // Otherwise, we fall through to providing an empty draft mode.\n    // eslint-disable-next-line no-fallthrough\n    case 'prerender':\n    case 'prerender-client':\n    case 'prerender-ppr':\n    case 'prerender-legacy':\n      // Return empty draft mode\n      return createOrGetCachedDraftMode(null, workStore)\n\n    default:\n      return workUnitStore satisfies never\n  }\n}\n\nfunction createOrGetCachedDraftMode(\n  draftModeProvider: DraftModeProvider | null,\n  workStore: WorkStore | undefined\n): Promise<DraftMode> {\n  const cacheKey = draftModeProvider ?? NullDraftMode\n  const cachedDraftMode = CachedDraftModes.get(cacheKey)\n\n  if (cachedDraftMode) {\n    return cachedDraftMode\n  }\n\n  if (process.env.NODE_ENV === 'development' && !workStore?.isPrefetchRequest) {\n    const route = workStore?.route\n    return createDraftModeWithDevWarnings(draftModeProvider, route)\n  } else {\n    return Promise.resolve(new DraftMode(draftModeProvider))\n  }\n}\n\ninterface CacheLifetime {}\nconst NullDraftMode = {}\nconst CachedDraftModes = new WeakMap<CacheLifetime, Promise<DraftMode>>()\n\nfunction createDraftModeWithDevWarnings(\n  underlyingProvider: null | DraftModeProvider,\n  route: undefined | string\n): Promise<DraftMode> {\n  const instance = new DraftMode(underlyingProvider)\n  const promise = Promise.resolve(instance)\n\n  const proxiedPromise = new Proxy(promise, {\n    get(target, prop, receiver) {\n      switch (prop) {\n        case 'isEnabled':\n          warnForSyncAccess(route, `\\`draftMode().${prop}\\``)\n          break\n        case 'enable':\n        case 'disable': {\n          warnForSyncAccess(route, `\\`draftMode().${prop}()\\``)\n          break\n        }\n        default: {\n          // We only warn for well-defined properties of the draftMode object.\n        }\n      }\n\n      return ReflectAdapter.get(target, prop, receiver)\n    },\n  })\n\n  return proxiedPromise\n}\n\nclass DraftMode {\n  /**\n   * @internal - this declaration is stripped via `tsc --stripInternal`\n   */\n  private readonly _provider: null | DraftModeProvider\n\n  constructor(provider: null | DraftModeProvider) {\n    this._provider = provider\n  }\n  get isEnabled() {\n    if (this._provider !== null) {\n      return this._provider.isEnabled\n    }\n    return false\n  }\n  public enable() {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    trackDynamicDraftMode('draftMode().enable()', this.enable)\n    if (this._provider !== null) {\n      this._provider.enable()\n    }\n  }\n  public disable() {\n    trackDynamicDraftMode('draftMode().disable()', this.disable)\n    if (this._provider !== null) {\n      this._provider.disable()\n    }\n  }\n}\nconst warnForSyncAccess = createDedupedByCallsiteServerErrorLoggerDev(\n  createDraftModeAccessError\n)\n\nfunction createDraftModeAccessError(\n  route: string | undefined,\n  expression: string\n) {\n  const prefix = route ? `Route \"${route}\" ` : 'This route '\n  return new Error(\n    `${prefix}used ${expression}. ` +\n      `\\`draftMode()\\` returns a Promise and must be unwrapped with \\`await\\` or \\`React.use()\\` before accessing its properties. ` +\n      `Learn more: https://nextjs.org/docs/messages/sync-dynamic-apis`\n  )\n}\n\nfunction trackDynamicDraftMode(expression: string, constructorOpt: Function) {\n  const workStore = workAsyncStorage.getStore()\n  const workUnitStore = workUnitAsyncStorage.getStore()\n\n  if (workStore) {\n    // We have a store we want to track dynamic data access to ensure we\n    // don't statically generate routes that manipulate draft mode.\n    if (workUnitStore?.phase === 'after') {\n      throw new Error(\n        `Route ${workStore.route} used \"${expression}\" inside \\`after()\\`. The enabled status of \\`draftMode()\\` can be read inside \\`after()\\` but you cannot enable or disable \\`draftMode()\\`. See more info here: https://nextjs.org/docs/app/api-reference/functions/after`\n      )\n    }\n\n    if (workStore.dynamicShouldError) {\n      throw new StaticGenBailoutError(\n        `Route ${workStore.route} with \\`dynamic = \"error\"\\` couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`\n      )\n    }\n\n    if (workUnitStore) {\n      switch (workUnitStore.type) {\n        case 'cache':\n        case 'private-cache': {\n          const error = new Error(\n            `Route ${workStore.route} used \"${expression}\" inside \"use cache\". The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/messages/next-request-in-use-cache`\n          )\n          Error.captureStackTrace(error, constructorOpt)\n          workStore.invalidDynamicUsageError ??= error\n          throw error\n        }\n        case 'unstable-cache':\n          throw new Error(\n            `Route ${workStore.route} used \"${expression}\" inside a function cached with \\`unstable_cache()\\`. The enabled status of \\`draftMode()\\` can be read in caches but you must not enable or disable \\`draftMode()\\` inside a cache. See more info here: https://nextjs.org/docs/app/api-reference/functions/unstable_cache`\n          )\n\n        case 'prerender':\n        case 'prerender-runtime': {\n          const error = new Error(\n            `Route ${workStore.route} used ${expression} without first calling \\`await connection()\\`. See more info here: https://nextjs.org/docs/messages/next-prerender-sync-headers`\n          )\n          return abortAndThrowOnSynchronousRequestDataAccess(\n            workStore.route,\n            expression,\n            error,\n            workUnitStore\n          )\n        }\n        case 'prerender-client':\n          const exportName = '`draftMode`'\n          throw new InvariantError(\n            `${exportName} must not be used within a Client Component. Next.js should be preventing ${exportName} from being included in Client Components statically, but did not in this case.`\n          )\n        case 'prerender-ppr':\n          return postponeWithTracking(\n            workStore.route,\n            expression,\n            workUnitStore.dynamicTracking\n          )\n        case 'prerender-legacy':\n          workUnitStore.revalidate = 0\n\n          const err = new DynamicServerError(\n            `Route ${workStore.route} couldn't be rendered statically because it used \\`${expression}\\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`\n          )\n          workStore.dynamicUsageDescription = expression\n          workStore.dynamicUsageStack = err.stack\n\n          throw err\n        case 'request':\n          trackDynamicDataInDynamicRender(workUnitStore)\n          break\n        default:\n          workUnitStore satisfies never\n      }\n    }\n  }\n}\n","module.exports.cookies = require('./dist/server/request/cookies').cookies\nmodule.exports.headers = require('./dist/server/request/headers').headers\nmodule.exports.draftMode = require('./dist/server/request/draft-mode').draftMode\n","import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Inter%22,%22arguments%22:[{%22subsets%22:[%22latin%22]}],%22variableName%22:%22inter%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Inter', 'Inter Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n","/**\n * @file layout.tsx\n * @description Xs-Blog \n * @author Arran\n * @copyright 2025 Arran ( SuMoChen)\n * @version 1.0.0\n * @created 2025-11-05\n * @repository Gitee https://gitee.com/smochen/Xs-blog\n * @repository Github https://github.com/su16888/Xs-blog\n */\n\nimport type { Metadata } from 'next'\nimport { Inter } from 'next/font/google'\nimport { ThemeProvider } from '@/contexts/ThemeContext'\nimport { SettingsProvider } from '@/contexts/SettingsContext'\nimport { ProfileProvider } from '@/contexts/ProfileContext'\nimport { SocialLinksProvider } from '@/contexts/SocialLinksContext'\nimport { AuthProvider } from '@/contexts/AuthContext'\nimport IntegrityGuard from '@/components/IntegrityGuard'\nimport FloatingButtons from '@/components/FloatingButtons'\nimport PageVisitTracker from '@/components/PageVisitTracker'\nimport GrayscaleOverlay from '@/components/GrayscaleOverlay'\nimport GlobalNav from '@/components/GlobalNav'\nimport { isAdminPage } from '@/lib/adminConfig'\nimport { headers, cookies } from 'next/headers'\nimport './globals.css'\n\nconst inter = Inter({ subsets: ['latin'] })\n\nimport { getApiBaseUrl, safeFetch } from '@/lib/utils'\n\n// \nlet settingsCache: any = null\nlet cacheTime = 0\nconst CACHE_DURATION = 60 * 1000 //  60 \n\n// \nasync function getSiteSettings() {\n  // \n  const now = Date.now()\n  if (settingsCache && (now - cacheTime) < CACHE_DURATION) {\n    return settingsCache\n  }\n\n  try {\n    const response = await safeFetch('/api/settings', {\n      next: { revalidate: 60 } //  Next.js 60\n    })\n\n    if (!response.ok) {\n      throw new Error('Failed to fetch settings')\n    }\n\n    const data = await response.json()\n    if (data.success && data.data) {\n      const settings: any = {}\n      data.data.forEach((setting: any) => {\n        settings[setting.key] = setting.value\n      })\n\n      // \n      settingsCache = settings\n      cacheTime = now\n\n      return settings\n    }\n  } catch (error) {\n    // \n    if (settingsCache) {\n      return settingsCache\n    }\n  }\n\n  return {}\n}\n\n// \nasync function getServerSideTheme() {\n  try {\n    const settings = await getSiteSettings()\n    return settings.themeColor || 'white'\n  } catch (error) {\n    return 'white'\n  }\n}\n\nexport async function generateMetadata(): Promise<Metadata> {\n  const settings = await getSiteSettings()\n  const apiBaseUrl = getApiBaseUrl()\n\n  // \" - \"\n  const fullTitle = settings.siteTitle || ''\n  const titleWithSubtitle = settings.siteSubtitle\n    ? `${fullTitle} - ${settings.siteSubtitle}`\n    : fullTitle\n\n  return {\n    //  document.title \n    // \" - \"\n    title: {\n      default: '',\n      template: '%s'\n    },\n    description: settings.siteDescription || '',\n    keywords: settings.siteKeywords ? settings.siteKeywords.split(',').map((k: string) => k.trim()) : [],\n    authors: [{ name: 'Your Name' }],\n    icons: {\n      icon: '/favicon.ico',\n    },\n  }\n}\n\nexport function generateViewport() {\n  return {\n    width: 'device-width',\n    initialScale: 1,\n  }\n}\n\nexport default async function RootLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  // \n  const headersList = await headers()\n  const pathname = headersList.get('x-invoke-path') ||\n                   headersList.get('x-pathname') ||\n                   headersList.get('x-middleware-request-pathname') ||\n                   headersList.get('x-forwarded-path') ||\n                   ''\n\n  const isAdmin = isAdminPage(pathname)\n  const isPromo = pathname.includes('/promo')\n  const isSocialFeed = pathname.includes('/social-feed')\n\n  // \n  const noNavPages = ['/promo', '/social-feed', '/admins']\n  const shouldShowNav = !noNavPages.some(page => pathname.startsWith(page)) && !isAdmin\n\n  // promo  layout.tsx\n  //  promo \n\n  //  generateMetadata \n  const settings = await getSiteSettings()\n  const customFont = settings.customFont\n  const apiBaseUrl = getApiBaseUrl()\n\n  // \n  const getFontFormat = (fontUrl: string) => {\n    const ext = fontUrl.split('.').pop()?.toLowerCase()\n    switch (ext) {\n      case 'woff2': return 'woff2'\n      case 'woff': return 'woff'\n      case 'otf': return 'opentype'\n      case 'ttf': return 'truetype'\n      case 'eot': return 'embedded-opentype'\n      default: return 'truetype'\n    }\n  }\n\n  // bodyclassName\n  const bodyClassName = customFont ? '' : inter.className\n\n  //  Cookie \n  const cookieStore = await cookies()\n  const themeCookie = cookieStore.get('theme')\n  const userTheme = themeCookie?.value || 'black'\n\n  // \n  // promo \n  const initialTheme = isAdmin ? 'white' : userTheme\n  //  CSS \n  const backgroundColor = isPromo ? undefined : undefined\n\n  return (\n    <html lang=\"zh-CN\" data-theme={initialTheme} style={backgroundColor !== undefined ? { backgroundColor } : {}}>\n      <head>\n        <link rel=\"icon\" href=\"/favicon.ico\" sizes=\"any\" />\n        <script dangerouslySetInnerHTML={{\n          __html: `\n            (function() {\n              // \n              try {\n                var theme = document.cookie.split(';').find(function(c) {\n                  return c.trim().startsWith('theme=');\n                });\n                if (theme) {\n                  theme = theme.split('=')[1];\n                  if (['white', 'gray', 'black'].includes(theme)) {\n                    document.documentElement.setAttribute('data-theme', theme);\n                  }\n                }\n              } catch (e) {}\n\n              //  localStorage \n              try {\n                var path = window.location.pathname;\n                var pageTextsCache = localStorage.getItem('xs_page_texts_cache');\n                var pageTextsExpire = localStorage.getItem('xs_page_texts_expire');\n\n                if (pageTextsCache && pageTextsExpire && Date.now() < parseInt(pageTextsExpire)) {\n                  var pageTexts = JSON.parse(pageTextsCache);\n                  var pageKey = null;\n\n                  // \n                  if (path === '/notes' || path.startsWith('/notes')) pageKey = 'notes';\n                  else if (path === '/navigation' || path.startsWith('/navigation')) pageKey = 'navigation';\n                  else if (path === '/galleries' || path.startsWith('/galleries')) pageKey = 'galleries';\n                  else if (path === '/services' || path.startsWith('/services')) pageKey = 'services';\n                  else if (path === '/messages' || path.startsWith('/messages')) pageKey = 'messages';\n                  else if (path === '/docs' || path.startsWith('/docs')) pageKey = 'docs';\n                  else if (path === '/promo' || path.startsWith('/promo')) pageKey = 'promo';\n                  else if (path === '/social-feed' || path.startsWith('/social-feed')) pageKey = 'socialFeed';\n\n                  if (pageKey && pageTexts[pageKey] && pageTexts[pageKey].browserTitle) {\n                    var title = pageTexts[pageKey].browserTitle;\n                    var subtitle = pageTexts[pageKey].browserSubtitle;\n                    if (subtitle) {\n                      title = title + ' - ' + subtitle;\n                    }\n                    document.title = title;\n                  }\n                }\n              } catch (e) {}\n            })();\n\n            // \n            (function() {\n              // runtime.lastError\n              var originalError = console.error;\n              var originalWarn = console.warn;\n              var originalLog = console.log;\n              var originalInfo = console.info;\n\n              console.error = function() {\n                var args = Array.prototype.slice.call(arguments);\n                var errorMsg = args.join(' ');\n\n                // \n                if (errorMsg.indexOf('runtime.lastError') > -1 ||\n                    errorMsg.indexOf('message channel closed') > -1 ||\n                    errorMsg.indexOf('Extension context invalidated') > -1 ||\n                    errorMsg.indexOf('Fast Refresh') > -1 ||\n                    errorMsg.indexOf('Fetch') > -1) {\n                  return;\n                }\n\n                // \n                originalError.apply(console, args);\n              };\n\n              console.warn = function() {\n                var args = Array.prototype.slice.call(arguments);\n                var msg = args.join(' ');\n\n                // \n                if (msg.indexOf('Fast Refresh') > -1) {\n                  return;\n                }\n\n                originalWarn.apply(console, args);\n              };\n\n              console.log = function() {\n                var args = Array.prototype.slice.call(arguments);\n                var msg = args.join(' ');\n\n                // \n                if (msg.indexOf('Fast Refresh') > -1 ||\n                    msg.indexOf('XHR') > -1 ||\n                    msg.indexOf('Fetch') > -1) {\n                  return;\n                }\n\n                originalLog.apply(console, args);\n              };\n\n              console.info = function() {\n                var args = Array.prototype.slice.call(arguments);\n                var msg = args.join(' ');\n\n                // \n                if (msg.indexOf('Fast Refresh') > -1 ||\n                    msg.indexOf('XHR') > -1 ||\n                    msg.indexOf('Fetch') > -1) {\n                  return;\n                }\n\n                originalInfo.apply(console, args);\n              };\n\n              // \n              window.addEventListener('error', function(e) {\n                var msg = e.message || '';\n                if (msg.indexOf('runtime.lastError') > -1 ||\n                    msg.indexOf('message channel closed') > -1 ||\n                    msg.indexOf('Extension context invalidated') > -1 ||\n                    msg.indexOf('Fast Refresh') > -1 ||\n                    msg.indexOf('Fetch') > -1) {\n                  e.stopImmediatePropagation();\n                  e.preventDefault();\n                  return false;\n                }\n              }, true);\n            })();\n          `\n        }} />\n        {customFont && !isPromo && !pathname.startsWith('/docs') ? (\n          <>\n            <style dangerouslySetInnerHTML={{\n              __html: `\n                @font-face {\n                  font-family: 'CustomFont';\n                  src: url('${customFont.startsWith('http') ? customFont : apiBaseUrl + customFont}') format('${getFontFormat(customFont)}');\n                  font-weight: normal;\n                  font-style: normal;\n                  font-display: swap;\n                }\n                body {\n                  font-family: 'CustomFont', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !important;\n                }\n              `\n            }} />\n            <script dangerouslySetInnerHTML={{\n              __html: `\n                (function() {\n                  // \n                  if (document.fonts) {\n                    document.fonts.load('16px CustomFont').then(function() {\n                      // \n                    }).catch(function(error) {\n                      // \n                      var notification = document.createElement('div');\n                      notification.style.cssText = 'position: fixed; top: 20px; left: 50%; transform: translateX(-50%); background: #fee; color: #c33; padding: 16px 24px; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 10000; max-width: 90%; font-size: 14px; line-height: 1.6;';\n                      notification.innerHTML = '<strong> </strong><br/><br/><br/>1.  <a href=\"https://transfonter.org/\" target=\"_blank\" style=\"color: #c33; text-decoration: underline;\">transfonter.org</a> WOFF2<br/>2. ';\n                      document.body.appendChild(notification);\n                      setTimeout(function() {\n                        notification.style.transition = 'opacity 0.5s';\n                        notification.style.opacity = '0';\n                        setTimeout(function() { notification.remove(); }, 500);\n                      }, 10000);\n                    });\n                  }\n                })();\n              `\n            }} />\n          </>\n        ) : null}\n      </head>\n      <body\n        className={bodyClassName}\n        style={isPromo ? { margin: 0, padding: 0, overflowX: 'hidden' } : {}}\n      >\n        <IntegrityGuard>\n          <ThemeProvider>\n            <SettingsProvider>\n              <AuthProvider>\n                <ProfileProvider>\n                  <SocialLinksProvider>\n                    <GlobalNav serverSettings={settings} />\n                    {children}\n                    <FloatingButtons />\n                    <PageVisitTracker />\n                    <GrayscaleOverlay />\n                  </SocialLinksProvider>\n                </ProfileProvider>\n              </AuthProvider>\n            </SettingsProvider>\n          </ThemeProvider>\n        </IntegrityGuard>\n      </body>\n    </html>\n  )\n}\n","/**\n * @file runtimeConfig.ts\n * @description  - \n * @author Arran\n * @copyright 2025 Arran ( SuMoChen)\n * @version 3.1.0\n * @created 2025-11-07\n * @updated 2025-12-10\n *\n * \n * 1. Nginx NEXT_PUBLIC_API_URL=/api\n * 2. NEXT_PUBLIC_API_URL=http://api.example.com:3001/api\n * 3.  + \n *\n * \n * 1. NEXT_PUBLIC_API_URL URL \n * 2. NEXT_PUBLIC_API_HOST + PORT + PROTOCOL\n * 3.  + 3001 \n */\n\n/**\n * \n */\nfunction isRelativePath(url: string): boolean {\n  return url.startsWith('/') && !url.startsWith('//');\n}\n\n/**\n *  URL\n */\nfunction isValidUrl(url: string): boolean {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n *  API URL\n */\nfunction getApiUrl(): string {\n  const envApiUrl = process.env.NEXT_PUBLIC_API_URL;\n\n  // ========================================\n  // Nginx \n  // NEXT_PUBLIC_API_URL=/api\n  //  Nginx /api \n  // ========================================\n  if (envApiUrl && isRelativePath(envApiUrl)) {\n    // \n    return envApiUrl;\n  }\n\n  // ========================================\n  // \n  // NEXT_PUBLIC_API_URL=http://api.example.com:3001/api\n  // \n  // ========================================\n  if (envApiUrl && isValidUrl(envApiUrl)) {\n    //  URL\n    return envApiUrl;\n  }\n\n  // ========================================\n  // \n  // \n  //   NEXT_PUBLIC_API_HOST=api.example.com\n  //   NEXT_PUBLIC_API_PORT=3001\n  //   NEXT_PUBLIC_API_PROTOCOL=https\n  // ========================================\n  const host = process.env.NEXT_PUBLIC_API_HOST;\n  const port = process.env.NEXT_PUBLIC_API_PORT;\n  const protocol = process.env.NEXT_PUBLIC_API_PROTOCOL;\n\n  if (host && port && protocol) {\n    return `${protocol}://${host}:${port}/api`;\n  }\n\n  // ========================================\n  // \n  //  + \n  // ========================================\n  if (typeof window !== 'undefined') {\n    const currentProtocol = window.location.protocol.replace(':', '');\n    const currentHost = window.location.hostname;\n    //  3001\n    const apiPort = process.env.NEXT_PUBLIC_BACKEND_PORT || '3001';\n    return `${currentProtocol}://${currentHost}:${apiPort}/api`;\n  }\n\n  // ========================================\n  // \n  // SSR \n  // ========================================\n  const defaultHost = process.env.NEXT_PUBLIC_DEFAULT_HOST || 'localhost';\n  const defaultPort = process.env.NEXT_PUBLIC_BACKEND_PORT || '3001';\n  const defaultProtocol = process.env.NEXT_PUBLIC_DEFAULT_PROTOCOL || 'http';\n  return `${defaultProtocol}://${defaultHost}:${defaultPort}/api`;\n}\n\n/**\n * \n */\nexport function getRuntimeConfig(): { apiUrl: string } {\n  return {\n    apiUrl: getApiUrl()\n  };\n}\n\n/**\n * \n */\nexport function clearConfigCache() {\n  // \n}\n","/**\n * @file adminConfig.ts\n * @description Xs-Blog  -  admins\n * @author Arran\n * @copyright 2025 Arran ( SuMoChen)\n * @version 2.0.0\n * @created 2025-11-05\n * @updated 2025-11-09\n * @repository Gitee https://gitee.com/smochen/Xs-blog\n * @repository Github https://github.com/su16888/Xs-blog\n */\n\n// \n\nimport { getRuntimeConfig } from './runtimeConfig'\n\n// \nconst ADMIN_PATH = 'admins';\n\n//  admins\nexport const getAdminPath = (): string => {\n  return ADMIN_PATH;\n};\n\n//  API URL API \nexport const getApiUrl = (): string => {\n  const config = getRuntimeConfig();\n  return config.apiUrl;\n};\n\n//  URL\nexport const getAdminUrl = (path: string = ''): string => {\n  const cleanPath = path.startsWith('/') ? path.slice(1) : path;\n  return `/${ADMIN_PATH}${cleanPath ? `/${cleanPath}` : ''}`;\n};\n\n//  useRouter  push \nexport const getAdminRoute = (path: string = ''): string => {\n  return getAdminUrl(path);\n};\n\n// \nexport const isAdminPage = (pathname: string): boolean => {\n  // \n  //  /note/ \n  if (pathname.startsWith('/note/')) {\n    return false;\n  }\n\n  // \n  return pathname.startsWith(`/${ADMIN_PATH}`);\n};","function r(e){var t,f,n=\"\";if(\"string\"==typeof e||\"number\"==typeof e)n+=e;else if(\"object\"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(f=r(e[t]))&&(n&&(n+=\" \"),n+=f)}else for(f in e)e[f]&&(n&&(n+=\" \"),n+=f);return n}export function clsx(){for(var e,t,f=0,n=\"\",o=arguments.length;f<o;f++)(e=arguments[f])&&(t=r(e))&&(n&&(n+=\" \"),n+=t);return n}export default clsx;","/**\r\n * @file clientCache.ts\r\n * @description \r\n * @author Arran\r\n * @copyright 2025 Arran (SuMoChen)\r\n * @version 1.1.0\r\n * @created 2025-11-24\r\n * @repository Gitee https://gitee.com/smochen/Xs-blog\r\n * @repository Github https://github.com/su16888/Xs-blog\r\n */\r\n\r\ninterface CacheItem {\r\n  data: any\r\n  timestamp: number\r\n  ttl: number // \r\n}\r\n\r\n// Map\r\ntype PendingRequest = {\r\n  promise: Promise<any>\r\n  timestamp: number\r\n}\r\n\r\nclass ClientCache {\r\n  private storage: Storage | null = null\r\n  private prefix = 'xs-blog-cache:'\r\n  private defaultTTL = 5 * 60 * 1000 // 5\r\n\r\n  // \r\n  private pendingRequests: Map<string, PendingRequest> = new Map()\r\n  // \r\n  private pendingTimeout = 30000 // 30\r\n\r\n  constructor() {\r\n    // \r\n    if (typeof window !== 'undefined') {\r\n      try {\r\n        //  sessionStorage\r\n        this.storage = window.sessionStorage\r\n      } catch (error) {\r\n        console.warn('SessionStorage ')\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  private async getCacheTTL(): Promise<number> {\r\n    try {\r\n      //  sessionStorage \r\n      const cachedSettings = this.storage?.getItem('xs-blog-cache:settings')\r\n      if (cachedSettings) {\r\n        const settings = JSON.parse(cachedSettings)\r\n        const cacheTime = parseInt(settings.cacheTime || '5')\r\n        if (!isNaN(cacheTime) && cacheTime >= 0) {\r\n          return cacheTime * 60 * 1000 // \r\n        }\r\n      }\r\n    } catch (error) {\r\n      // \r\n    }\r\n\r\n    return this.defaultTTL\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public updateCacheTTL(cacheTimeMinutes: number) {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const settings = { cacheTime: cacheTimeMinutes }\r\n      this.storage.setItem('xs-blog-cache:settings', JSON.stringify(settings))\r\n      console.log(` : ${cacheTimeMinutes}`)\r\n    } catch (error) {\r\n      console.error(':', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  private getCacheKey(url: string): string {\r\n    return `${this.prefix}${url}`\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public async set(url: string, data: any, customTTL?: number): Promise<void> {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const ttl = customTTL !== undefined ? customTTL : await this.getCacheTTL()\r\n\r\n      //  TTL  0\r\n      if (ttl === 0) return\r\n\r\n      const cacheItem: CacheItem = {\r\n        data,\r\n        timestamp: Date.now(),\r\n        ttl\r\n      }\r\n\r\n      const key = this.getCacheKey(url)\r\n      this.storage.setItem(key, JSON.stringify(cacheItem))\r\n    } catch (error) {\r\n      // Storage \r\n      console.warn(':', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public get(url: string): any | null {\r\n    if (!this.storage) return null\r\n\r\n    try {\r\n      const key = this.getCacheKey(url)\r\n      const cachedData = this.storage.getItem(key)\r\n\r\n      if (!cachedData) return null\r\n\r\n      const cacheItem: CacheItem = JSON.parse(cachedData)\r\n      const now = Date.now()\r\n\r\n      // \r\n      if (now - cacheItem.timestamp > cacheItem.ttl) {\r\n        this.storage.removeItem(key)\r\n        return null\r\n      }\r\n\r\n      return cacheItem.data\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n      return null\r\n    }\r\n  }\r\n\r\n  /**\r\n   * URLPromise\r\n   * @param url - URL\r\n   * @param requestFn - \r\n   * @returns Promise<any>\r\n   */\r\n  public async dedupeRequest<T>(url: string, requestFn: () => Promise<T>): Promise<T> {\r\n    const now = Date.now()\r\n\r\n    // \r\n    const pending = this.pendingRequests.get(url)\r\n    if (pending) {\r\n      // \r\n      if (now - pending.timestamp < this.pendingTimeout) {\r\n        // console.log(` : ${url}`)\r\n        return pending.promise\r\n      } else {\r\n        // \r\n        this.pendingRequests.delete(url)\r\n      }\r\n    }\r\n\r\n    // \r\n    const promise = requestFn()\r\n      .then((result) => {\r\n        // pending\r\n        this.pendingRequests.delete(url)\r\n        return result\r\n      })\r\n      .catch((error) => {\r\n        // pending\r\n        this.pendingRequests.delete(url)\r\n        throw error\r\n      })\r\n\r\n    // \r\n    this.pendingRequests.set(url, {\r\n      promise,\r\n      timestamp: now\r\n    })\r\n\r\n    return promise\r\n  }\r\n\r\n  /**\r\n   * pending\r\n   */\r\n  public cleanPendingRequests(): void {\r\n    const now = Date.now()\r\n    const keysToDelete: string[] = []\r\n\r\n    this.pendingRequests.forEach((pending, url) => {\r\n      if (now - pending.timestamp >= this.pendingTimeout) {\r\n        keysToDelete.push(url)\r\n      }\r\n    })\r\n\r\n    keysToDelete.forEach(key => {\r\n      this.pendingRequests.delete(key)\r\n    })\r\n\r\n    if (keysToDelete.length > 0) {\r\n      // console.log(`  ${keysToDelete.length} pending`)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public remove(url: string): void {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const key = this.getCacheKey(url)\r\n      this.storage.removeItem(key)\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public clear(): void {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const keys: string[] = []\r\n\r\n      // \r\n      for (let i = 0; i < this.storage.length; i++) {\r\n        const key = this.storage.key(i)\r\n        if (key && key.startsWith(this.prefix)) {\r\n          keys.push(key)\r\n        }\r\n      }\r\n\r\n      // \r\n      keys.forEach(key => this.storage!.removeItem(key))\r\n\r\n      console.log(`  ${keys.length} `)\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public clearByPrefix(urlPrefix: string): void {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const keys: string[] = []\r\n      const fullPrefix = this.getCacheKey(urlPrefix)\r\n\r\n      // \r\n      for (let i = 0; i < this.storage.length; i++) {\r\n        const key = this.storage.key(i)\r\n        if (key && key.startsWith(fullPrefix)) {\r\n          keys.push(key)\r\n        }\r\n      }\r\n\r\n      // \r\n      keys.forEach(key => this.storage!.removeItem(key))\r\n\r\n      console.log(`  ${keys.length}  \"${urlPrefix}\" `)\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public getStats(): { count: number; size: number } {\r\n    if (!this.storage) return { count: 0, size: 0 }\r\n\r\n    try {\r\n      let count = 0\r\n      let size = 0\r\n\r\n      for (let i = 0; i < this.storage.length; i++) {\r\n        const key = this.storage.key(i)\r\n        if (key && key.startsWith(this.prefix)) {\r\n          count++\r\n          const value = this.storage.getItem(key)\r\n          if (value) {\r\n            size += value.length\r\n          }\r\n        }\r\n      }\r\n\r\n      return { count, size }\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n      return { count: 0, size: 0 }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * \r\n   */\r\n  public cleanExpired(): void {\r\n    if (!this.storage) return\r\n\r\n    try {\r\n      const keys: string[] = []\r\n      const now = Date.now()\r\n\r\n      // \r\n      for (let i = 0; i < this.storage.length; i++) {\r\n        const key = this.storage.key(i)\r\n        if (key && key.startsWith(this.prefix)) {\r\n          const value = this.storage.getItem(key)\r\n          if (value) {\r\n            try {\r\n              const cacheItem: CacheItem = JSON.parse(value)\r\n              if (now - cacheItem.timestamp > cacheItem.ttl) {\r\n                keys.push(key)\r\n              }\r\n            } catch {\r\n              // \r\n              keys.push(key)\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      // \r\n      keys.forEach(key => this.storage!.removeItem(key))\r\n\r\n      // if (keys.length > 0) {\r\n      //   console.log(`  ${keys.length} `)\r\n      // }\r\n    } catch (error) {\r\n      console.warn(':', error)\r\n    }\r\n  }\r\n}\r\n\r\n// \r\nconst clientCache = new ClientCache()\r\n\r\n// pending5\r\nif (typeof window !== 'undefined') {\r\n  setInterval(() => {\r\n    clientCache.cleanExpired()\r\n    clientCache.cleanPendingRequests()\r\n  }, 5 * 60 * 1000)\r\n}\r\n\r\nexport default clientCache\r\n","/**\n * @file utils.ts\n * @description Xs-Blog \n * @author Arran\n * @copyright 2025 Arran ( SuMoChen)\n * @version 1.0.0\n * @created 2025-11-05\n * @repository Gitee https://gitee.com/smochen/Xs-blog\n * @repository Github https://github.com/su16888/Xs-blog\n */\n\nimport { type ClassValue, clsx } from 'clsx'\nimport clientCache from './clientCache'\n\n/**\n *  className\n */\nexport function cn(...inputs: ClassValue[]) {\n  return clsx(inputs)\n}\n\n/**\n * \n */\nexport function formatDate(date: string | Date, format: string = 'YYYY-MM-DD'): string {\n  const d = new Date(date)\n  const year = d.getFullYear()\n  const month = String(d.getMonth() + 1).padStart(2, '0')\n  const day = String(d.getDate()).padStart(2, '0')\n  const hours = String(d.getHours()).padStart(2, '0')\n  const minutes = String(d.getMinutes()).padStart(2, '0')\n  const seconds = String(d.getSeconds()).padStart(2, '0')\n\n  return format\n    .replace('YYYY', String(year))\n    .replace('MM', month)\n    .replace('DD', day)\n    .replace('HH', hours)\n    .replace('mm', minutes)\n    .replace('ss', seconds)\n}\n\n/**\n * \n */\nexport function formatRelativeTime(date: string | Date): string {\n  const now = new Date()\n  const target = new Date(date)\n  const diff = now.getTime() - target.getTime()\n\n  const seconds = Math.floor(diff / 1000)\n  const minutes = Math.floor(seconds / 60)\n  const hours = Math.floor(minutes / 60)\n  const days = Math.floor(hours / 24)\n  const months = Math.floor(days / 30)\n  const years = Math.floor(days / 365)\n\n  if (seconds < 60) return ''\n  if (minutes < 60) return `${minutes}`\n  if (hours < 24) return `${hours}`\n  if (days < 30) return `${days}`\n  if (months < 12) return `${months}`\n  return `${years}`\n}\n\n/**\n * \n */\nexport function truncate(text: string, length: number = 100): string {\n  if (text.length <= length) return text\n  return text.slice(0, length) + '...'\n}\n\n/**\n *  API  URL\n * \n */\nexport function getApiBaseUrl(): string {\n  // API URL\n  if (process.env.NEXT_PUBLIC_API_URL) {\n    return process.env.NEXT_PUBLIC_API_URL.replace(/\\/api$/, '')\n  }\n\n  // API\n  if (typeof window !== 'undefined') {\n    const { protocol, hostname } = window.location\n    const apiPort = process.env.NEXT_PUBLIC_API_PORT || '3001'\n    return `${protocol}//${hostname}:${apiPort}`\n  }\n\n  // URL\n  const protocol = process.env.NEXT_PUBLIC_API_PROTOCOL || 'http'\n  const host = process.env.NEXT_PUBLIC_API_HOST || 'localhost'\n  const port = process.env.NEXT_PUBLIC_API_PORT || '3001'\n\n  // \n  if (!protocol && !host && !port) {\n    return ''\n  }\n\n  return `${protocol}://${host}:${port}`\n}\n\n/**\n *  URL\n */\nexport function getFileUrl(path: string): string {\n  if (!path) return ''\n\n  //  path \n  const pathStr = typeof path === 'string' ? path : String(path)\n\n  if (pathStr.startsWith('http://') || pathStr.startsWith('https://')) return pathStr\n  const baseUrl = getApiBaseUrl()\n  //  / \n  const normalizedPath = pathStr.startsWith('/') ? pathStr : `/${pathStr}`\n  return `${baseUrl}${normalizedPath}`\n}\n\n/**\n *  fetch \n * @param url - \n * @param options - fetch \n * @param useCache -  true\n * @param cacheTTL - \n */\nexport async function safeFetch(\n  url: string,\n  options?: RequestInit,\n  useCache: boolean = true,\n  cacheTTL?: number\n): Promise<Response> {\n  const method = options?.method?.toUpperCase() || 'GET'\n  const isGetRequest = method === 'GET'\n\n  //  GET \n  if (isGetRequest && useCache && typeof window !== 'undefined') {\n    // \n    const cached = clientCache.get(url)\n    if (cached) {\n      // console.log(` : ${url}`)\n      //  Response \n      return new Response(JSON.stringify(cached), {\n        status: 200,\n        headers: { 'Content-Type': 'application/json' }\n      })\n    }\n\n    // \n    return clientCache.dedupeRequest(url, async () => {\n      return performFetch(url, options, isGetRequest, useCache, cacheTTL)\n    })\n  }\n\n  // GET\n  return performFetch(url, options, isGetRequest, useCache, cacheTTL)\n}\n\n/**\n * fetch\n */\nasync function performFetch(\n  url: string,\n  options?: RequestInit,\n  isGetRequest: boolean = true,\n  useCache: boolean = true,\n  cacheTTL?: number\n): Promise<Response> {\n  // URL\n  if (url.startsWith('http://') || url.startsWith('https://')) {\n    const response = await fetch(url, options)\n\n    //  GET \n    if (isGetRequest && useCache && response.ok && typeof window !== 'undefined') {\n      try {\n        const clone = response.clone()\n        const data = await clone.json()\n        await clientCache.set(url, data, cacheTTL)\n        // console.log(` : ${url}`)\n      } catch (error) {\n        //  JSON\n      }\n    }\n\n    return response\n  }\n\n  // URL\n  if (typeof window === 'undefined') {\n    const apiUrl = process.env.NEXT_PUBLIC_API_URL\n\n    //  /apiURL\n    if (apiUrl && apiUrl.startsWith('/')) {\n      const protocol = process.env.NEXT_PUBLIC_API_PROTOCOL || 'http'\n      const host = process.env.NEXT_PUBLIC_API_HOST || 'localhost'\n      const port = process.env.NEXT_PUBLIC_API_PORT || '3001'\n      return fetch(`${protocol}://${host}:${port}${url}`, options)\n    }\n\n    // URL\n    const baseUrl = getApiBaseUrl()\n    const fullUrl = url.startsWith('/') ? `${baseUrl}${url}` : `${baseUrl}/${url}`\n    return fetch(fullUrl, options)\n  }\n\n  // \n  const response = await fetch(url, options)\n\n  //  GET \n  if (isGetRequest && useCache && response.ok) {\n    try {\n      const clone = response.clone()\n      const data = await clone.json()\n      await clientCache.set(url, data, cacheTTL)\n      // console.log(` : ${url}`)\n    } catch (error) {\n      //  JSON\n    }\n  }\n\n  return response\n}\n\n/**\n * \n */\nexport function isValidEmail(email: string): boolean {\n  const regex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n  return regex.test(email)\n}\n\n/**\n *  URL\n */\nexport function isValidUrl(url: string): boolean {\n  try {\n    new URL(url)\n    return true\n  } catch {\n    return false\n  }\n}\n\n/**\n *  ID\n */\nexport function generateId(): string {\n  return Math.random().toString(36).substring(2, 9)\n}\n\n/**\n * \n */\nexport function debounce<T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): (...args: Parameters<T>) => void {\n  let timeout: NodeJS.Timeout | null = null\n\n  return function executedFunction(...args: Parameters<T>) {\n    const later = () => {\n      timeout = null\n      func(...args)\n    }\n\n    if (timeout) clearTimeout(timeout)\n    timeout = setTimeout(later, wait)\n  }\n}\n\n/**\n * \n */\nexport function throttle<T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): (...args: Parameters<T>) => void {\n  let inThrottle: boolean = false\n\n  return function executedFunction(...args: Parameters<T>) {\n    if (!inThrottle) {\n      func(...args)\n      inThrottle = true\n      setTimeout(() => (inThrottle = false), limit)\n    }\n  }\n}\n\n/**\n * \n */\nexport function deepClone<T>(obj: T): T {\n  return JSON.parse(JSON.stringify(obj))\n}\n\n/**\n * \n */\nexport function getSocialIcon(platform: string): string {\n  const icons: Record<string, string> = {\n    github: 'github',\n    twitter: 'twitter',\n    linkedin: 'linkedin',\n    facebook: 'facebook',\n    instagram: 'instagram',\n    youtube: 'youtube',\n    weibo: 'weibo',\n    wechat: 'message-circle',\n    email: 'mail',\n    website: 'globe',\n  }\n\n  return icons[platform.toLowerCase()] || 'link'\n}\n"],"names":["RequestCookies","ResponseCookies","stringifyCookie","ReflectAdapter","get","target","prop","receiver","value","Reflect","bind","set","has","deleteProperty","MutableRequestCookiesAdapter","ReadonlyRequestCookiesError","RequestCookiesAdapter","appendMutableCookies","areCookiesMutableInCurrentPhase","createCookiesWithMutableAccessCheck","getModifiedCookieValues","responseCookiesToRequestCookies","Error","constructor","callable","seal","cookies","Proxy","SYMBOL_MODIFY_COOKIE_VALUES","Symbol","for","modified","Array","isArray","length","headers","mutableCookies","modifiedCookieValues","resCookies","returnedCookies","getAll","cookie","wrap","onUpdateCookies","responseCookies","Headers","modifiedValues","modifiedCookies","Set","updateResponseCookies","workStore","workAsyncStorage","getStore","pathWasRevalidated","allCookies","filter","c","name","serializedCookies","tempCookies","push","toString","wrappedCookies","args","add","delete","requestStore","ensureCookiesAreStillMutable","phase","_callingExpression","requestCookies","DynamicServerError","isDynamicServerError","DYNAMIC_ERROR_CODE","description","digest","err","StaticGenBailoutError","isStaticGenBailoutError","NEXT_STATIC_GEN_BAILOUT","code","error","isHangingPromiseRejectionError","makeDevtoolsIOAwarePromise","makeHangingPromise","HANGING_PROMISE_REJECTION","HangingPromiseRejectionError","route","expression","abortListenersBySignal","WeakMap","signal","aborted","Promise","reject","hangingPromise","_","boundRejection","currentListeners","listeners","addEventListener","i","once","catch","ignoreReject","underlying","stage","stagedRendering","delayUntilStage","undefined","resolve","setTimeout","METADATA_BOUNDARY_NAME","OUTLET_BOUNDARY_NAME","ROOT_LAYOUT_BOUNDARY_NAME","VIEWPORT_BOUNDARY_NAME","atLeastOneTask","scheduleImmediate","scheduleOnNextTick","waitAtLeastOneReactRenderTask","cb","then","process","env","NEXT_RUNTIME","nextTick","setImmediate","r","BailoutToCSRError","isBailoutToCSRError","BAILOUT_TO_CSR","reason","InvariantError","message","options","endsWith","createPromiseWithResolvers","promise","res","rej","RenderStage","StagedRenderingController","abortSignal","currentStage","runtimeStagePromise","dynamicStagePromise","advanceStage","getStagePromise","waitForStage","displayName","resolvedValue","ioTriggerPromise","makeDevtoolsIOPromiseFromIOTrigger","ioTrigger","Postpone","PreludeState","abortAndThrowOnSynchronousRequestDataAccess","abortOnSynchronousPlatformIOAccess","accessedDynamicData","annotateDynamicAccess","consumeDynamicAccess","createDynamicTrackingState","createDynamicValidationState","createHangingInputAbortSignal","createRenderInBrowserAbortSignal","delayUntilRuntimeStage","formatDynamicAPIAccesses","getFirstDynamicReason","isDynamicPostpone","isPrerenderInterruptedError","logDisallowedDynamicError","markCurrentScopeAsDynamic","postponeWithTracking","throwIfDisallowedDynamic","throwToInterruptStaticGeneration","trackAllowedDynamicAccess","trackDynamicDataInDynamicRender","trackSynchronousPlatformIOAccessInDev","useDynamicRouteParams","useDynamicSearchParams","hasPostpone","React","unstable_postpone","isDebugDynamicAccesses","dynamicAccesses","syncDynamicErrorWithStack","hasSuspenseAboveBody","hasDynamicMetadata","hasDynamicViewport","hasAllowedDynamic","dynamicErrors","trackingState","store","workUnitStore","type","forceDynamic","forceStatic","dynamicShouldError","dynamicTracking","revalidate","dynamicUsageDescription","dynamicUsageStack","stack","NODE_ENV","usedDynamic","prerenderStore","abortOnSynchronousDynamicDataAccess","createPrerenderInterruptedError","controller","abort","errorWithStack","Dynamic","prerenderSignal","workUnitAsyncStorage","assertPostpone","createPostponeReason","isDynamicPostponeReason","includes","NEXT_PRERENDER_INTERRUPTED","serverDynamic","clientDynamic","access","map","split","slice","line","join","AbortController","cacheSignal","inputReady","getRuntimeStagePromise","fallbackParams","fallbackRouteParams","size","use","renderSignal","throwForMissingRequestStore","hasSuspenseRegex","bodyAndImplicitTags","hasSuspenseBeforeRootLayoutWithoutBodyOrImplicitBodyRegex","RegExp","hasMetadataRegex","hasViewportRegex","hasOutletRegex","componentStack","dynamicValidation","test","createErrorWithComponentOrOwnerStack","ownerStack","captureOwnerStack","console","dev","hasReadableErrorStacks","prelude","result","createDedupedByCallsiteServerErrorLoggerDev","errorRef","current","cache","fn","logErrorOrWarn","__NEXT_CACHE_COMPONENTS","warn","flushCurrentErrorIfNew","key","getMessage","logDedupedError","callStackFrames","isRequestAPICallableInsideAfter","throwForSearchParamsAccessInUseCache","throwWithStaticGenerationBailoutErrorWithDynamicError","constructorOpt","captureStackTrace","invalidDynamicUsageError","afterTaskStore","afterTaskAsyncStorage","rootTaskSpawnPhase","callingExpression","underlyingCookies","createEmptyCookies","makeUntrackedCookies","makeHangingCookies","exportName","userspaceMutableCookies","makeUntrackedCookiesWithDevWarnings","CachedCookies","cachedPromise","cachedCookies","asyncApiPromises","instrumentCookiesPromiseWithDevWarnings","Runtime","proxiedPromise","warnForSyncAccess","createCookiesAccessError","Object","defineProperties","iterator","replaceableWarningDescriptorForSymbolIterator","replaceableWarningDescriptor","clear","enumerable","defineProperty","writable","configurable","prefix","HeadersAdapter","ReadonlyHeadersError","lowercased","toLowerCase","original","keys","find","o","merge","from","append","existing","forEach","callbackfn","thisArg","entries","call","values","underlyingHeaders","makeUntrackedHeaders","makeHangingHeaders","makeUntrackedHeadersWithDevWarnings","CachedHeaders","cachedHeaders","instrumentHeadersPromiseWithDevWarnings","createHeadersAccessError","getSetCookie","draftMode","createOrGetCachedDraftMode","draftModeProvider","getDraftModeProviderForCacheScope","cacheKey","NullDraftMode","cachedDraftMode","CachedDraftModes","isPrefetchRequest","createDraftModeWithDevWarnings","DraftMode","underlyingProvider","instance","provider","_provider","isEnabled","enable","trackDynamicDraftMode","disable","createDraftModeAccessError"],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,35]}