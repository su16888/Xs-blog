module.exports=[35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},62036,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(86723),e=a.i(74290),f=a.i(1703),g=a.i(14800),h=a.i(91128),i=c,j=a.i(65802);function k(a,b){if("function"==typeof a)return a(b);null!=a&&(a.current=b)}class l extends i.Component{getSnapshotBeforeUpdate(a){let b=this.props.childRef.current;if(b&&a.isPresent&&!this.props.isPresent){let a=b.offsetParent,c=(0,h.isHTMLElement)(a)&&a.offsetWidth||0,d=this.props.sizeRef.current;d.height=b.offsetHeight||0,d.width=b.offsetWidth||0,d.top=b.offsetTop,d.left=b.offsetLeft,d.right=c-d.width-d.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:a,isPresent:d,anchorX:e,root:f}){let g=(0,i.useId)(),h=(0,i.useRef)(null),m=(0,i.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:n}=(0,i.useContext)(j.MotionConfigContext),o=function(...a){return c.useCallback(function(...a){return b=>{let c=!1,d=a.map(a=>{let d=k(a,b);return c||"function"!=typeof d||(c=!0),d});if(c)return()=>{for(let b=0;b<d.length;b++){let c=d[b];"function"==typeof c?c():k(a[b],null)}}}}(...a),a)}(h,a?.ref);return(0,i.useInsertionEffect)(()=>{let{width:a,height:b,top:c,left:i,right:j}=m.current;if(d||!h.current||!a||!b)return;let k="left"===e?`left: ${i}`:`right: ${j}`;h.current.dataset.motionPopId=g;let l=document.createElement("style");n&&(l.nonce=n);let o=f??document.head;return o.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${g}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${b}px !important;
            ${k}px !important;
            top: ${c}px !important;
          }
        `),()=>{o.contains(l)&&o.removeChild(l)}},[d]),(0,b.jsx)(l,{isPresent:d,childRef:h,sizeRef:m,children:i.cloneElement(a,{ref:o})})}let n=({children:a,initial:d,isPresent:f,onExitComplete:h,custom:i,presenceAffectsLayout:j,mode:k,anchorX:l,root:n})=>{let p=(0,e.useConstant)(o),q=(0,c.useId)(),r=!0,s=(0,c.useMemo)(()=>(r=!1,{id:q,initial:d,isPresent:f,custom:i,onExitComplete:a=>{for(let b of(p.set(a,!0),p.values()))if(!b)return;h&&h()},register:a=>(p.set(a,!1),()=>p.delete(a))}),[f,p,h]);return j&&r&&(s={...s}),(0,c.useMemo)(()=>{p.forEach((a,b)=>p.set(b,!1))},[f]),c.useEffect(()=>{f||p.size||!h||h()},[f]),"popLayout"===k&&(a=(0,b.jsx)(m,{isPresent:f,anchorX:l,root:n,children:a})),(0,b.jsx)(g.PresenceContext.Provider,{value:s,children:a})};function o(){return new Map}var p=a.i(20410);let q=a=>a.key||"";function r(a){let b=[];return c.Children.forEach(a,a=>{(0,c.isValidElement)(a)&&b.push(a)}),b}let s=({children:a,custom:g,initial:h=!0,onExitComplete:i,presenceAffectsLayout:j=!0,mode:k="sync",propagate:l=!1,anchorX:m="left",root:o})=>{let[s,t]=(0,p.usePresence)(l),u=(0,c.useMemo)(()=>r(a),[a]),v=l&&!s?[]:u.map(q),w=(0,c.useRef)(!0),x=(0,c.useRef)(u),y=(0,e.useConstant)(()=>new Map),[z,A]=(0,c.useState)(u),[B,C]=(0,c.useState)(u);(0,f.useIsomorphicLayoutEffect)(()=>{w.current=!1,x.current=u;for(let a=0;a<B.length;a++){let b=q(B[a]);v.includes(b)?y.delete(b):!0!==y.get(b)&&y.set(b,!1)}},[B,v.length,v.join("-")]);let D=[];if(u!==z){let a=[...u];for(let b=0;b<B.length;b++){let c=B[b],d=q(c);v.includes(d)||(a.splice(b,0,c),D.push(c))}return"wait"===k&&D.length&&(a=D),C(r(a)),A(u),null}let{forceRender:E}=(0,c.useContext)(d.LayoutGroupContext);return(0,b.jsx)(b.Fragment,{children:B.map(a=>{let c=q(a),d=(!l||!!s)&&(u===B||v.includes(c));return(0,b.jsx)(n,{isPresent:d,initial:(!w.current||!!h)&&void 0,custom:g,presenceAffectsLayout:j,mode:k,root:o,onExitComplete:d?void 0:()=>{if(!y.has(c))return;y.set(c,!0);let a=!0;y.forEach(b=>{b||(a=!1)}),a&&(E?.(),C(x.current),l&&t?.(),i&&i())},anchorX:m,children:a},c)})})};a.s(["AnimatePresence",()=>s],62036)},78891,a=>{"use strict";var b=a.i(87924),c=a.i(55488),d=a.i(68114);function e({className:a=""}){let{settings:e}=(0,c.useSettings)(),f=e.backgroundImage||"",g=e.backgroundOpacity||"0.5";if(!f)return null;let h=(0,d.getApiBaseUrl)(),i=f.startsWith("http")?f:`${h}${f}`;return(0,b.jsx)("div",{className:`absolute inset-0 z-0 pointer-events-none ${a}`,style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(g)}})}a.s(["default",()=>e])},70042,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",e="WHMtYmxvZy4=",f=a=>{try{return atob(a)}catch{return""}};function g(){let[a,g]=(0,c.useState)(""),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!1);(0,c.useEffect)(()=>{let a=setTimeout(()=>{let a,b;a=f(d),b=f(e),a.length>0&&b.includes("Xs-blog")&&(g(f(d)),i(f(e)),k(f("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(a)},[]),(0,c.useEffect)(()=>{let a=setInterval(()=>{!document.querySelector("[data-copyright]")&&l&&console.warn("Copyright notice must not be removed.")},5e3);return()=>clearInterval(a)},[l]);let n=async()=>{try{if(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(a=>{let b=a.split("=")[0].trim();document.cookie=`${b}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),"caches"in window){let a=await caches.keys();await Promise.all(a.map(a=>caches.delete(a)))}"indexedDB"in window&&(await indexedDB.databases?.()||[]).forEach(a=>{a.name&&indexedDB.deleteDatabase(a.name)}),alert("清理成功全部数据！"),window.location.reload()}catch(a){alert("清理成功全部数据！"),window.location.reload()}};return l&&a?(0,b.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:a=>a.preventDefault(),children:[(0,b.jsx)("span",{onDoubleClick:n,style:{cursor:"default"},children:a}),(0,b.jsx)("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:h})]}):null}a.s(["default",()=>g])},46712,a=>{"use strict";var b=a.i(72131),c=a.i(55488);function d({forceNoIndex:a=!1,customTitle:d}){let{settings:e}=(0,c.useSettings)(),f="true"===e.allowSEO;return(0,b.useEffect)(()=>{if(d)document.title=d;else{let a=e.siteTitle||"",b=e.siteSubtitle||"";a&&(document.title=b?`${a} - ${b}`:a)}},[e.siteTitle,e.siteSubtitle,d]),(0,b.useEffect)(()=>{if(a||!f){let a=document.querySelector('meta[name="robots"]');a||((a=document.createElement("meta")).name="robots",document.head.appendChild(a)),a.content="noindex, nofollow, noarchive, nosnippet, noimageindex";let b=document.querySelector('meta[name="googlebot"]');b||((b=document.createElement("meta")).name="googlebot",document.head.appendChild(b)),b.content="noindex, nofollow";let c=document.querySelector('meta[http-equiv="X-Robots-Tag"]');c||((c=document.createElement("meta")).httpEquiv="X-Robots-Tag",document.head.appendChild(c)),c.content="noindex, nofollow"}else{let a=document.querySelector('meta[name="robots"]'),b=document.querySelector('meta[name="googlebot"]'),c=document.querySelector('meta[http-equiv="X-Robots-Tag"]');a&&a.remove(),b&&b.remove(),c&&c.remove()}},[a,f]),null}a.s(["default",()=>d])},96101,a=>{"use strict";let b=(0,a.i(70106).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);a.s(["FolderOpen",()=>b],96101)},43108,a=>{"use strict";let b=(0,a.i(70106).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);a.s(["Lock",()=>b],43108)},77156,41379,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);a.s(["Eye",()=>c],77156);let d=(0,b.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);a.s(["EyeOff",()=>d],41379)},38632,a=>{"use strict";let b=(0,a.i(70106).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],38632)},50522,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],50522)},13749,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],13749)},61690,69602,a=>{"use strict";var b=a.i(70106);let c=(0,b.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);a.s(["ZoomIn",()=>c],61690);let d=(0,b.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);a.s(["ZoomOut",()=>d],69602)},84505,a=>{"use strict";let b=(0,a.i(70106).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);a.s(["Download",()=>b],84505)},30230,a=>{"use strict";var b=a.i(72131);function c(){return(c=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a}).apply(this,arguments)}function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],e in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}class f extends b.default.Component{constructor(a){let b;super(a),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),b=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:b}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})):this.reCalculateColumnCount()}reCalculateColumnCount(){let a=window&&window.innerWidth||1/0,b=this.props.breakpointCols;"object"!=typeof b&&(b={default:parseInt(b)||2});let c=1/0,d=b.default||2;for(let e in b){let f=parseInt(e);f>0&&a<=f&&f<c&&(c=f,d=b[e])}d=Math.max(1,parseInt(d)||1),this.state.columnCount!==d&&this.setState({columnCount:d})}itemsInColumns(){let a=this.state.columnCount,c=Array(a),d=b.default.Children.toArray(this.props.children);for(let b=0;b<d.length;b++){let e=b%a;c[e]||(c[e]=[]),c[e].push(d[b])}return c}renderColumns(){let{column:a,columnAttrs:d={},columnClassName:f}=this.props,g=this.itemsInColumns(),h=`${100/g.length}%`,i=f;i&&"string"!=typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===i&&(i="my-masonry-grid_column"));let j=e(e(e({},a),d),{},{style:e(e({},d.style),{},{width:h}),className:i});return g.map((a,d)=>b.default.createElement("div",c({},j,{key:d}),a))}logDeprecated(a){console.error("[Masonry]",a)}render(){let a=this.props,{children:d,breakpointCols:e,columnClassName:f,columnAttrs:g,column:h,className:i}=a,j=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),k=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(k="my-masonry-grid")),b.default.createElement("div",c({},j,{className:k}),this.renderColumns())}}f.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},a.s(["default",0,f])},5784,a=>{"use strict";let b=(0,a.i(70106).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);a.s(["ChevronDown",()=>b],5784)},34845,a=>{"use strict";var b=a.i(87924),c=a.i(46271),d=a.i(87532),e=a.i(33508),f=a.i(43108),g=a.i(38632),h=a.i(96101),i=a.i(5784),j=a.i(72131),k=a.i(68114),l=a.i(38078),m=a.i(70042),n=a.i(19032),o=a.i(30230),p=a.i(46712),q=a.i(78891);function r(){let[a,r]=(0,j.useState)([]),[s,t]=(0,j.useState)([]),[u,v]=(0,j.useState)(!0),[w,x]=(0,j.useState)(""),[y,z]=(0,j.useState)(!1),[A,B]=(0,j.useState)(null),[C,D]=(0,j.useState)(!1),[E,F]=(0,j.useState)(!1),[G,H]=(0,j.useState)(null),[I,J]=(0,j.useState)(1),[K]=(0,j.useState)(20),[L,M]=(0,j.useState)(!0),[N,O]=(0,j.useState)(!1),[P,Q]=(0,j.useState)([]),R={themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:"true",showWapSidebar:"true"},[S,T]=(0,j.useState)(R),[U,V]=(0,j.useState)({title:"",description:"",browserTitle:"",browserSubtitle:""}),[W,X]=(0,j.useState)(!1);(0,j.useEffect)(()=>{Y()},[]),(0,j.useEffect)(()=>{if(!U.browserTitle)return;let a=U.browserTitle;U.browserSubtitle&&(a=`${a} - ${U.browserSubtitle}`),document.title=a},[U.browserTitle,U.browserSubtitle]);let Y=async()=>{J(1);try{await Promise.all([Z(),$(1,!0),aa()])}catch(a){console.error("Failed to load data:",a)}finally{v(!1)}},Z=async()=>{try{let[a,b]=await Promise.all([(0,n.getSettings)(),(0,n.getPageText)("galleries")]);if(a.success&&a.data){let b={};a.data.forEach(a=>{b[a.key]=a.value}),T({themeType:b.themeType||"default",footerCopyright:b.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:b.showTopNavbar||"true",showWapSidebar:b.showWapSidebar||"true"})}b.success&&b.data&&(V({title:b.data.title||"图库列表",description:b.data.description||"探索精彩的图片合集",browserTitle:b.data.browserTitle||"图库列表",browserSubtitle:b.data.browserSubtitle||""}),X(!0))}catch(a){console.error("Failed to load settings:",a),X(!0)}},$=async(a=I,b=!1,c)=>{try{let d=await (0,n.getGalleries)(c);if(d.success&&d.data){let c=d.data;b&&Q(c);let e=(a-1)*K,f=e+K,g=c.slice(e,f);b?r(g):r(a=>[...a,...g]),M(f<c.length)}}catch(a){console.error("Failed to fetch galleries:",a),r([])}},_=async()=>{if(N||!L)return;O(!0);let a=I+1;J(a);try{let b=(a-1)*K,c=b+K,d=P.slice(b,c);r(a=>[...a,...d]),M(c<P.length)}catch(a){console.error("Failed to load more galleries:",a)}finally{O(!1)}},aa=async()=>{try{let a=await (0,n.getGalleryCategories)();a.success&&a.data&&t(a.data)}catch(a){console.error("Failed to fetch categories:",a),t([])}},ab=a.filter(a=>{if(!w.trim())return!0;let b=w.toLowerCase(),c=a.title?.toLowerCase().includes(b),d=a.description?.toLowerCase().includes(b);return c||d}),ac=w.trim()&&ab.length>0,ad=w.trim()&&0===ab.length,ae=a=>{B(a),J(1),$(1,!0,{search:w||void 0,category_id:a||void 0})};return S?.themeType,S?.showTopNavbar,S?.showWapSidebar,(0,b.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col hide-scrollbar",children:[(0,b.jsx)(p.default,{}),(0,b.jsx)(q.default,{}),(0,b.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(0,b.jsx)("div",{className:"h-16"}),(0,b.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:U.title}),(0,b.jsx)("p",{className:"text-text-secondary",children:U.description})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[s.length>0&&(0,b.jsxs)("div",{className:"relative md:w-48 flex-shrink-0",children:[(0,b.jsxs)("button",{onClick:()=>D(!C),className:"w-full flex items-center justify-between px-4 py-3 bg-bg-secondary rounded-lg border border-border-primary hover:bg-bg-tertiary transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.FolderOpen,{className:"w-4 h-4 text-text-secondary"}),(0,b.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:null===A?"全部分类":s.find(a=>a.id===A)?.name||"全部分类"})]}),(0,b.jsx)(i.ChevronDown,{className:`w-4 h-4 text-text-tertiary transition-transform flex-shrink-0 ${C?"rotate-180":""}`})]}),C&&(0,b.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-bg-secondary rounded-lg border border-border-primary shadow-lg z-20",children:(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)("button",{onClick:()=>{ae(null),D(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${null===A?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:"全部"}),s.map(a=>(0,b.jsxs)("button",{onClick:()=>{ae(a.id),D(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${A===a.id?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:[a.icon&&(0,b.jsx)("span",{className:"mr-1.5",children:a.icon}),a.name]},a.id))]})})]}),(0,b.jsx)("div",{className:"hidden md:flex items-center",children:y?(0,b.jsx)("div",{className:"w-64",children:(0,b.jsxs)("div",{className:"relative flex items-center",children:[(0,b.jsx)(d.Search,{className:"absolute left-3 top-0 bottom-0 my-auto w-4 h-4 text-text-tertiary pointer-events-none"}),(0,b.jsx)("input",{type:"text",placeholder:"搜索图册...",value:w,onChange:a=>x(a.target.value),className:"w-full h-[46px] pl-9 pr-9 bg-bg-secondary border border-border-primary rounded-lg text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off",autoFocus:!0}),(0,b.jsx)("button",{type:"button",onClick:()=>{x(""),z(!1)},className:"absolute right-3 top-0 bottom-0 my-auto w-5 h-5 flex items-center justify-center text-text-tertiary hover:text-text-primary transition-colors","aria-label":"关闭搜索",children:(0,b.jsx)(e.X,{className:"w-4 h-4"})})]})}):(0,b.jsx)("button",{type:"button",onClick:()=>z(!0),className:"flex items-center justify-center w-[46px] h-[46px] bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:bg-bg-tertiary hover:text-text-primary transition-all","aria-label":"搜索",children:(0,b.jsx)(d.Search,{className:"w-5 h-5"})})})]}),ac&&(0,b.jsx)("div",{className:"mt-3 p-4 rounded-xl border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:(0,b.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,b.jsxs)("span",{className:"text-sm",style:{color:"var(--info-text)"},children:["搜索结果: 找到 ",ab.length," 个相关图册",(0,b.jsxs)("span",{className:"font-medium ml-1",children:['"',w,'"']})]})})}),ad&&(0,b.jsx)("div",{className:"mt-3 p-4 bg-bg-tertiary rounded-xl border border-border-primary text-center",children:(0,b.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',w,'" 的图册']})})]}),u?(0,b.jsx)(o.default,{breakpointCols:{default:5,1024:4,768:3,640:2},className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:[...Array(10)].map((a,c)=>(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsxs)("div",{className:"bg-bg-secondary rounded-lg shadow-sm border border-border-primary overflow-hidden animate-pulse",children:[(0,b.jsx)("div",{className:"w-full pt-[100%] bg-bg-tertiary"}),(0,b.jsxs)("div",{className:"p-3",children:[(0,b.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-3/4 mb-2"}),(0,b.jsx)("div",{className:"h-3 bg-bg-tertiary rounded w-full"})]})]})},c))}):0!==ab.length||w.trim()?ab.length>0?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(o.default,{breakpointCols:{default:5,1024:4,768:3,640:2},className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:ab.map((a,d)=>{let e;return(0,b.jsx)("div",{className:"mb-4",children:(e=a.hasPassword,(0,b.jsxs)(c.motion.button,{onClick:()=>{H(a.id),F(!0)},className:"group block bg-bg-secondary rounded-lg shadow-sm hover:shadow-lg hover:-translate-y-0.5 border border-border-primary transition-all duration-300 cursor-pointer overflow-hidden w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.03*d},children:[(0,b.jsxs)("div",{className:"relative w-full pt-[100%] bg-gradient-to-br from-primary-100 to-primary-200 overflow-hidden",children:[a.cover_image?(0,b.jsx)("img",{src:(0,k.getFileUrl)(a.cover_image),alt:a.title,className:`absolute inset-0 w-full h-full object-cover transition-transform duration-300 ${e?"blur-xl scale-110":"group-hover:scale-105"}`,draggable:!1,onContextMenu:a=>a.preventDefault(),loading:"lazy"}):(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)(g.Image,{className:"w-12 h-12 text-primary-400"})}),e&&(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("div",{className:"bg-black/60 backdrop-blur-sm rounded-full p-3",children:(0,b.jsx)(f.Lock,{className:"w-6 h-6 text-white"})})}),(0,b.jsxs)("div",{className:"absolute bottom-2 right-2 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1 text-xs text-white font-medium",children:[a.image_count," 张"]})]}),(0,b.jsxs)("div",{className:"p-3 text-left",children:[(0,b.jsx)("h3",{className:"font-medium text-sm text-text-primary group-hover:text-primary-500 transition-colors line-clamp-1 mb-1",children:a.title}),a.description&&(0,b.jsx)("p",{className:"text-xs text-text-tertiary line-clamp-2 leading-relaxed",children:a.description})]})]},`gallery-${a.id}`))},a.id)})}),L&&!w.trim()&&(0,b.jsx)("div",{className:"text-center mt-8",children:(0,b.jsx)("button",{onClick:_,disabled:N,className:"px-8 py-3 bg-primary-500 hover:bg-primary-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg",children:N?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"加载中..."]}):"加载更多"})})]}):null:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(g.Image,{className:"w-16 h-16 text-text-tertiary mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-text-tertiary",children:"暂无图册"})]})]}),(0,b.jsxs)("footer",{className:"mt-auto border-t border-border-primary py-6 text-center text-sm text-text-tertiary",children:[(0,b.jsx)("p",{children:S.footerCopyright}),(0,b.jsx)(m.default,{})]})]}),G&&(0,b.jsx)(l.default,{galleryId:G,isOpen:E,onClose:()=>{F(!1),setTimeout(()=>{H(null)},300)}})]})}a.s(["default",()=>r])}];

//# sourceMappingURL=_22c6083b._.js.map