module.exports=[34423,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(88308),g=a.i(19032),h=a.i(68114);let i={siteTitle:"",siteSubtitle:"",siteDescription:"",siteKeywords:"",themeColor:"white",themeType:"default",footerCopyright:"",backgroundImage:"",backgroundOpacity:"0.5",showSiteNav:"true",showNotes:"true",showSocialLinks:"true",defaultDisplaySection:"notes",customFont:"",customFontName:"",todoReminderCheckInterval:"5",showNoteTags:"true",showNoteCategories:"true",messageIpLimitDays:"1",noteLayoutColumns:"1",avatarShape:"circle",showNoteCover:"true",defaultNoteCover:"",showNavigationRecommended:"true",blogLogo:"",blogLogoText:"",blogNavLinks:"[]",showTopNavbar:"true",showWapSidebar:"true",enableAvatarThemeSwitch:"false",promoThemeEnabled:"false",socialFeedThemeEnabled:"false",docsThemeEnabled:"false",enableUserPage:"true",enableBlogPage:"true",enablePromoPage:"true",enableDocsPage:"true",allowSEO:"false",enableSocialFeedPage:"true",blogAnnouncements:"[]",blogAnnouncementEnabled:"false"},j={navigation:{title:"导航列表",description:"探索精选的网站导航",browserTitle:"导航列表",browserSubtitle:""},services:{title:"服务业务",description:"为您提供专业的服务解决方案",browserTitle:"服务业务",browserSubtitle:""},notes:{title:"笔记列表",description:"探索所有已发布的笔记内容",browserTitle:"全部笔记",browserSubtitle:""},galleries:{title:"图库列表",description:"探索精彩的图片合集",browserTitle:"图库列表",browserSubtitle:""},messages:{title:"联系我们",description:"有任何问题都可以通过这里进行提交你的想法！",browserTitle:"留言板",browserSubtitle:""},promo:{browserTitle:"官网首页",browserSubtitle:"欢迎访问"},socialFeed:{browserTitle:"朋友圈",browserSubtitle:"分享生活点滴"},docs:{title:"文档中心",description:"浏览所有可用的 Markdown 文档，点击查看详情",browserTitle:"文档中心",browserSubtitle:"",usageTitle:"使用说明",usageContent:"将 Markdown 文件放入 public/markdown 目录\n通过 /docs/文件名 访问文档\n支持标准 Markdown 语法、GFM 扩展和 HTML 标签"}},k={section1:"notes",section2:"navigation",showInDefaultTheme:!0},l={storageType:"local",endpoint:"",region:"us-east-1",bucket:"",accessKeyId:"",secretAccessKey:"",customDomain:"",pathStyle:!1},m=[{key:"basic",label:"基本信息",icon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{key:"functions",label:"功能设置",icon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})},{key:"navigation",label:"导航栏",icon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})},{key:"text-settings",label:"内容配置",icon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})},{key:"account",label:"账户安全",icon:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}];function n({activeTab:a,setActiveTab:c}){return(0,b.jsx)("div",{className:"w-full flex-shrink-0",children:(0,b.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsx)("div",{className:"p-3 overflow-x-auto scrollbar-hide",children:(0,b.jsx)("div",{className:"flex gap-2 min-w-max",children:m.map(d=>(0,b.jsx)("button",{onClick:()=>c(d.key),className:`px-4 py-2 text-sm font-medium transition-all duration-300 rounded-lg whitespace-nowrap ${a===d.key?"text-white bg-gradient-to-r from-blue-600 to-blue-700 shadow-md":"text-gray-700 hover:text-blue-600 hover:bg-blue-50 border border-gray-200"}`,children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("span",{className:a===d.key?"text-white":"text-gray-500",children:d.icon}),(0,b.jsx)("span",{children:d.label})]})},d.key))})})})})}function o({settings:a,saving:c,uploadingBackground:d,deletingBackground:e,uploadingFont:f,deletingFont:h,handleChange:i,handleSubmit:j,handleBackgroundUpload:k,handleBackgroundDelete:l,handleFontUpload:m,handleFontDelete:n}){return(0,b.jsx)("form",{onSubmit:j,children:(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,b.jsx)("span",{children:"基本信息"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"siteTitle",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})}),"网站标题"]}),(0,b.jsx)("input",{id:"siteTitle",name:"siteTitle",type:"text",value:a.siteTitle,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"XsBlog"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"siteSubtitle",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"网站副标题"]}),(0,b.jsx)("input",{id:"siteSubtitle",name:"siteSubtitle",type:"text",value:a.siteSubtitle,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"欢迎来到Xsblog"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"副标题将显示在网站标题下方"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"siteDescription",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"网站描述"]}),(0,b.jsx)("textarea",{id:"siteDescription",name:"siteDescription",rows:3,value:a.siteDescription,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white resize-none placeholder-gray-400",placeholder:"简单介绍一下你的网站..."})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"siteKeywords",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"网站关键词"]}),(0,b.jsx)("input",{id:"siteKeywords",name:"siteKeywords",type:"text",value:a.siteKeywords,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"用逗号分隔，例如：个人主页, 博客, 作品集"})]}),"true"===a.blogAnnouncementEnabled&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),"公告栏",(0,b.jsx)("span",{className:"text-xs text-gray-400 font-normal",children:"(仅博客模式展示，最多3条)"})]}),(0,b.jsx)("div",{className:"space-y-4",children:(()=>{let c=[];try{let b=JSON.parse(a.blogAnnouncements||"[]");Array.isArray(b)&&(c=b.map(a=>"string"==typeof a?{text:a,url:""}:a))}catch{c=[]}let d=a=>{i({target:{name:"blogAnnouncements",value:JSON.stringify(a.filter(a=>a.text)),type:"text"}})};return(0,b.jsx)(b.Fragment,{children:[0,1,2].map(a=>(0,b.jsxs)("div",{className:"space-y-2 p-3 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)("span",{className:"text-xs text-gray-500 w-6 font-medium",children:[a+1,"."]}),(0,b.jsx)("input",{type:"text",value:c[a]?.text||"",onChange:b=>{let e=[...c];e[a]||(e[a]={text:"",url:""}),e[a].text=b.target.value,d(e)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"公告内容"}),c[a]?.text&&(0,b.jsx)("button",{type:"button",onClick:()=>{d(c.filter((b,c)=>c!==a))},className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),c[a]?.text&&(0,b.jsxs)("div",{className:"flex items-center gap-2 ml-6",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),(0,b.jsx)("input",{type:"text",value:c[a]?.url||"",onChange:b=>{let e=[...c];e[a]||(e[a]={text:"",url:""}),e[a].url=b.target.value,d(e)},className:"flex-1 px-3 py-1.5 border border-gray-200 rounded-lg text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"跳转链接（选填）"})]})]},a))})})()}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-3",children:"公告将在博客模式的轮播图下方展示，超长文字会以跑马灯形式滚动，多条公告会自动切换"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})})}),(0,b.jsx)("span",{children:"外观设置"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),"主题颜色"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"relative cursor-pointer group",children:[(0,b.jsx)("input",{type:"radio",name:"themeColor",value:"gray",checked:"gray"===a.themeColor,onChange:i,className:"sr-only"}),(0,b.jsxs)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 text-center ${"gray"===a.themeColor?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gray-400 to-gray-600 shadow-sm mx-auto mb-1.5"}),(0,b.jsx)("span",{className:`text-xs font-semibold ${"gray"===a.themeColor?"text-blue-600":"text-gray-700"}`,children:"灰色"})]})]}),(0,b.jsxs)("label",{className:"relative cursor-pointer group",children:[(0,b.jsx)("input",{type:"radio",name:"themeColor",value:"black",checked:"black"===a.themeColor,onChange:i,className:"sr-only"}),(0,b.jsxs)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 text-center ${"black"===a.themeColor?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:[(0,b.jsx)("div",{className:"w-6 h-6 rounded-full bg-gradient-to-br from-gray-800 to-black shadow-sm mx-auto mb-1.5"}),(0,b.jsx)("span",{className:`text-xs font-semibold ${"black"===a.themeColor?"text-blue-600":"text-gray-700"}`,children:"前台自定义"})]})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"选择前台的主题颜色方案：灰色主题会应用全局灰度效果，前台自定义由访客通过悬浮球切换"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6z"})}),"主题类型"]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"relative cursor-pointer group",children:[(0,b.jsx)("input",{type:"radio",name:"themeType",value:"default",checked:"default"===a.themeType,onChange:i,className:"sr-only"}),(0,b.jsx)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 ${"default"===a.themeType?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${"default"===a.themeType?"border-blue-500 bg-white":"border-gray-300 bg-white"}`,children:(0,b.jsx)("div",{className:"w-5 h-2.5 bg-gradient-to-r from-gray-500 to-gray-700 rounded"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:`block text-xs font-semibold ${"default"===a.themeType?"text-blue-700":"text-gray-800"}`,children:"默认主题"}),(0,b.jsx)("span",{className:"text-xs text-gray-600",children:"简洁个人主页"})]})]})})]}),(0,b.jsxs)("label",{className:"relative cursor-pointer group",children:[(0,b.jsx)("input",{type:"radio",name:"themeType",value:"blog",checked:"blog"===a.themeType,onChange:i,className:"sr-only"}),(0,b.jsx)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 ${"blog"===a.themeType?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:(0,b.jsxs)("div",{className:"flex items-center gap-2.5",children:[(0,b.jsx)("div",{className:`w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all shadow-sm ${"blog"===a.themeType?"border-blue-500 bg-gradient-to-br from-blue-500 to-indigo-600":"border-gray-300 bg-gradient-to-br from-blue-400 to-indigo-500"}`,children:(0,b.jsx)("div",{className:"w-5 h-2.5 bg-white/90 rounded"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:`block text-xs font-semibold ${"blog"===a.themeType?"text-blue-700":"text-gray-800"}`,children:"博客主题"}),(0,b.jsx)("span",{className:"text-xs text-gray-600",children:"更完善的个人程序"})]})]})})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-4",children:"选择前台的主题布局类型，博客主题会将滑块左移并添加搜索框"})]}),"default"===a.themeType&&(0,b.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),"点击开启默认主题跳转博客主题"]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"点击默认模式下头像跳转"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",name:"enableAvatarThemeSwitch",value:"true",checked:"true"===a.enableAvatarThemeSwitch,onChange:i,className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${"true"===a.enableAvatarThemeSwitch?"bg-blue-500 shadow-inner":"bg-gray-300"}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${"true"===a.enableAvatarThemeSwitch?"translate-x-5":"translate-x-0"}`})})]})]})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"footerCopyright",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"底部版权文字"]}),(0,b.jsx)("textarea",{id:"footerCopyright",name:"footerCopyright",rows:3,value:a.footerCopyright,onChange:i,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white resize-none placeholder-gray-400 font-mono",placeholder:"例如：© 2025 个人主页. All rights reserved. 支持HTML标签"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:'支持HTML标签，例如：<strong>加粗</strong>、<a href="#">链接</a>等'})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"背景图片"]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[a.backgroundImage&&(0,b.jsx)("div",{className:"flex-shrink-0 w-24 h-16 bg-gray-50 rounded border border-gray-200 overflow-hidden",children:(0,b.jsx)("img",{src:(0,g.getImageUrl)(a.backgroundImage),alt:"Background",className:"w-full h-full object-cover"})}),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!a.backgroundImage&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",id:"backgroundInput",accept:"image/*",onChange:k,disabled:d,className:"hidden"}),(0,b.jsx)("label",{htmlFor:"backgroundInput",className:`px-4 py-2 bg-blue-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-blue-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${d?"opacity-50 cursor-not-allowed":""}`,children:d?"上传中...":"选择文件"})]}),(0,b.jsx)("input",{type:"text",name:"backgroundImage",value:a.backgroundImage,onChange:i,placeholder:"图片URL地址",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),a.backgroundImage&&(0,b.jsx)("button",{type:"button",onClick:l,disabled:e,className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed text-xs whitespace-nowrap",children:e?"删除中...":"删除"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"上传背景图片后，可调整透明度"})]}),a.backgroundImage&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"backgroundOpacity",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})}),"背景透明度"]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("input",{id:"backgroundOpacity",name:"backgroundOpacity",type:"number",min:"0",max:"1",step:"0.1",value:a.backgroundOpacity,onChange:i,className:"w-20 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white"}),(0,b.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"(0-1)"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"调整背景图片的透明度（0完全透明，1完全不透明，建议0.1）"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"})}),"自定义字体"]}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[a.customFont&&(0,b.jsx)("div",{className:"flex-shrink-0 w-32 px-3 py-2 bg-gray-50 rounded border border-gray-200",children:(0,b.jsx)("p",{className:"text-xs text-gray-700 truncate",title:a.customFontName||a.customFont,children:a.customFontName||a.customFont})}),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!a.customFont&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",id:"fontInput",accept:".ttf,.otf,.woff,.woff2",onChange:m,disabled:f,className:"hidden"}),(0,b.jsx)("label",{htmlFor:"fontInput",className:`px-4 py-2 bg-blue-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-blue-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${f?"opacity-50 cursor-not-allowed":""}`,children:f?"上传中...":"选择文件"})]}),(0,b.jsx)("input",{type:"text",name:"customFont",value:a.customFont,onChange:i,placeholder:"字体文件URL地址",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),a.customFont&&(0,b.jsx)("button",{type:"button",onClick:n,disabled:h,className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed text-xs whitespace-nowrap",children:h?"删除中...":"删除"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"支持 ttf、otf、woff、woff2 格式，最大 10MB"})]})]})]})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:(0,b.jsx)("button",{type:"submit",disabled:c,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-blue-600 disabled:hover:to-blue-700 disabled:hover:shadow-none text-sm ${c?"cursor-wait":""}`,children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存设置"]})})})]})})})}function p({name:a,checked:c,onChange:d,disabled:e=!1}){return(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",name:a,value:"true",checked:c,onChange:d,disabled:e,className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${c?"bg-blue-500 shadow-inner":"bg-gray-300"} ${e?"opacity-50 cursor-not-allowed":""}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${c?"translate-x-5":"translate-x-0"}`})})]})}function q({title:a,description:c,icon:d,children:e}){return(0,b.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-3",children:[d,a]}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:c})]}),e]})})}function r({settings:a,saving:c,handleChange:d,handleSubmit:e}){return(0,b.jsx)("form",{onSubmit:e,children:(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-green-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})}),(0,b.jsx)("span",{children:"功能配置"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(q,{title:"官网主题模式",description:"开启后，访问首页将自动显示官网页面内容，且浏览器地址栏不显示 /promo 路径。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),children:(0,b.jsx)(p,{name:"promoThemeEnabled",checked:"true"===a.promoThemeEnabled,onChange:d,disabled:"true"===a.socialFeedThemeEnabled||"true"===a.docsThemeEnabled})}),(0,b.jsx)(q,{title:"朋友圈主题模式",description:"开启后，访问首页将自动显示朋友圈页面内容，且浏览器地址栏不显示 /social-feed 路径。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})}),children:(0,b.jsx)(p,{name:"socialFeedThemeEnabled",checked:"true"===a.socialFeedThemeEnabled,onChange:d,disabled:"true"===a.promoThemeEnabled||"true"===a.docsThemeEnabled})}),(0,b.jsx)(q,{title:"文档主题模式",description:"开启后，访问首页将自动显示文档中心页面内容，且浏览器地址栏不显示 /docs 路径。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),children:(0,b.jsx)(p,{name:"docsThemeEnabled",checked:"true"===a.docsThemeEnabled,onChange:d,disabled:"true"===a.promoThemeEnabled||"true"===a.socialFeedThemeEnabled})}),(0,b.jsx)(q,{title:"启用 /user 页面访问",description:"开启后，可通过 /user 路径访问个人主页模式（默认主题）。关闭后访问将跳转到404页面。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),children:(0,b.jsx)(p,{name:"enableUserPage",checked:"true"===a.enableUserPage,onChange:d})}),(0,b.jsx)(q,{title:"启用 /blog 页面访问",description:"开启后，可通过 /blog 路径访问博客模式（博客主题）。关闭后访问将跳转到404页面。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"})}),children:(0,b.jsx)(p,{name:"enableBlogPage",checked:"true"===a.enableBlogPage,onChange:d})}),"true"!==a.promoThemeEnabled&&(0,b.jsx)(q,{title:"启用 /promo 页面访问",description:"开启后，可通过 /promo 路径访问官网主题页面。关闭后访问将跳转到404页面。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),children:(0,b.jsx)(p,{name:"enablePromoPage",checked:"true"===a.enablePromoPage,onChange:d})}),"true"!==a.docsThemeEnabled&&(0,b.jsx)(q,{title:"启用 /docs 页面访问",description:"开启后，可通过 /docs 路径访问文档中心页面。关闭后访问将跳转到404页面。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),children:(0,b.jsx)(p,{name:"enableDocsPage",checked:"true"===a.enableDocsPage,onChange:d})}),"true"!==a.socialFeedThemeEnabled&&(0,b.jsx)(q,{title:"启用朋友圈页面访问",description:"开启后，通过 /social-feed 访问朋友圈页面。关闭后访问将跳转到404页面。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),children:(0,b.jsx)(p,{name:"enableSocialFeedPage",checked:"true"===a.enableSocialFeedPage,onChange:d})}),(0,b.jsx)(q,{title:"允许 SEO 搜索引擎抓取",description:"开启后，允许搜索引擎抓取前台页面内容。关闭后，所有页面将禁止搜索引擎索引。后台 /admins 路径始终禁止抓取。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),children:(0,b.jsx)(p,{name:"allowSEO",checked:"true"===a.allowSEO,onChange:d})}),(0,b.jsx)(q,{title:"显示博客公告栏",description:"开启后，在博客模式的轮播图下方显示公告栏。公告内容在基本信息中设置。",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5.882V19.24a1.76 1.76 0 01-3.417.592l-2.147-6.15M18 13a3 3 0 100-6M5.436 13.683A4.001 4.001 0 017 6h1.832c4.1 0 7.625-1.234 9.168-3v14c-1.543-1.766-5.067-3-9.168-3H7a3.988 3.988 0 01-1.564-.317z"})}),children:(0,b.jsx)(p,{name:"blogAnnouncementEnabled",checked:"true"===a.blogAnnouncementEnabled,onChange:d})}),"default"===a.themeType&&(0,b.jsx)(q,{title:"显示社交链接",description:"控制是否在前台显示社交链接区域（仅默认主题生效）",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9v-9m0-9v9m0 9c-5 0-9-4-9-9s4-9 9-9"})}),children:(0,b.jsx)(p,{name:"showSocialLinks",checked:"true"===a.showSocialLinks,onChange:d})}),"default"===a.themeType&&(0,b.jsx)(q,{title:"显示顶部导航栏",description:"控制是否在前台显示顶部导航栏（仅默认主题生效）",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),children:(0,b.jsx)(p,{name:"showTopNavbar",checked:"true"===a.showTopNavbar,onChange:d})}),"default"===a.themeType&&"true"===a.showTopNavbar&&(0,b.jsx)(q,{title:"显示WAP侧边栏及搜索框",description:"控制是否在移动端显示侧边栏及搜索框",icon:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})}),children:(0,b.jsx)(p,{name:"showWapSidebar",checked:"true"===a.showWapSidebar,onChange:d})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"头像形状"]}),(0,b.jsxs)("select",{name:"avatarShape",value:a.avatarShape,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white",children:[(0,b.jsx)("option",{value:"circle",children:"圆形"}),(0,b.jsx)("option",{value:"rounded",children:"圆角矩形"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"设置个人资料中头像的形状，圆角矩形建议在本站为APP下载页面时使用。"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"todoReminderCheckInterval",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),"待办事项提醒检查频率（分钟）"]}),(0,b.jsx)("input",{id:"todoReminderCheckInterval",name:"todoReminderCheckInterval",type:"number",min:"1",max:"60",value:a.todoReminderCheckInterval,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"5"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"设置后台仪表板检查待办事项提醒的频率（1-60分钟）"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm hover:shadow-md transition-all duration-300",children:[(0,b.jsxs)("label",{htmlFor:"messageIpLimitDays",className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-3",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"留言IP提交频率限制（天）"]}),(0,b.jsx)("input",{id:"messageIpLimitDays",name:"messageIpLimitDays",type:"number",min:"0",max:"365",value:a.messageIpLimitDays,onChange:d,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400",placeholder:"1"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 mt-3",children:"设置同一IP地址提交留言的时间间隔（0表示不限制，1表示24小时内只能提交一次）"})]})]})]})}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:(0,b.jsx)("button",{type:"submit",disabled:c,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-blue-600 disabled:hover:to-blue-700 disabled:hover:shadow-none text-sm ${c?"cursor-wait":""}`,children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存设置"]})})})]})})})}function s({navLinks:a,saving:c,uploadingNavIcon:d,handleSubmit:e,handleAddNavLink:f,handleNavLinkChange:h,handleRemoveNavLink:i,handleMoveNavLink:j,handleNavIconUpload:k,handleRemoveNavIcon:l,setNavLinks:m,setSettings:n,settings:o}){return(0,b.jsx)("form",{onSubmit:e,children:(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,b.jsx)("span",{children:"导航链接"})]}),(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("span",{className:"font-semibold",children:"注意："}),"默认模式下需要先在功能设置中开启【显示顶部导航栏】"]})}),(0,b.jsxs)("div",{className:"space-y-4",children:[a.map((c,e)=>(0,b.jsxs)("div",{className:"flex gap-3 items-start p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1 pt-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>j(e,"up"),disabled:0===e,className:"p-1 text-gray-400 hover:text-blue-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"上移",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,b.jsx)("button",{type:"button",onClick:()=>j(e,"down"),disabled:e===a.length-1,className:"p-1 text-gray-400 hover:text-blue-600 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"下移",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,b.jsxs)("div",{className:"flex-1 space-y-3",children:[(0,b.jsx)("input",{type:"text",placeholder:"链接名称",value:c.name,onChange:a=>h(e,"name",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsx)("input",{type:"text",placeholder:"链接地址",value:c.url,onChange:a=>h(e,"url",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)("label",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50 flex-shrink-0 transition-colors",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,b.jsx)("span",{className:"text-sm",children:d===e?"上传中...":"上传图标"}),(0,b.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:a=>a.target.files?.[0]&&k(e,a.target.files[0]),disabled:d===e})]}),c.icon&&(0,b.jsx)("img",{src:(0,g.getImageUrl)(c.icon),alt:"",className:"w-7 h-7 object-contain flex-shrink-0"}),(0,b.jsx)("input",{type:"text",placeholder:"图标URL（可直接粘贴链接或上传）",value:c.icon||"",onChange:b=>{let c=[...a];c[e].icon=b.target.value,m(c),n(a=>({...a,blogNavLinks:JSON.stringify(c)}))},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"}),c.icon&&(0,b.jsx)("button",{type:"button",onClick:()=>l(e),className:"text-red-500 hover:text-red-600 text-sm flex-shrink-0 px-2",children:"删除"})]})]}),(0,b.jsx)("button",{type:"button",onClick:()=>i(e),className:"text-red-600 hover:text-red-700 p-2",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e)),0===a.length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"暂无导航链接"}),(0,b.jsx)("button",{type:"button",onClick:f,disabled:a.length>=8,className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-blue-500 hover:text-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"+ 添加导航链接"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"最多可添加8个导航链接"})]})]})}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200 mt-4",children:(0,b.jsx)("button",{type:"submit",disabled:c,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:from-blue-600 disabled:hover:to-blue-700 disabled:hover:shadow-none text-sm ${c?"cursor-wait":""}`,children:c?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存设置"]})})})]})})})}function t({settings:a,setSettings:d,pageTexts:e,setPageTexts:f,homeContentSections:h,setHomeContentSections:i,savingTextSettings:j,s3Config:k,setS3Config:l,loadingS3Config:m,savingS3Config:n,testingS3:o,handleSaveTextSettings:p,loadS3Config:q,handleSaveS3Config:r,handleTestS3Connection:s,showToast:t,docsFiles:u,setDocsFiles:v,loadingDocsOrder:w,savingDocsOrder:x,loadDocsOrder:y,handleSaveDocsOrder:z,handleMoveDoc:A}){let[B,C]=(0,c.useState)("page-texts"),[D,E]=(0,c.useState)(!1),F=(0,c.useRef)(null),G=(0,c.useRef)(!1),H=(0,c.useRef)(!1),I=async a=>{let b=a.target.files?.[0];if(b){if(!b.type.startsWith("image/"))return void t("error","请选择图片文件");if(b.size>5242880)return void t("error","图片大小不能超过 5MB");E(!0);try{let a=await (0,g.uploadAdminImage)(b);a.success&&a.data?.url?(d(b=>({...b,defaultNoteCover:a.data.url})),t("success","封面图上传成功")):t("error",a.message||"上传失败")}catch(a){t("error",a.response?.data?.message||"上传失败")}finally{E(!1),F.current&&(F.current.value="")}}};(0,c.useEffect)(()=>{"s3-storage"!==B||G.current||(G.current=!0,q())},[B,q]),(0,c.useEffect)(()=>{"docs-order"!==B||H.current||(H.current=!0,y())},[B,y]);let J={navigation:"导航列表页面",services:"服务业务页面",notes:"笔记列表页面",galleries:"图库列表页面",messages:"留言列表页面"};return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex gap-2 mb-6 border-b border-gray-200 overflow-x-auto scrollbar-hide",children:[(0,b.jsx)("button",{onClick:()=>C("page-texts"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex-shrink-0 ${"page-texts"===B?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"页面文本设置"}),(0,b.jsx)("button",{onClick:()=>C("home-content"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex-shrink-0 ${"home-content"===B?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"首页内容切换"}),(0,b.jsx)("button",{onClick:()=>C("s3-storage"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex-shrink-0 ${"s3-storage"===B?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"S3存储配置"}),(0,b.jsx)("button",{onClick:()=>C("docs-order"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors whitespace-nowrap flex-shrink-0 ${"docs-order"===B?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-gray-900"}`,children:"文档排序"})]}),"page-texts"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("span",{className:"font-semibold",children:"说明："}),"在这里可以自定义各页面的标题、描述和浏览器标签标题。"]})}),["navigation","services","notes","galleries","messages"].map(a=>(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between",children:[J[a],(0,b.jsxs)("a",{href:`/${a}`,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["预览",(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["页面标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e[a].title||"",onChange:b=>f({...e,[a]:{...e[a],title:b.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：导航列表"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["页面描述 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e[a].description||"",onChange:b=>f({...e,[a]:{...e[a],description:b.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：探索精选的网站导航"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["浏览器标签标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e[a].browserTitle,onChange:b=>f({...e,[a]:{...e[a],browserTitle:b.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：导航列表"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"浏览器标签副标题"}),(0,b.jsx)("input",{type:"text",value:e[a].browserSubtitle||"",onChange:b=>f({...e,[a]:{...e[a],browserSubtitle:b.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：个人主页"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"副标题将显示在浏览器标签中，格式为：主标题 - 副标题"})]})]})]},a)),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between",children:["官网主题页面 (/promo)",(0,b.jsxs)("a",{href:"/promo",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["预览",(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["浏览器标签主标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e.promo?.browserTitle||"",onChange:a=>f({...e,promo:{...e.promo,browserTitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：官网首页"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"浏览器标签副标题"}),(0,b.jsx)("input",{type:"text",value:e.promo?.browserSubtitle||"",onChange:a=>f({...e,promo:{...e.promo,browserSubtitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：欢迎访问"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"副标题将显示在浏览器标签中，格式为：主标题 - 副标题"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between",children:["朋友圈页面 (/social-feed)",(0,b.jsxs)("a",{href:"/social-feed",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["预览",(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["浏览器标签主标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e.socialFeed?.browserTitle||"",onChange:a=>f({...e,socialFeed:{...e.socialFeed,browserTitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：朋友圈"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"浏览器标签副标题"}),(0,b.jsx)("input",{type:"text",value:e.socialFeed?.browserSubtitle||"",onChange:a=>f({...e,socialFeed:{...e.socialFeed,browserSubtitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：分享生活点滴"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"副标题将显示在浏览器标签中，格式为：主标题 - 副标题"})]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 mb-3 flex items-center justify-between",children:["文档中心页面 (/docs)",(0,b.jsxs)("a",{href:"/docs",target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-700 flex items-center gap-1",children:["预览",(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["页面标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e.docs?.title||"",onChange:a=>f({...e,docs:{...e.docs,title:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：文档中心"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["页面描述 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e.docs?.description||"",onChange:a=>f({...e,docs:{...e.docs,description:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：浏览所有可用的 Markdown 文档"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:["浏览器标签标题 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:e.docs?.browserTitle||"",onChange:a=>f({...e,docs:{...e.docs,browserTitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：文档中心"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"浏览器标签副标题"}),(0,b.jsx)("input",{type:"text",value:e.docs?.browserSubtitle||"",onChange:a=>f({...e,docs:{...e.docs,browserSubtitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：技术文档"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"副标题将显示在浏览器标签中，格式为：主标题 - 副标题"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"使用说明标题"}),(0,b.jsx)("input",{type:"text",value:e.docs?.usageTitle||"",onChange:a=>f({...e,docs:{...e.docs,usageTitle:a.target.value}}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：使用说明"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"使用说明内容"}),(0,b.jsx)("textarea",{value:e.docs?.usageContent||"",onChange:a=>f({...e,docs:{...e.docs,usageContent:a.target.value}}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"每行一条说明内容，例如： 将 Markdown 文件放入 public/markdown 目录 通过 /docs/文件名 访问文档"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"每行一条说明内容，将显示为列表形式"})]})]})]})]}),"home-content"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:[(0,b.jsxs)("p",{className:"text-sm text-blue-800 mb-2",children:[(0,b.jsx)("span",{className:"font-semibold",children:"说明："}),"选择首页下方展示的内容区域"]}),(0,b.jsx)("p",{className:"text-xs text-blue-700",children:"• 默认主题：可以不显示内容区，或显示1-2个内容区域"}),(0,b.jsx)("p",{className:"text-xs text-blue-700",children:"• 博客主题：至少需要选择1个内容区域"})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:h.showInDefaultTheme,onChange:a=>i({...h,showInDefaultTheme:a.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"ml-2 text-sm font-semibold text-gray-700",children:"在默认主题下显示内容区"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2 ml-6",children:"关闭后，默认主题下不显示下方内容区域"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"内容区域 1"}),(0,b.jsxs)("select",{value:h.section1,onChange:b=>{let c=b.target.value;"blog"===a.themeType&&""===c&&""===h.section2?t("error","博客主题下至少需要选择一个内容区域"):""!==c&&c===h.section2?t("error","两个区域不能选择相同的内容"):i({...h,section1:c})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"",children:"不显示"}),(0,b.jsx)("option",{value:"notes",children:"笔记列表"}),(0,b.jsx)("option",{value:"navigation",children:"导航列表"}),(0,b.jsx)("option",{value:"services",children:"服务业务"}),(0,b.jsx)("option",{value:"galleries",children:"图库列表"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"内容区域 2"}),(0,b.jsxs)("select",{value:h.section2,onChange:b=>{let c=b.target.value;"blog"===a.themeType&&""===c&&""===h.section1?t("error","博客主题下至少需要选择一个内容区域"):""!==c&&c===h.section1?t("error","两个区域不能选择相同的内容"):i({...h,section2:c})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"",children:"不显示"}),(0,b.jsx)("option",{value:"notes",children:"笔记列表"}),(0,b.jsx)("option",{value:"navigation",children:"导航列表"}),(0,b.jsx)("option",{value:"services",children:"服务业务"}),(0,b.jsx)("option",{value:"galleries",children:"图库列表"})]})]}),("notes"===h.section1||"notes"===h.section2)&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsxs)("h3",{className:"text-sm font-semibold text-blue-900 mb-1 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"笔记列表配置"]}),(0,b.jsx)("p",{className:"text-xs text-blue-700",children:'这些设置仅影响"笔记列表"内容区域的显示'})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("label",{className:"block text-xs font-semibold text-gray-800 mb-2 text-center",children:"显示封面图"}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:"true"===a.showNoteCover,onChange:a=>{let b=a.target.checked?"true":"false";d(a=>({...a,showNoteCover:b,noteLayoutColumns:"false"===b?"1":a.noteLayoutColumns}))},className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${"true"===a.showNoteCover?"bg-blue-500 shadow-inner":"bg-gray-300"}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${"true"===a.showNoteCover?"translate-x-5":"translate-x-0"}`})})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("label",{className:`block text-xs font-semibold text-gray-800 mb-2 text-center ${parseInt(a.noteLayoutColumns)>=2?"opacity-50":""}`,children:"显示标签"}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:"true"===a.showNoteTags,onChange:a=>d(b=>({...b,showNoteTags:a.target.checked?"true":"false"})),disabled:parseInt(a.noteLayoutColumns)>=2,className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${"true"===a.showNoteTags?"bg-blue-500 shadow-inner":"bg-gray-300"} ${parseInt(a.noteLayoutColumns)>=2?"opacity-50 cursor-not-allowed":""}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${"true"===a.showNoteTags?"translate-x-5":"translate-x-0"}`})})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("label",{className:`block text-xs font-semibold text-gray-800 mb-2 text-center ${parseInt(a.noteLayoutColumns)>=2?"opacity-50":""}`,children:"显示分类"}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:"true"===a.showNoteCategories,onChange:a=>d(b=>({...b,showNoteCategories:a.target.checked?"true":"false"})),disabled:parseInt(a.noteLayoutColumns)>=2,className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${"true"===a.showNoteCategories?"bg-blue-500 shadow-inner":"bg-gray-300"} ${parseInt(a.noteLayoutColumns)>=2?"opacity-50 cursor-not-allowed":""}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${"true"===a.showNoteCategories?"translate-x-5":"translate-x-0"}`})})]})]}),(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("label",{className:`block text-xs font-semibold text-gray-800 mb-2 text-center ${"false"===a.showNoteCover?"opacity-50":""}`,children:"列表布局"}),(0,b.jsxs)("select",{value:a.noteLayoutColumns,onChange:a=>{let b=a.target.value;d(a=>({...a,noteLayoutColumns:b,showNoteTags:parseInt(b)>=2?"false":a.showNoteTags,showNoteCategories:parseInt(b)>=2?"false":a.showNoteCategories}))},disabled:"false"===a.showNoteCover,className:`px-2 py-1 border border-gray-300 rounded text-xs focus:outline-none focus:ring-2 focus:ring-blue-500 ${"false"===a.showNoteCover?"opacity-50 cursor-not-allowed bg-gray-100":""}`,children:[(0,b.jsx)("option",{value:"1",children:"1列"}),(0,b.jsx)("option",{value:"2",children:"2列"}),(0,b.jsx)("option",{value:"3",children:"3列"}),(0,b.jsx)("option",{value:"4",children:"4列"})]})]})]}),"false"===a.showNoteCover&&(0,b.jsx)("p",{className:"text-xs text-amber-600 mt-3 bg-amber-50 px-3 py-2 rounded",children:"关闭封面图后，列表布局将固定为1列"}),parseInt(a.noteLayoutColumns)>=2&&(0,b.jsx)("p",{className:"text-xs text-blue-600 mt-3 bg-blue-50 px-3 py-2 rounded",children:"2列及以上布局时，标签和分类显示将自动关闭，以保持界面简洁"})]}),"true"===a.showNoteCover&&(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"默认封面图 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),a.defaultNoteCover&&(0,b.jsxs)("div",{className:"mb-3 relative inline-block",children:[(0,b.jsx)("img",{src:(0,g.getImageUrl)(a.defaultNoteCover),alt:"默认封面图预览",className:"w-32 h-20 object-cover rounded-lg border border-gray-200",onError:a=>{a.target.style.display="none"}}),(0,b.jsx)("button",{type:"button",onClick:()=>d(a=>({...a,defaultNoteCover:""})),className:"absolute -top-2 -right-2 w-5 h-5 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors",title:"删除图片",children:(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)("input",{type:"text",value:a.defaultNoteCover,onChange:a=>d(b=>({...b,defaultNoteCover:a.target.value})),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"输入图片URL或点击上传本地图片"}),(0,b.jsx)("input",{ref:F,type:"file",accept:"image/*",onChange:I,className:"hidden"}),(0,b.jsx)("button",{type:"button",onClick:()=>F.current?.click(),disabled:D,className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2 ${D?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"}`,children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"上传中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"上传图片"]})})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"笔记未设置封面图时，将自动使用此默认封面图（支持URL或本地上传，最大5MB）"})]})]})]})]}),"s3-storage"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("span",{className:"font-semibold",children:"说明："}),"配置S3兼容的对象存储服务（如AWS S3、阿里云OSS、腾讯云COS、MinIO等）。切换到S3存储后，新上传的文件将存储到S3，子文件夹结构保持不变。"]})}),m?(0,b.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,b.jsx)("svg",{className:"w-6 h-6 animate-spin text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,b.jsx)("span",{className:"ml-2 text-gray-600",children:"加载配置中..."})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-3 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"存储类型"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("label",{className:"relative cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",value:"local",checked:"local"===k.storageType,onChange:a=>l({...k,storageType:a.target.value}),className:"sr-only"}),(0,b.jsxs)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 text-center ${"local"===k.storageType?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:[(0,b.jsx)("span",{className:`text-sm font-semibold ${"local"===k.storageType?"text-blue-600":"text-gray-700"}`,children:"本地存储"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"文件存储在服务器本地"})]})]}),(0,b.jsxs)("label",{className:"relative cursor-pointer",children:[(0,b.jsx)("input",{type:"radio",value:"s3",checked:"s3"===k.storageType,onChange:a=>l({...k,storageType:a.target.value}),className:"sr-only"}),(0,b.jsxs)("div",{className:`rounded-lg border-2 transition-all duration-300 p-3 text-center ${"s3"===k.storageType?"border-blue-500 bg-blue-50 shadow-lg shadow-blue-500/20":"border-gray-200 bg-white hover:border-blue-300 hover:shadow-md"}`,children:[(0,b.jsx)("span",{className:`text-sm font-semibold ${"s3"===k.storageType?"text-blue-600":"text-gray-700"}`,children:"S3存储"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"文件存储到S3兼容服务"})]})]})]})]}),"s3"===k.storageType&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["端点地址 (Endpoint) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:k.endpoint,onChange:a=>l({...k,endpoint:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：https://s3.amazonaws.com 或 https://oss-cn-hangzhou.aliyuncs.com"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"区域 (Region)"}),(0,b.jsx)("input",{type:"text",value:k.region,onChange:a=>l({...k,region:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：us-east-1、cn-hangzhou"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["存储桶名称 (Bucket) ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:k.bucket,onChange:a=>l({...k,bucket:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：my-bucket"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Access Key ID ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:"text",value:k.accessKeyId,onChange:a=>l({...k,accessKeyId:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"输入Access Key ID"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsxs)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:["Secret Access Key ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("form",{autoComplete:"off",children:(0,b.jsx)("input",{type:"password",autoComplete:"off",value:k.secretAccessKey,onChange:a=>l({...k,secretAccessKey:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"输入Secret Access Key（已保存则显示******）"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"自定义域名 (CDN)"}),(0,b.jsx)("input",{type:"text",value:k.customDomain,onChange:a=>l({...k,customDomain:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500",placeholder:"例如：https://cdn.example.com（可选，用于访问文件）"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"配置后，文件URL将使用此域名。格式：https://cdn.example.com/uploads/xxx"})]}),(0,b.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-1",children:"路径风格 (Path Style)"}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:"MinIO等自建服务通常需要开启此选项"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",checked:k.pathStyle,onChange:a=>l({...k,pathStyle:a.target.checked}),className:"sr-only"}),(0,b.jsx)("div",{className:`w-10 h-5 rounded-full transition-all duration-300 ${k.pathStyle?"bg-blue-500 shadow-inner":"bg-gray-300"}`,children:(0,b.jsx)("div",{className:`absolute top-1 left-0.5 w-3 h-3 rounded-full bg-white shadow-md transition-all duration-300 ${k.pathStyle?"translate-x-5":"translate-x-0"}`})})]})]})}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsx)("button",{type:"button",onClick:s,disabled:o,className:`flex items-center gap-2 px-4 py-2 bg-green-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-green-600 hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed text-sm ${o?"cursor-wait":""}`,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"测试中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),"测试连接"]})})})]}),(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,b.jsx)("button",{type:"button",onClick:r,disabled:n,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm ${n?"cursor-wait":""}`,children:n?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存S3配置"]})})})]})]}),"docs-order"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,b.jsx)("span",{className:"font-semibold",children:"说明："}),"拖动或使用上下箭头调整文档在 /docs 页面的显示顺序。文档文件存放在 frontend/public/markdown 目录下。"]})}),w?(0,b.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,b.jsx)("svg",{className:"w-6 h-6 animate-spin text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,b.jsx)("span",{className:"ml-2 text-gray-600",children:"加载文档列表中..."})]}):0===u.length?(0,b.jsxs)("div",{className:"text-center py-12 bg-gray-50 rounded-lg border border-gray-200",children:[(0,b.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"暂无文档文件"}),(0,b.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:"请将 .md 文件放入 frontend/public/markdown 目录"})]}):(0,b.jsx)("div",{className:"space-y-2",children:u.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200 hover:border-blue-300 transition-colors",children:[(0,b.jsx)("span",{className:"flex-shrink-0 w-8 h-8 flex items-center justify-center bg-blue-100 text-blue-600 rounded-lg text-sm font-semibold",children:c+1}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:a.replace(/\.md$/,"")}),(0,b.jsx)("p",{className:"text-xs text-gray-500",children:a})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{type:"button",onClick:()=>A(c,"up"),disabled:0===c,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"上移",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,b.jsx)("button",{type:"button",onClick:()=>A(c,"down"),disabled:c===u.length-1,className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded transition-colors disabled:opacity-30 disabled:cursor-not-allowed",title:"下移",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]},a))}),u.length>0&&(0,b.jsx)("div",{className:"flex justify-end pt-4 border-t border-gray-200",children:(0,b.jsx)("button",{type:"button",onClick:z,disabled:x,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm ${x?"cursor-wait":""}`,children:x?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存排序"]})})})]}),("page-texts"===B||"home-content"===B)&&(0,b.jsx)("div",{className:"flex justify-end pt-6 border-t border-gray-200 mt-6",children:(0,b.jsx)("button",{type:"button",onClick:p,disabled:j,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm ${j?"cursor-wait":""}`,children:j?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"保存中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"保存设置"]})})})]})})}function u({user:a,usernameForm:c,passwordForm:d,changingUsername:e,changingPassword:f,handleUsernameChange:g,handlePasswordChange:h,handleUsernameSubmit:i,handlePasswordSubmit:j}){return(0,b.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsx)("span",{children:"修改用户名"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),i()},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"当前用户名"}),(0,b.jsx)("p",{className:"text-gray-700 bg-gray-50 px-3 py-2 rounded-lg",children:a?.username||"加载中..."})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("label",{htmlFor:"currentPasswordForUsername",className:"block text-sm font-semibold text-gray-800 mb-2",children:["当前密码 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"currentPasswordForUsername",name:"currentPassword",type:"password",autoComplete:"current-password",value:c.currentPassword,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入当前密码"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("label",{htmlFor:"newUsername",className:"block text-sm font-semibold text-gray-800 mb-2",children:["新用户名 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"newUsername",name:"newUsername",type:"text",autoComplete:"username",value:c.newUsername,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入新用户名（至少3位）"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:e||!c.currentPassword||!c.newUsername,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-blue-700 hover:to-blue-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm ${e?"cursor-wait":""}`,children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"修改中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"修改用户名"]})})})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-base font-semibold mb-4 text-gray-900 flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-8 h-8 rounded-lg bg-red-100 flex items-center justify-center shadow-sm",children:(0,b.jsx)("svg",{className:"w-4 h-4 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,b.jsx)("span",{children:"修改密码"})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),j()},className:"space-y-4",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("label",{htmlFor:"currentPasswordForPassword",className:"block text-sm font-semibold text-gray-800 mb-2",children:["当前密码 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"currentPasswordForPassword",name:"currentPassword",type:"password",autoComplete:"current-password",value:d.currentPassword,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入当前密码"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-800 mb-2",children:["新密码 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",value:d.newPassword,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请输入新密码（至少6位）"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 shadow-sm",children:[(0,b.jsxs)("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-800 mb-2",children:["确认新密码 ",(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:d.confirmPassword,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"请再次输入新密码"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("button",{type:"submit",disabled:f||!d.currentPassword||!d.newPassword||!d.confirmPassword,className:`flex items-center gap-2 px-4 py-2 bg-gradient-to-r from-red-600 to-red-700 text-white rounded-lg font-semibold transition-all duration-300 hover:from-red-700 hover:to-red-800 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm ${f?"cursor-wait":""}`,children:f?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4 animate-spin",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"修改中..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"修改密码"]})})})]})]})]})})})}var v=a.i(65763),w=a.i(57723);function x(){(0,v.usePageTitle)("系统设置",!0);let[a,m]=(0,c.useState)("basic"),p=function(){(0,d.useRouter)();let{theme:a,setTheme:b}=(0,f.useTheme)(),{user:m,refreshUser:n}=(0,e.useAuth)(),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(i),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)({currentPassword:"",newUsername:""}),[A,B]=(0,c.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)({show:!1,type:"success",message:""}),[Q,R]=(0,c.useState)(j),[S,T]=(0,c.useState)(k),[U,V]=(0,c.useState)(!1),[W,X]=(0,c.useState)(l),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)([]),[ae,af]=(0,c.useState)(!1),[ag,ah]=(0,c.useState)(!1),ai=(0,c.useCallback)((a,b)=>{P({show:!0,type:a,message:b})},[]),aj=(0,c.useCallback)(()=>{P(a=>({...a,show:!1}))},[]),ak=(0,c.useCallback)(async()=>{try{let[a,c]=await Promise.all([(0,g.getAdminSettings)(),(0,g.getAdminPageTexts)()]);if(a.success&&a.data){let d={};a.data.forEach(a=>{d[a.key]=a.value});let e=d.themeColor||"white";if(b(e),t({siteTitle:d.siteTitle||"",siteSubtitle:d.siteSubtitle||"",siteDescription:d.siteDescription||"",siteKeywords:d.siteKeywords||"",themeColor:e,themeType:d.themeType||"default",footerCopyright:d.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,backgroundImage:d.backgroundImage||"",backgroundOpacity:d.backgroundOpacity||"0.5",showSiteNav:d.showSiteNav||"true",showNotes:d.showNotes||"true",showSocialLinks:d.showSocialLinks||"true",defaultDisplaySection:d.defaultDisplaySection||"notes",customFont:d.customFont||"",customFontName:d.customFontName||"",todoReminderCheckInterval:d.todoReminderCheckInterval||"5",showNoteTags:d.showNoteTags||"true",showNoteCategories:d.showNoteCategories||"true",messageIpLimitDays:d.messageIpLimitDays||"1",noteLayoutColumns:d.noteLayoutColumns||"1",avatarShape:d.avatarShape||"circle",showNoteCover:d.showNoteCover||"true",defaultNoteCover:d.defaultNoteCover||"",showNavigationRecommended:d.showNavigationRecommended||"true",blogLogo:d.blogLogo||"",blogLogoText:d.blogLogoText||"",blogNavLinks:d.blogNavLinks||"[]",showTopNavbar:d.showTopNavbar||"true",showWapSidebar:d.showWapSidebar||"true",enableAvatarThemeSwitch:d.enableAvatarThemeSwitch||"false",promoThemeEnabled:d.promoThemeEnabled||"false",socialFeedThemeEnabled:d.socialFeedThemeEnabled||"false",docsThemeEnabled:d.docsThemeEnabled||"false",enableUserPage:d.enableUserPage||"true",enableBlogPage:d.enableBlogPage||"true",enablePromoPage:d.enablePromoPage||"true",enableDocsPage:d.enableDocsPage||"true",allowSEO:d.allowSEO||"false",enableSocialFeedPage:d.enableSocialFeedPage||"true",blogAnnouncements:d.blogAnnouncements||"[]",blogAnnouncementEnabled:d.blogAnnouncementEnabled||"false"}),c.success&&c.data){let a=c.data,b={...j};for(let c of Object.keys(j))a[c]&&(b[c]={...j[c],...a[c]});R(b)}if(d.homeContentSections)try{let a=JSON.parse(d.homeContentSections);T({...k,...a})}catch(a){console.error("Failed to parse homeContentSections:",a)}try{let a=JSON.parse(d.blogNavLinks||"[]");Array.isArray(a)&&0!==a.length?v(a):v([{name:"首页",url:"/"},{name:"全部笔记",url:"/notes"},{name:"导航列表",url:"/navigation"}])}catch{v([{name:"首页",url:"/"},{name:"全部笔记",url:"/notes"},{name:"导航列表",url:"/navigation"}])}}}catch(a){console.error("加载系统设置失败:",a)}finally{p(!1)}},[b]);(0,c.useEffect)(()=>{ak()},[ak]);let al=(0,c.useCallback)(a=>{let b=a.target,c="checkbox"===b.type?b.checked?"true":"false":b.value;t(a=>{let d={...a,[b.name]:c};return"showTopNavbar"===b.name&&"false"===c&&(d.showWapSidebar="false"),"promoThemeEnabled"===b.name&&"true"===c&&(d.socialFeedThemeEnabled="false",d.docsThemeEnabled="false"),"socialFeedThemeEnabled"===b.name&&"true"===c&&(d.promoThemeEnabled="false",d.docsThemeEnabled="false"),"docsThemeEnabled"===b.name&&"true"===c&&(d.promoThemeEnabled="false",d.socialFeedThemeEnabled="false"),d})},[]),am=(0,c.useCallback)(a=>{z(b=>({...b,[a.target.name]:a.target.value}))},[]),an=(0,c.useCallback)(a=>{B(b=>({...b,[a.target.name]:a.target.value}))},[]),ao=(0,c.useCallback)(()=>{u.length>=8?ai("error","最多只能添加8个导航链接"):v(a=>[...a,{name:"",url:""}])},[u.length,ai]),ap=(0,c.useCallback)((a,b,c)=>{v(d=>{let e=[...d];return e[a][b]=c,t(a=>({...a,blogNavLinks:JSON.stringify(e)})),e})},[]),aq=(0,c.useCallback)(a=>{v(b=>{let c=b.filter((b,c)=>c!==a);return t(a=>({...a,blogNavLinks:JSON.stringify(c)})),c})},[]),ar=(0,c.useCallback)((a,b)=>{v(c=>{let d=[...c],e="up"===b?a-1:a+1;return e<0||e>=d.length?c:([d[a],d[e]]=[d[e],d[a]],t(a=>({...a,blogNavLinks:JSON.stringify(d)})),d)})},[]),as=(0,c.useCallback)(async(a,b)=>{x(a);let c=new FormData;c.append("icon",b);try{let b=await (0,h.safeFetch)("/api/admin/blog-theme/nav-icon/upload",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`},body:c}),d=await b.json();d.success&&(v(b=>{let c=[...b];return c[a].icon=d.data.url,t(a=>({...a,blogNavLinks:JSON.stringify(c)})),c}),ai("success","图标上传成功"))}catch(a){ai("error",a.response?.data?.message||a.message||"图标上传失败")}finally{x(null)}},[ai]),at=(0,c.useCallback)(a=>{v(b=>{let c=[...b];return delete c[a].icon,t(a=>({...a,blogNavLinks:JSON.stringify(c)})),c})},[]),au=(0,c.useCallback)(async()=>{if(y.newUsername.length<3)return void ai("error","新用户名长度至少为3位");D(!0);try{(await (0,g.changeUsername)(y.currentPassword,y.newUsername)).success&&(ai("success","用户名修改成功"),z({currentPassword:"",newUsername:""}),await n())}catch(a){ai("error",a.response?.data?.message||"用户名修改失败")}finally{D(!1)}},[y,ai,n]),av=(0,c.useCallback)(async()=>{if(A.newPassword!==A.confirmPassword)return void ai("error","新密码和确认密码不一致");if(A.newPassword.length<6)return void ai("error","新密码长度至少为6位");F(!0);try{(await (0,g.changePassword)(A.currentPassword,A.newPassword)).success&&(ai("success","密码修改成功"),B({currentPassword:"",newPassword:"",confirmPassword:""}))}catch(a){ai("error",a.response?.data?.message||"密码修改失败")}finally{F(!1)}},[A,ai]),aw=(0,c.useCallback)(async a=>{let b=a.target.files?.[0];if(b){H(!0);try{let a=await (0,g.uploadAdminBackgroundImage)(b);a.success&&(ai("success","背景图片上传成功"),t(b=>({...b,backgroundImage:a.data.url})))}catch(a){ai("error",a.response?.data?.message||"背景图片上传失败")}finally{H(!1)}}},[ai]),ax=(0,c.useCallback)(async()=>{J(!0);try{(await (0,g.deleteAdminBackgroundImage)()).success&&(ai("success","背景图片删除成功"),t(a=>({...a,backgroundImage:""})))}catch(a){ai("error",a.response?.data?.message||"背景图片删除失败")}finally{J(!1)}},[ai]),ay=(0,c.useCallback)(async a=>{let b=a.target.files?.[0];if(b){if(![".ttf",".otf",".woff",".woff2"].includes(b.name.substring(b.name.lastIndexOf(".")).toLowerCase())){ai("error","不支持的文件类型，请上传 ttf、otf、woff、woff2 格式的字体文件"),a.target.value="";return}if(b.size>0xa00000){ai("error",`字体文件大小不能超过 10MB，当前文件大小为 ${(b.size/1024/1024).toFixed(2)}MB`),a.target.value="";return}L(!0);try{let a=await (0,g.uploadAdminCustomFont)(b);a.success&&(ai("success","字体上传成功，即将刷新页面应用新字体..."),t(b=>({...b,customFont:a.data.url,customFontName:a.data.originalName})),setTimeout(()=>{window.location.reload()},1500))}catch(c){let b="字体上传失败";c.response?.data?.message?b=c.response.data.message:c.message&&(b=c.message),ai("error",b),a.target.value=""}finally{L(!1)}}},[ai]),az=(0,c.useCallback)(async()=>{if(confirm("确定要删除自定义字体吗？删除后将恢复默认字体。")){N(!0);try{(await (0,g.deleteAdminCustomFont)()).success&&(ai("success","字体删除成功，即将刷新页面恢复默认字体..."),t(a=>({...a,customFont:"",customFontName:""})),setTimeout(()=>{window.location.reload()},1500))}catch(b){let a="字体删除失败";b.response?.data?.message?a=b.response.data.message:b.message&&(a=b.message),ai("error",a)}finally{N(!1)}}},[ai]),aA=(0,c.useCallback)(async a=>{a.preventDefault(),r(!0);try{b(s.themeColor);let a=["todoReminderCheckInterval","messageIpLimitDays","backgroundOpacity"],c=Object.entries(s).map(([b,c])=>({key:b,value:c,type:a.includes(b)?"number":"string"})),d=await (0,g.updateAdminSettings)(c);d.success?ai("success","网站设置保存成功"):ai("error",d.message||"保存失败")}catch(a){ai("error",a.response?.data?.message||"保存失败")}finally{r(!1)}},[s,b,ai]),aB=(0,c.useCallback)(async()=>{if("true"===s.showNoteCover&&!s.defaultNoteCover?.trim())return void ai("error","封面图开启的情况下必须上传默认封面图！");V(!0);try{let a=[{key:"homeContentSections",value:JSON.stringify(S),type:"string"},{key:"showNoteTags",value:s.showNoteTags,type:"string"},{key:"showNoteCategories",value:s.showNoteCategories,type:"string"},{key:"showNoteCover",value:s.showNoteCover,type:"string"},{key:"defaultNoteCover",value:s.defaultNoteCover,type:"string"},{key:"noteLayoutColumns",value:s.noteLayoutColumns,type:"string"}],[b,c]=await Promise.all([(0,g.updateAdminPageTexts)(Q),(0,g.updateAdminSettings)(a)]);b.success&&c.success?ai("success","文本设置保存成功！"):ai("error",b.message||c.message||"保存失败")}catch(a){ai("error",a.response?.data?.message||"保存失败")}finally{V(!1)}},[Q,S,s,ai]),aC=(0,c.useCallback)(async()=>{Z(!0);try{let a=await (0,g.getS3Config)();a.success&&a.data&&X({storageType:a.data.storageType||"local",endpoint:a.data.endpoint||"",region:a.data.region||"us-east-1",bucket:a.data.bucket||"",accessKeyId:a.data.accessKeyId||"",secretAccessKey:a.data.secretAccessKey||"",customDomain:a.data.customDomain||"",pathStyle:a.data.pathStyle||!1})}catch(a){console.error("加载S3配置失败:",a)}finally{Z(!1)}},[]),aD=(0,c.useCallback)(async()=>{_(!0);try{let a=await (0,g.saveS3Config)(W);a.success?ai("success","S3配置保存成功"):ai("error",a.message||"保存失败")}catch(a){ai("error",a.response?.data?.message||"保存失败")}finally{_(!1)}},[W,ai]),aE=(0,c.useCallback)(async()=>{if(!W.endpoint||!W.bucket||!W.accessKeyId||!W.secretAccessKey)return void ai("error","请填写完整的S3配置信息");ab(!0);try{let a=await (0,g.testS3Connection)({endpoint:W.endpoint,region:W.region,bucket:W.bucket,accessKeyId:W.accessKeyId,secretAccessKey:W.secretAccessKey,pathStyle:W.pathStyle});a.success?ai("success","S3连接测试成功！"):ai("error",a.message||"连接测试失败")}catch(a){ai("error",a.response?.data?.message||"连接测试失败")}finally{ab(!1)}},[W,ai]),aF=(0,c.useCallback)(async()=>{af(!0);try{let a=await (0,g.getDocsOrder)();a.success&&a.data&&ad(a.data.files||[])}catch(a){console.error("加载文档排序配置失败:",a)}finally{af(!1)}},[]),aG=(0,c.useCallback)(async()=>{ah(!0);try{let a=await (0,g.saveDocsOrder)(ac);a.success?ai("success","文档排序保存成功"):ai("error",a.message||"保存失败")}catch(a){ai("error",a.response?.data?.message||"保存失败")}finally{ah(!1)}},[ac,ai]),aH=(0,c.useCallback)((a,b)=>{ad(c=>{let d=[...c],e="up"===b?a-1:a+1;return e<0||e>=d.length?c:([d[a],d[e]]=[d[e],d[a]],d)})},[]);return{loading:o,saving:q,settings:s,setSettings:t,navLinks:u,setNavLinks:v,uploadingNavIcon:w,usernameForm:y,passwordForm:A,changingUsername:C,changingPassword:E,uploadingBackground:G,deletingBackground:I,uploadingFont:K,deletingFont:M,toast:O,pageTexts:Q,setPageTexts:R,homeContentSections:S,setHomeContentSections:T,savingTextSettings:U,s3Config:W,setS3Config:X,loadingS3Config:Y,savingS3Config:$,testingS3:aa,docsFiles:ac,setDocsFiles:ad,loadingDocsOrder:ae,savingDocsOrder:ag,user:m,showToast:ai,hideToast:aj,handleChange:al,handleUsernameChange:am,handlePasswordChange:an,handleAddNavLink:ao,handleNavLinkChange:ap,handleRemoveNavLink:aq,handleMoveNavLink:ar,handleNavIconUpload:as,handleRemoveNavIcon:at,handleUsernameSubmit:au,handlePasswordSubmit:av,handleBackgroundUpload:aw,handleBackgroundDelete:ax,handleFontUpload:ay,handleFontDelete:az,handleSubmit:aA,handleSaveTextSettings:aB,loadS3Config:aC,handleSaveS3Config:aD,handleTestS3Connection:aE,loadDocsOrder:aF,handleSaveDocsOrder:aG,handleMoveDoc:aH}}();return(0,c.useEffect)(()=>{if(p.toast.show){let a=setTimeout(()=>{p.hideToast()},3e3);return()=>clearTimeout(a)}},[p.toast.show,p.hideToast]),(0,b.jsx)(b.Fragment,{children:p.loading?(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("svg",{className:"w-12 h-12 animate-spin mx-auto text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,b.jsx)("p",{className:"mt-4 text-gray-600",children:"加载中..."})]})}):(0,b.jsxs)("div",{className:"py-8",children:[(0,b.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsx)(n,{activeTab:a,setActiveTab:m}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:["basic"===a&&(0,b.jsx)(o,{settings:p.settings,saving:p.saving,uploadingBackground:p.uploadingBackground,deletingBackground:p.deletingBackground,uploadingFont:p.uploadingFont,deletingFont:p.deletingFont,handleChange:p.handleChange,handleSubmit:p.handleSubmit,handleBackgroundUpload:p.handleBackgroundUpload,handleBackgroundDelete:p.handleBackgroundDelete,handleFontUpload:p.handleFontUpload,handleFontDelete:p.handleFontDelete}),"functions"===a&&(0,b.jsx)(r,{settings:p.settings,saving:p.saving,handleChange:p.handleChange,handleSubmit:p.handleSubmit}),"navigation"===a&&(0,b.jsx)(s,{navLinks:p.navLinks,saving:p.saving,uploadingNavIcon:p.uploadingNavIcon,handleSubmit:p.handleSubmit,handleAddNavLink:p.handleAddNavLink,handleNavLinkChange:p.handleNavLinkChange,handleRemoveNavLink:p.handleRemoveNavLink,handleMoveNavLink:p.handleMoveNavLink,handleNavIconUpload:p.handleNavIconUpload,handleRemoveNavIcon:p.handleRemoveNavIcon,setNavLinks:p.setNavLinks,setSettings:p.setSettings,settings:p.settings}),"text-settings"===a&&(0,b.jsx)(t,{settings:p.settings,setSettings:p.setSettings,pageTexts:p.pageTexts,setPageTexts:p.setPageTexts,homeContentSections:p.homeContentSections,setHomeContentSections:p.setHomeContentSections,savingTextSettings:p.savingTextSettings,s3Config:p.s3Config,setS3Config:p.setS3Config,loadingS3Config:p.loadingS3Config,savingS3Config:p.savingS3Config,testingS3:p.testingS3,handleSaveTextSettings:p.handleSaveTextSettings,loadS3Config:p.loadS3Config,handleSaveS3Config:p.handleSaveS3Config,handleTestS3Connection:p.handleTestS3Connection,showToast:p.showToast,docsFiles:p.docsFiles,setDocsFiles:p.setDocsFiles,loadingDocsOrder:p.loadingDocsOrder,savingDocsOrder:p.savingDocsOrder,loadDocsOrder:p.loadDocsOrder,handleSaveDocsOrder:p.handleSaveDocsOrder,handleMoveDoc:p.handleMoveDoc}),"account"===a&&(0,b.jsx)(u,{user:p.user,usernameForm:p.usernameForm,passwordForm:p.passwordForm,changingUsername:p.changingUsername,changingPassword:p.changingPassword,handleUsernameChange:p.handleUsernameChange,handlePasswordChange:p.handlePasswordChange,handleUsernameSubmit:p.handleUsernameSubmit,handlePasswordSubmit:p.handlePasswordSubmit})]})]})}),(0,b.jsx)(w.default,{show:p.toast.show,message:p.toast.message,type:p.toast.type,onClose:()=>p.hideToast()})]})})}a.s(["default",()=>x],34423)}];

//# sourceMappingURL=src_app_admins_settings_page_tsx_f8240cc2._.js.map