module.exports=[541987,445362,699209,601327,a=>{"use strict";var b=a.i(555465),c=a.i(69137),d=a.i(145245),e=a.i(770974);let f={tokenize:function(a,b,c){let f=this,h=f.events[f.events.length-1],i=h&&"linePrefix"===h[1].type?h[2].sliceSerialize(h[1],!0).length:0,j=0;return function(b){return a.enter("mathFlow"),a.enter("mathFlowFence"),a.enter("mathFlowFenceSequence"),function b(e){return 36===e?(a.consume(e),j++,b):j<2?c(e):(a.exit("mathFlowFenceSequence"),(0,d.factorySpace)(a,k,"whitespace")(e))}(b)};function k(b){return null===b||(0,e.markdownLineEnding)(b)?l(b):(a.enter("mathFlowFenceMeta"),a.enter("chunkString",{contentType:"string"}),function b(d){return null===d||(0,e.markdownLineEnding)(d)?(a.exit("chunkString"),a.exit("mathFlowFenceMeta"),l(d)):36===d?c(d):(a.consume(d),b)}(b))}function l(c){return(a.exit("mathFlowFence"),f.interrupt)?b(c):a.attempt(g,m,p)(c)}function m(b){return a.attempt({tokenize:q,partial:!0},p,n)(b)}function n(b){return(i?(0,d.factorySpace)(a,o,"linePrefix",i+1):o)(b)}function o(b){return null===b?p(b):(0,e.markdownLineEnding)(b)?a.attempt(g,m,p)(b):(a.enter("mathFlowValue"),function b(c){return null===c||(0,e.markdownLineEnding)(c)?(a.exit("mathFlowValue"),o(c)):(a.consume(c),b)}(b))}function p(c){return a.exit("mathFlow"),b(c)}function q(a,b,c){let g=0;return(0,d.factorySpace)(a,function(b){return a.enter("mathFlowFence"),a.enter("mathFlowFenceSequence"),function b(e){return 36===e?(g++,a.consume(e),b):g<j?c(e):(a.exit("mathFlowFenceSequence"),(0,d.factorySpace)(a,h,"whitespace")(e))}(b)},"linePrefix",f.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function h(d){return null===d||(0,e.markdownLineEnding)(d)?(a.exit("mathFlowFence"),b(d)):c(d)}}},concrete:!0,name:"mathFlow"},g={tokenize:function(a,b,c){let d=this;return function(c){return null===c?b(c):(a.enter("lineEnding"),a.consume(c),a.exit("lineEnding"),e)};function e(a){return d.parser.lazy[d.now().line]?c(a):b(a)}},partial:!0};function h(a){let b,c,d=a.length-4,e=3;if(("lineEnding"===a[3][1].type||"space"===a[e][1].type)&&("lineEnding"===a[d][1].type||"space"===a[d][1].type)){for(b=e;++b<d;)if("mathTextData"===a[b][1].type){a[d][1].type="mathTextPadding",a[e][1].type="mathTextPadding",e+=2,d-=2;break}}for(b=e-1,d++;++b<=d;)void 0===c?b!==d&&"lineEnding"!==a[b][1].type&&(c=b):(b===d||"lineEnding"===a[b][1].type)&&(a[c][1].type="mathTextData",b!==c+2&&(a[c][1].end=a[b-1][1].end,a.splice(c+2,b-c-2),d-=b-c-2,b=c+2),c=void 0);return a}function i(a){return 36!==a||"characterEscape"===this.events[this.events.length-1][1].type}let j={};function k(a){let d,g=a||j,k=this.data(),l=k.micromarkExtensions||(k.micromarkExtensions=[]),m=k.fromMarkdownExtensions||(k.fromMarkdownExtensions=[]),n=k.toMarkdownExtensions||(k.toMarkdownExtensions=[]);l.push({flow:{36:f},text:{36:(null==(d=(g||{}).singleDollarTextMath)&&(d=!0),{tokenize:function(a,b,c){let f,g,h=0;return function(b){return a.enter("mathText"),a.enter("mathTextSequence"),function b(e){return 36===e?(a.consume(e),h++,b):h<2&&!d?c(e):(a.exit("mathTextSequence"),i(e))}(b)};function i(d){return null===d?c(d):36===d?(g=a.enter("mathTextSequence"),f=0,function c(d){return 36===d?(a.consume(d),f++,c):f===h?(a.exit("mathTextSequence"),a.exit("mathText"),b(d)):(g.type="mathTextData",j(d))}(d)):32===d?(a.enter("space"),a.consume(d),a.exit("space"),i):(0,e.markdownLineEnding)(d)?(a.enter("lineEnding"),a.consume(d),a.exit("lineEnding"),i):(a.enter("mathTextData"),j(d))}function j(b){return null===b||32===b||36===b||(0,e.markdownLineEnding)(b)?(a.exit("mathTextData"),i(b)):(a.consume(b),j)}},resolve:h,previous:i,name:"mathText"})}}),m.push(function(){return{enter:{mathFlow:function(a){this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[{type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]}]}},a)},mathFlowFenceMeta:function(){this.buffer()},mathText:function(a){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},a),this.buffer()}},exit:{mathFlow:function(a){let c=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];(0,b.ok)("math"===d.type),this.exit(a),d.value=c;let e=d.data.hChildren[0];(0,b.ok)("element"===e.type),(0,b.ok)("code"===e.tagName),e.children.push({type:"text",value:c}),this.data.mathFlowInside=void 0},mathFlowFence:function(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)},mathFlowFenceMeta:function(){let a=this.resume(),c=this.stack[this.stack.length-1];(0,b.ok)("math"===c.type),c.meta=a},mathFlowValue:a,mathText:function(a){let c=this.resume(),d=this.stack[this.stack.length-1];(0,b.ok)("inlineMath"===d.type),this.exit(a),d.value=c,d.data.hChildren.push({type:"text",value:c})},mathTextData:a}};function a(a){this.config.enter.data.call(this,a),this.config.exit.data.call(this,a)}}()),n.push(function(a){let b=(a||{}).singleDollarTextMath;return null==b&&(b=!0),d.peek=function(){return"$"},{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:"\n",inConstruct:"mathFlowMeta"},{character:"$",after:b?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:function(a,b,d,e){let f=a.value||"",g=d.createTracker(e),h="$".repeat(Math.max((0,c.longestStreak)(f,"$")+1,2)),i=d.enter("mathFlow"),j=g.move(h);if(a.meta){let b=d.enter("mathFlowMeta");j+=g.move(d.safe(a.meta,{after:"\n",before:j,encode:["$"],...g.current()})),b()}return j+=g.move("\n"),f&&(j+=g.move(f+"\n")),j+=g.move(h),i(),j},inlineMath:d}};function d(a,c,d){let e=a.value||"",f=1;for(!b&&f++;RegExp("(^|[^$])"+"\\$".repeat(f)+"([^$]|$)").test(e);)f++;let g="$".repeat(f);/[^ \r\n]/.test(e)&&(/^[ \r\n]/.test(e)&&/[ \r\n]$/.test(e)||/^\$|\$$/.test(e))&&(e=" "+e+" ");let h=-1;for(;++h<d.unsafe.length;){let a,b=d.unsafe[h];if(!b.atBreak)continue;let c=d.compilePattern(b);for(;a=c.exec(e);){let b=a.index;10===e.codePointAt(b)&&13===e.codePointAt(b-1)&&b--,e=e.slice(0,b)+" "+e.slice(a.index+1)}}return g+e+g}}(g))}a.s(["default",()=>k],541987);var l=a.i(650997),m=a.i(930348),n=a.i(517793),o=a.i(978754);let p={abandonedHeadElementChild:{reason:"Unexpected metadata element after head",description:"Unexpected element after head. Expected the element before `</head>`",url:!1},abruptClosingOfEmptyComment:{reason:"Unexpected abruptly closed empty comment",description:"Unexpected `>` or `->`. Expected `-->` to close comments"},abruptDoctypePublicIdentifier:{reason:"Unexpected abruptly closed public identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the public identifier"},abruptDoctypeSystemIdentifier:{reason:"Unexpected abruptly closed system identifier",description:"Unexpected `>`. Expected a closing `\"` or `'` after the identifier identifier"},absenceOfDigitsInNumericCharacterReference:{reason:"Unexpected non-digit at start of numeric character reference",description:"Unexpected `%c`. Expected `[0-9]` for decimal references or `[0-9a-fA-F]` for hexadecimal references"},cdataInHtmlContent:{reason:"Unexpected CDATA section in HTML",description:"Unexpected `<![CDATA[` in HTML. Remove it, use a comment, or encode special characters instead"},characterReferenceOutsideUnicodeRange:{reason:"Unexpected too big numeric character reference",description:"Unexpectedly high character reference. Expected character references to be at most hexadecimal 10ffff (or decimal 1114111)"},closingOfElementWithOpenChildElements:{reason:"Unexpected closing tag with open child elements",description:"Unexpectedly closing tag. Expected other tags to be closed first",url:!1},controlCharacterInInputStream:{reason:"Unexpected control character",description:"Unexpected control character `%x`. Expected a non-control code point, 0x00, or ASCII whitespace"},controlCharacterReference:{reason:"Unexpected control character reference",description:"Unexpectedly control character in reference. Expected a non-control code point, 0x00, or ASCII whitespace"},disallowedContentInNoscriptInHead:{reason:"Disallowed content inside `<noscript>` in `<head>`",description:"Unexpected text character `%c`. Only use text in `<noscript>`s in `<body>`",url:!1},duplicateAttribute:{reason:"Unexpected duplicate attribute",description:"Unexpectedly double attribute. Expected attributes to occur only once"},endTagWithAttributes:{reason:"Unexpected attribute on closing tag",description:"Unexpected attribute. Expected `>` instead"},endTagWithTrailingSolidus:{reason:"Unexpected slash at end of closing tag",description:"Unexpected `%c-1`. Expected `>` instead"},endTagWithoutMatchingOpenElement:{reason:"Unexpected unopened end tag",description:"Unexpected end tag. Expected no end tag or another end tag",url:!1},eofBeforeTagName:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected tag name instead"},eofInCdata:{reason:"Unexpected end of file in CDATA",description:"Unexpected end of file. Expected `]]>` to close the CDATA"},eofInComment:{reason:"Unexpected end of file in comment",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInDoctype:{reason:"Unexpected end of file in doctype",description:"Unexpected end of file. Expected a valid doctype (such as `<!doctype html>`)"},eofInElementThatCanContainOnlyText:{reason:"Unexpected end of file in element that can only contain text",description:"Unexpected end of file. Expected text or a closing tag",url:!1},eofInScriptHtmlCommentLikeText:{reason:"Unexpected end of file in comment inside script",description:"Unexpected end of file. Expected `-->` to close the comment"},eofInTag:{reason:"Unexpected end of file in tag",description:"Unexpected end of file. Expected `>` to close the tag"},incorrectlyClosedComment:{reason:"Incorrectly closed comment",description:"Unexpected `%c-1`. Expected `-->` to close the comment"},incorrectlyOpenedComment:{reason:"Incorrectly opened comment",description:"Unexpected `%c`. Expected `<!--` to open the comment"},invalidCharacterSequenceAfterDoctypeName:{reason:"Invalid sequence after doctype name",description:"Unexpected sequence at `%c`. Expected `public` or `system`"},invalidFirstCharacterOfTagName:{reason:"Invalid first character in tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},misplacedDoctype:{reason:"Misplaced doctype",description:"Unexpected doctype. Expected doctype before head",url:!1},misplacedStartTagForHeadElement:{reason:"Misplaced `<head>` start tag",description:"Unexpected start tag `<head>`. Expected `<head>` directly after doctype",url:!1},missingAttributeValue:{reason:"Missing attribute value",description:"Unexpected `%c-1`. Expected an attribute value or no `%c-1` instead"},missingDoctype:{reason:"Missing doctype before other content",description:"Expected a `<!doctype html>` before anything else",url:!1},missingDoctypeName:{reason:"Missing doctype name",description:"Unexpected doctype end at `%c`. Expected `html` instead"},missingDoctypePublicIdentifier:{reason:"Missing public identifier in doctype",description:"Unexpected `%c`. Expected identifier for `public` instead"},missingDoctypeSystemIdentifier:{reason:"Missing system identifier in doctype",description:'Unexpected `%c`. Expected identifier for `system` instead (suggested: `"about:legacy-compat"`)'},missingEndTagName:{reason:"Missing name in end tag",description:"Unexpected `%c`. Expected an ASCII letter instead"},missingQuoteBeforeDoctypePublicIdentifier:{reason:"Missing quote before public identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingQuoteBeforeDoctypeSystemIdentifier:{reason:"Missing quote before system identifier in doctype",description:"Unexpected `%c`. Expected `\"` or `'` instead"},missingSemicolonAfterCharacterReference:{reason:"Missing semicolon after character reference",description:"Unexpected `%c`. Expected `;` instead"},missingWhitespaceAfterDoctypePublicKeyword:{reason:"Missing whitespace after public identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceAfterDoctypeSystemKeyword:{reason:"Missing whitespace after system identifier in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBeforeDoctypeName:{reason:"Missing whitespace before doctype name",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenAttributes:{reason:"Missing whitespace between attributes",description:"Unexpected `%c`. Expected ASCII whitespace instead"},missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:{reason:"Missing whitespace between public and system identifiers in doctype",description:"Unexpected `%c`. Expected ASCII whitespace instead"},nestedComment:{reason:"Unexpected nested comment",description:"Unexpected `<!--`. Expected `-->`"},nestedNoscriptInHead:{reason:"Unexpected nested `<noscript>` in `<head>`",description:"Unexpected `<noscript>`. Expected a closing tag or a meta element",url:!1},nonConformingDoctype:{reason:"Unexpected non-conforming doctype declaration",description:'Expected `<!doctype html>` or `<!doctype html system "about:legacy-compat">`',url:!1},nonVoidHtmlElementStartTagWithTrailingSolidus:{reason:"Unexpected trailing slash on start tag of non-void element",description:"Unexpected `/`. Expected `>` instead"},noncharacterCharacterReference:{reason:"Unexpected noncharacter code point referenced by character reference",description:"Unexpected code point. Do not use noncharacters in HTML"},noncharacterInInputStream:{reason:"Unexpected noncharacter character",description:"Unexpected code point `%x`. Do not use noncharacters in HTML"},nullCharacterReference:{reason:"Unexpected NULL character referenced by character reference",description:"Unexpected code point. Do not use NULL characters in HTML"},openElementsLeftAfterEof:{reason:"Unexpected end of file",description:"Unexpected end of file. Expected closing tag instead",url:!1},surrogateCharacterReference:{reason:"Unexpected surrogate character referenced by character reference",description:"Unexpected code point. Do not use lone surrogate characters in HTML"},surrogateInInputStream:{reason:"Unexpected surrogate character",description:"Unexpected code point `%x`. Do not use lone surrogate characters in HTML"},unexpectedCharacterAfterDoctypeSystemIdentifier:{reason:"Invalid character after system identifier in doctype",description:"Unexpected character at `%c`. Expected `>`"},unexpectedCharacterInAttributeName:{reason:"Unexpected character in attribute name",description:"Unexpected `%c`. Expected whitespace, `/`, `>`, `=`, or probably an ASCII letter"},unexpectedCharacterInUnquotedAttributeValue:{reason:"Unexpected character in unquoted attribute value",description:"Unexpected `%c`. Quote the attribute value to include it"},unexpectedEqualsSignBeforeAttributeName:{reason:"Unexpected equals sign before attribute name",description:"Unexpected `%c`. Add an attribute name before it"},unexpectedNullCharacter:{reason:"Unexpected NULL character",description:"Unexpected code point `%x`. Do not use NULL characters in HTML"},unexpectedQuestionMarkInsteadOfTagName:{reason:"Unexpected question mark instead of tag name",description:"Unexpected `%c`. Expected an ASCII letter instead"},unexpectedSolidusInTag:{reason:"Unexpected slash in tag",description:"Unexpected `%c-1`. Expected it followed by `>` or in a quoted attribute value"},unknownNamedCharacterReference:{reason:"Unexpected unknown named character reference",description:"Unexpected character reference. Expected known named character references"}},q=/-[a-z]/g,r=/%c(?:([-+])(\d+))?/g,s=/%x/g,t={2:!0,1:!1,0:null},u={};function v(a){return a.charAt(1).toUpperCase()}var w=a.i(339642),x=a.i(571014);let y=function(a,b,c){let d=(0,x.convert)(c);if(!a||!a.type||!a.children)throw Error("Expected parent node");if("number"==typeof b){if(b<0||b===1/0)throw Error("Expected positive finite number as index")}else if((b=a.children.indexOf(b))<0)throw Error("Expected child node or index");for(;++b<a.children.length;)if(d(a.children[b],b,a))return a.children[b]},z=function(a){if(null==a)return B;if("string"==typeof a){var b;return b=a,A(function(a){return a.tagName===b})}if("object"==typeof a){var c=a;let b=[],d=-1;for(;++d<c.length;)b[d]=z(c[d]);return A(function(...a){let c=-1;for(;++c<b.length;)if(b[c].apply(this,a))return!0;return!1})}if("function"==typeof a)return A(a);throw Error("Expected function, string, or array as `test`")};function A(a){return function(b,c,d){var e;return!!(null!==(e=b)&&"object"==typeof e&&"type"in e&&"tagName"in e&&a.call(this,b,"number"==typeof c?c:void 0,d||void 0))}}function B(a){return!!(a&&"object"==typeof a&&"type"in a&&"element"===a.type&&"tagName"in a&&"string"==typeof a.tagName)}let C=/\n/g,D=/[\t ]+/g,E=z("br"),F=z(function(a){return"td"===a.tagName||"th"===a.tagName}),G=z("p"),H=z("tr"),I=z(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",function(a){return!!(a.properties||{}).hidden},function(a){return"dialog"===a.tagName&&!(a.properties||{}).open}]),J=z(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function K(a,b){let c,d=String(a.value),e=[],f=[],g=0;for(;g<=d.length;){C.lastIndex=g;let a=C.exec(d),c=a&&"index"in a?a.index:d.length;e.push(function(a,b,c){let d,e=[],f=0;for(;f<a.length;){D.lastIndex=f;let c=D.exec(a);d=c?c.index:a.length,f||d||!c||b||e.push(""),f!==d&&e.push(a.slice(f,d)),f=c?d+c[0].length:d}return f===d||c||e.push(""),e.join(" ")}(d.slice(g,c).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),0!==g||b.breakBefore,c!==d.length||b.breakAfter)),g=c+1}let h=-1;for(;++h<e.length;)8203===e[h].charCodeAt(e[h].length-1)||h<e.length-1&&8203===e[h+1].charCodeAt(0)?(f.push(e[h]),c=void 0):e[h]?("number"==typeof c&&f.push(c),f.push(e[h]),c=0):(0===h||h===e.length-1)&&f.push(0);return f}function L(a,b){if("element"===a.type){let c=a.properties||{};switch(a.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return c.wrap?"pre-wrap":"pre";case"td":case"th":return c.noWrap?"nowrap":b.whitespace;case"textarea":return"pre-wrap"}}return b.whitespace}var M=a.i(948986),N=a.i(817691);let O={},P=[];function Q(a){let c=a||O;return function(a,d){(0,N.visitParents)(a,"element",function(a,e){let f,g=Array.isArray(a.properties.className)?a.properties.className:P,h=g.includes("language-math"),i=g.includes("math-display"),j=g.includes("math-inline"),k=i;if(!h&&!i&&!j)return;let x=e[e.length-1],z=a;if("code"===a.tagName&&h&&x&&"element"===x.type&&"pre"===x.tagName&&(z=x,x=e[e.length-2],k=!0),!x)return;let A=function(a,b){let c,d="children"in a?a.children:[],e=J(a),f=L(a,{whitespace:(b||{}).whitespace||"normal",breakBefore:!1,breakAfter:!1}),g=[];("text"===a.type||"comment"===a.type)&&g.push(...K(a,{whitespace:f,breakBefore:!0,breakAfter:!0}));let h=-1;for(;++h<d.length;)g.push(...function a(b,c,d){return"element"===b.type?function(b,c,d){let e,f,g=L(b,d),h=b.children||[],i=-1,j=[];if(I(b))return j;for(E(b)||H(b)&&y(c,b,H)?f="\n":G(b)?(e=2,f=2):J(b)&&(e=1,f=1);++i<h.length;)j=j.concat(a(h[i],b,{whitespace:g,breakBefore:i?void 0:e,breakAfter:i<h.length-1?E(h[i+1]):f}));return F(b)&&y(c,b,F)&&j.push("	"),e&&j.unshift(e),f&&j.push(f),j}(b,c,d):"text"===b.type?"normal"===d.whitespace?K(b,d):[String(b.value)]:[]}(d[h],a,{whitespace:f,breakBefore:h?void 0:e,breakAfter:h<d.length-1?E(d[h+1]):e}));let i=[];for(h=-1;++h<g.length;){let a=g[h];"number"==typeof a?void 0!==c&&a>c&&(c=a):a&&(void 0!==c&&c>-1&&i.push("\n".repeat(c)||" "),c=-1,i.push(a))}return i.join("")}(z,{whitespace:"pre"});try{f=M.default.renderToString(A,{...c,displayMode:k,throwOnError:!0})}catch(g){let b=g.name.toLowerCase();d.message("Could not render math with KaTeX",{ancestors:[...e,a],cause:g,place:a.position,ruleId:b,source:"rehype-katex"});try{f=M.default.renderToString(A,{...c,displayMode:k,strict:"ignore",throwOnError:!1})}catch{f=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(c.errorColor||"#cc0000"),title:String(g)},children:[{type:"text",value:A}]}]}}if("string"==typeof f){var B,C;let a,c,d,e,g,h;f=(B={fragment:!0},C=f,c=(a=B||u).onerror,d=C instanceof n.VFile?C:new n.VFile(C),g=(a.fragment?m.parseFragment:m.parse)(e=String(d),{sourceCodeLocationInfo:!0,onParseError:a.onerror?function(f){let g=f.code,h=g.replace(q,v),i=a[h],j=null==i||i,k="number"==typeof j?j:+!!j;if(k){let a=p[h];(0,b.ok)(a,"expected known error from `parse5`");let e=new o.VFileMessage(l(a.reason),{place:{start:{line:f.startLine,column:f.startCol,offset:f.startOffset},end:{line:f.endLine,column:f.endCol,offset:f.endOffset}},ruleId:g,source:"hast-util-from-html"});d.path&&(e.file=d.path,e.name=d.path+":"+e.name),e.fatal=t[k],e.note=l(a.description),e.url=!1===a.url?void 0:"https://html.spec.whatwg.org/multipage/parsing.html#parse-error-"+g,(0,b.ok)(c,"`internalOnerror` is not passed if `onerror` is not set"),c(e)}function l(a){return a.replace(r,function(a,b,c){var d;let g=(c?Number.parseInt(c,10):0)*("-"===b?-1:1);return"`"===(d=e.charAt(f.startOffset+g))?"` ` `":d}).replace(s,function(){return"0x"+e.charCodeAt(f.startOffset).toString(16).toUpperCase()})}}:null,scriptingEnabled:!1}),h=(0,l.fromParse5)(g,{file:d,space:a.space,verbose:a.verbose}),(0,w.visit)(h,function(a){delete a.position}),delete h.data,h).children}let D=x.children.indexOf(z);return x.children.splice(D,1,...f),N.SKIP})}}a.s(["default",()=>Q],445362);var R=a.i(187924),S=a.i(572131);function T({text:a,className:b=""}){let[c,d]=(0,S.useState)(!1),e=async()=>{try{await navigator.clipboard.writeText(a),d(!0),setTimeout(()=>d(!1),2e3)}catch(a){console.error("Failed to copy text: ",a)}};return(0,R.jsx)("button",{onClick:e,className:`
        copy-button
        absolute top-2 right-2
        px-2 py-1 text-[9px]
        backdrop-blur-sm
        rounded
        transition-all duration-200
        opacity-100 sm:opacity-0 sm:group-hover:opacity-100
        shadow-lg
        z-10
        ${b}
      `,title:"复制代码",children:c?(0,R.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,R.jsx)("svg",{className:"w-3 h-3 text-emerald-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,R.jsx)("span",{className:"text-emerald-400 font-medium",children:"已复制"})]}):(0,R.jsxs)("span",{className:"flex items-center gap-0.5",children:[(0,R.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,R.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,R.jsx)("span",{className:"font-medium",children:"复制"})]})})}a.s(["default",()=>T],699209);var U=a.i(883706);let V=(0,U.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var W=a.i(284505),X=a.i(633508),Y=a.i(161690),Z=a.i(469602);let $=(0,U.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);var _=a.i(935112);let aa=null;function ab({chart:b,className:c=""}){let d=(0,S.useRef)(null),e=(0,S.useRef)(null),[f,g]=(0,S.useState)(""),[h,i]=(0,S.useState)(null),[j,k]=(0,S.useState)(!1),[l,m]=(0,S.useState)(1),[n,o]=(0,S.useState)({x:0,y:0}),[p,q]=(0,S.useState)(!1),r=(0,S.useRef)(null),s=(0,S.useRef)(null),t=(0,S.useRef)(!1),u=(0,S.useRef)({x:0,y:0}),v=(0,S.useRef)({x:0,y:0}),w=(0,S.useRef)(1),x=(0,S.useRef)(0),y=(0,S.useRef)({x:0,y:0}),z=(0,S.useRef)(!1),A=(0,S.useRef)({x:0,y:0,scrollLeft:0});(0,S.useEffect)(()=>{v.current=n},[n]),(0,S.useEffect)(()=>{w.current=l},[l]),(0,S.useEffect)(()=>{q(!0)},[]),(0,S.useEffect)(()=>{let c=async()=>{try{aa||(aa=await a.A(96299));let c=aa.default;c.initialize({startOnLoad:!1,theme:"base",securityLevel:"loose",fontFamily:"system-ui, -apple-system, sans-serif",themeVariables:{primaryTextColor:"#54697b",secondaryTextColor:"#54697b",tertiaryTextColor:"#54697b",textColor:"#54697b",nodeTextColor:"#54697b",primaryColor:"#e8f4fc",primaryBorderColor:"#9ecbea",secondaryColor:"#fff5e6",secondaryBorderColor:"#f5c77e",tertiaryColor:"#f0f0f0",tertiaryBorderColor:"#cccccc",lineColor:"#54697b",labelTextColor:"#54697b",actorTextColor:"#54697b",signalTextColor:"#54697b",labelBoxBkgColor:"#e8f4fc",labelBoxBorderColor:"#9ecbea",noteBkgColor:"#fff5e6",noteTextColor:"#54697b",noteBorderColor:"#f5c77e",pieTextColor:"#54697b",taskTextColor:"#54697b",taskTextOutsideColor:"#54697b",sectionBkgColor:"#e8f4fc",classText:"#54697b"},flowchart:{useMaxWidth:!1,htmlLabels:!0,curve:"basis",padding:20,nodeSpacing:50,rankSpacing:50},sequence:{useMaxWidth:!1,wrap:!1,width:180,height:60,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35},gantt:{useMaxWidth:!1,leftPadding:75,rightPadding:20,barHeight:20,barGap:4},mindmap:{useMaxWidth:!1,padding:20},pie:{useMaxWidth:!1},er:{useMaxWidth:!1},journey:{useMaxWidth:!1},gitGraph:{useMaxWidth:!1},class:{useMaxWidth:!1},state:{useMaxWidth:!1}});let d=`mermaid-${Math.random().toString(36).substr(2,9)}`,e=document.createElement("div");e.id=d,e.style.cssText="position:fixed;left:-9999px;top:0;width:3000px;visibility:hidden;",document.body.appendChild(e);try{let{svg:a}=await c.render(`${d}-svg`,b.trim(),e),f=document.createElement("div");f.innerHTML=a;let h=f.querySelector("svg");if(h){let a=h.getAttribute("viewBox"),b=0,c=0;if(a){let d=a.split(/[\s,]+/).map(Number);d.length>=4&&d[2]>0&&d[3]>0&&(b=d[2],c=d[3])}if(!b||!c){let a=h.getAttribute("width"),d=h.getAttribute("height");a&&(b=parseFloat(a)||0),d&&(c=parseFloat(d)||0)}b=Math.max(b,300),c=Math.max(c,200),h.removeAttribute("style"),h.setAttribute("width",String(b)),h.setAttribute("height",String(c)),h.style.cssText=`width:${b}px;height:${c}px;min-width:${b}px;max-width:none;display:block;`}g(f.innerHTML),i(null)}finally{document.body.removeChild(e)}}catch(a){console.error("Mermaid render error:",a),i(a instanceof Error?a.message:"图表渲染失败")}};b&&p&&c()},[b,p]);let B=(0,S.useCallback)(async()=>{if(f&&d.current)try{let a=d.current.querySelector("svg");if(!a)return;let b=a.cloneNode(!0);b.style.maxWidth="none",b.querySelectorAll("*").forEach(a=>{(a instanceof HTMLElement||a instanceof SVGElement)&&(a.style.maxWidth="none")});let c=800,e=600,f=a.getAttribute("viewBox");if(f){let a=f.split(/\s+|,/).map(Number);!(a.length>=4)||isNaN(a[2])||isNaN(a[3])||(c=a[2],e=a[3])}if(c<=0||e<=0){let b=a.getBBox?.();b&&(c=b.width+2*b.x,e=b.height+2*b.y)}c=Math.max(c,400),e=Math.max(e,300),b.setAttribute("width",String(c)),b.setAttribute("height",String(e)),b.setAttribute("viewBox",`0 0 ${c} ${e}`),b.style.width=`${c}px`,b.style.height=`${e}px`;let g=new XMLSerializer().serializeToString(b);g.includes("xmlns")||(g=g.replace("<svg",'<svg xmlns="http://www.w3.org/2000/svg"'));let h=document.createElement("canvas");h.width=2*c,h.height=2*e;let i=h.getContext("2d");if(!i)return;i.fillStyle="#ffffff",i.fillRect(0,0,h.width,h.height);let j=new Blob([g],{type:"image/svg+xml;charset=utf-8"}),k=URL.createObjectURL(j),l=new Image;l.onload=()=>{i.drawImage(l,0,0,h.width,h.height),URL.revokeObjectURL(k);let a=document.createElement("a");a.download=`mermaid-chart-${Date.now()}.png`,a.href=h.toDataURL("image/png",1),a.click()},l.onerror=()=>{URL.revokeObjectURL(k);let a=document.createElement("a");a.download=`mermaid-chart-${Date.now()}.svg`,a.href=URL.createObjectURL(j),a.click(),URL.revokeObjectURL(a.href)},l.src=k}catch(a){console.error("Download error:",a)}},[f]),C=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation();let b=d.current?.querySelector("svg");if(b){let a=b.getBoundingClientRect().width||parseFloat(b.getAttribute("width")||"800"),c=b.getBoundingClientRect().height||parseFloat(b.getAttribute("height")||"600");m(Math.min((window.innerWidth-160)/a,(window.innerHeight-160)/c,1))}else m(1);o({x:0,y:0}),k(!0)},[]),D=(0,S.useCallback)(()=>{k(!1)},[]),E=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),m(a=>Math.min(a+.25,5))},[]),F=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),m(a=>Math.max(a-.25,.25))},[]),G=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),m(1),o({x:0,y:0})},[]),H=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),B()},[B]),I=(0,S.useCallback)(a=>{a.preventDefault(),a.stopPropagation();let b=a.deltaY>0?-.1:.1;m(a=>Math.max(.25,Math.min(5,a+b)))},[]),J=(0,S.useCallback)(a=>{0===a.button&&(a.preventDefault(),t.current=!0,u.current={x:a.clientX-v.current.x,y:a.clientY-v.current.y})},[]),K=(0,S.useCallback)(a=>{if(!t.current||!r.current)return;a.preventDefault();let b={x:a.clientX-u.current.x,y:a.clientY-u.current.y};v.current=b,r.current.style.transform=`translate(${b.x}px, ${b.y}px) scale(${w.current})`},[]),L=(0,S.useCallback)(()=>{t.current&&(t.current=!1,o({...v.current}))},[]),M=a=>{if(a.length<2)return 0;let b=a[0].clientX-a[1].clientX,c=a[0].clientY-a[1].clientY;return Math.sqrt(b*b+c*c)},N=a=>a.length<2?{x:a[0].clientX,y:a[0].clientY}:{x:(a[0].clientX+a[1].clientX)/2,y:(a[0].clientY+a[1].clientY)/2},O=(0,S.useCallback)(a=>{1===a.touches.length?(t.current=!0,u.current={x:a.touches[0].clientX-v.current.x,y:a.touches[0].clientY-v.current.y}):2===a.touches.length&&(t.current=!1,x.current=M(a.touches),y.current=N(a.touches))},[]),P=(0,S.useCallback)(a=>{if(a.preventDefault(),a.stopPropagation(),1===a.touches.length&&t.current&&r.current){let b={x:a.touches[0].clientX-u.current.x,y:a.touches[0].clientY-u.current.y};v.current=b,r.current.style.transform=`translate(${b.x}px, ${b.y}px) scale(${w.current})`}else if(2===a.touches.length&&r.current){let b=M(a.touches),c=N(a.touches);if(x.current>0){let a=b/x.current,c=Math.max(.25,Math.min(5,w.current*a));w.current=c}let d=c.x-y.current.x,e=c.y-y.current.y,f={x:v.current.x+d,y:v.current.y+e};v.current=f,r.current.style.transform=`translate(${f.x}px, ${f.y}px) scale(${w.current})`,x.current=b,y.current=c}},[]),Q=(0,S.useCallback)(()=>{t.current=!1,x.current=0,o({...v.current}),m(w.current)},[]),T=(0,S.useCallback)(a=>{0===a.button&&e.current&&(a.preventDefault(),z.current=!0,A.current={x:a.clientX,y:a.clientY,scrollLeft:e.current.scrollLeft},e.current.style.cursor="grabbing",e.current.style.userSelect="none")},[]),U=(0,S.useCallback)(a=>{if(!z.current||!e.current)return;a.preventDefault();let b=a.clientX-A.current.x;e.current.scrollLeft=A.current.scrollLeft-b},[]),ab=(0,S.useCallback)(()=>{e.current&&(z.current=!1,e.current.style.cursor="grab",e.current.style.userSelect="")},[]),ac=(0,S.useCallback)(()=>{e.current&&(z.current=!1,e.current.style.cursor="grab",e.current.style.userSelect="")},[]),ad=(0,S.useCallback)(a=>{e.current&&1===a.touches.length&&(z.current=!0,A.current={x:a.touches[0].clientX,y:a.touches[0].clientY,scrollLeft:e.current.scrollLeft})},[]),ae=(0,S.useCallback)(a=>{if(!z.current||!e.current||1!==a.touches.length)return;let b=a.touches[0].clientX-A.current.x;e.current.scrollLeft=A.current.scrollLeft-b},[]),af=(0,S.useCallback)(()=>{z.current=!1},[]);(0,S.useEffect)(()=>{let a=e.current;if(a)return a.addEventListener("touchstart",ad,{passive:!0}),a.addEventListener("touchmove",ae,{passive:!0}),a.addEventListener("touchend",af,{passive:!0}),()=>{a.removeEventListener("touchstart",ad),a.removeEventListener("touchmove",ae),a.removeEventListener("touchend",af)}},[ad,ae,af]),(0,S.useEffect)(()=>{if(!f||!e.current)return;let a=setTimeout(()=>{let a=e.current;if(!a)return;let b=a.scrollWidth,c=a.clientWidth;b>c&&(a.scrollLeft=(b-c)/2)},50);return()=>clearTimeout(a)},[f]),(0,S.useEffect)(()=>{if(!j||!s.current)return;let a=s.current;return a.addEventListener("wheel",I,{passive:!1}),a.addEventListener("touchstart",O,{passive:!0}),a.addEventListener("touchmove",P,{passive:!1}),a.addEventListener("touchend",Q,{passive:!0}),()=>{a.removeEventListener("wheel",I),a.removeEventListener("touchstart",O),a.removeEventListener("touchmove",P),a.removeEventListener("touchend",Q)}},[j,I,O,P,Q]),(0,S.useEffect)(()=>{let a=a=>{"Escape"===a.key&&j&&D()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[j,D]),(0,S.useEffect)(()=>(j?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[j]);let ag=(0,S.useCallback)(a=>{a.stopPropagation()},[]),ah=(0,S.useCallback)(a=>{a.target===a.currentTarget&&D()},[D]);if(h)return(0,R.jsxs)("div",{className:`mermaid-error p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg ${c}`,children:[(0,R.jsxs)("p",{className:"text-red-600 dark:text-red-400 text-sm",children:["Mermaid 图表渲染失败: ",h]}),(0,R.jsx)("pre",{className:"mt-2 text-xs text-gray-600 dark:text-gray-400 overflow-auto",children:b})]});if(!f)return(0,R.jsx)("div",{className:`mermaid-loading p-8 flex items-center justify-center bg-bg-secondary rounded-lg ${c}`,children:(0,R.jsx)("div",{className:"animate-spin w-6 h-6 border-2 border-primary-500 border-t-transparent rounded-full"})});let ai=j&&p?(0,_.createPortal)((0,R.jsxs)("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/80 backdrop-blur-sm",onClick:ah,children:[(0,R.jsx)("button",{onClick:D,className:"absolute top-4 right-4 z-10 p-2 bg-white/95 dark:bg-gray-800/95 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full border border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors shadow-lg",title:"关闭 (ESC)",children:(0,R.jsx)(X.X,{className:"w-6 h-6"})}),(0,R.jsx)("div",{ref:s,className:"absolute inset-0 flex items-center justify-center overflow-hidden",style:{touchAction:"none"},children:(0,R.jsxs)("div",{ref:r,className:"relative select-none",style:{transform:`translate(${n.x}px, ${n.y}px) scale(${l})`,transformOrigin:"center center"},children:[(0,R.jsx)("div",{className:"bg-white rounded-xl p-6 shadow-2xl mermaid-preview-svg pointer-events-none",style:{userSelect:"none"},dangerouslySetInnerHTML:{__html:f}}),(0,R.jsx)("div",{className:"absolute inset-0 cursor-grab active:cursor-grabbing",onClick:ag,onMouseDown:J,onMouseMove:K,onMouseUp:L,onMouseLeave:L})]})}),(0,R.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 z-10 flex items-center gap-2 px-4 py-2 bg-white/95 dark:bg-gray-800/95 rounded-full border border-gray-200 dark:border-gray-700 shadow-lg",children:[(0,R.jsx)("button",{onClick:F,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"缩小",children:(0,R.jsx)(Z.ZoomOut,{className:"w-5 h-5"})}),(0,R.jsxs)("span",{className:"text-sm text-gray-600 dark:text-gray-300 min-w-[60px] text-center font-medium",children:[Math.round(100*l),"%"]}),(0,R.jsx)("button",{onClick:E,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"放大",children:(0,R.jsx)(Y.ZoomIn,{className:"w-5 h-5"})}),(0,R.jsx)("div",{className:"w-px h-6 bg-gray-300 dark:bg-gray-600"}),(0,R.jsx)("button",{onClick:G,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"重置",children:(0,R.jsx)($,{className:"w-5 h-5"})}),(0,R.jsx)("button",{onClick:H,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white transition-colors",title:"下载",children:(0,R.jsx)(W.Download,{className:"w-5 h-5"})})]})]}),document.body):null;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)("div",{className:`mermaid-container relative my-4 ${c}`,children:[(0,R.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,R.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-500 dark:text-gray-400",children:[(0,R.jsx)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"currentColor",children:(0,R.jsx)("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"})}),(0,R.jsx)("span",{className:"font-medium",children:"Mermaid"})]}),(0,R.jsxs)("div",{className:"flex items-center gap-1",children:[(0,R.jsx)("button",{type:"button",onClick:C,className:"p-1.5 bg-bg-primary hover:bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:text-primary-500 transition-colors shadow-sm",title:"放大预览",children:(0,R.jsx)(V,{className:"w-4 h-4"})}),(0,R.jsx)("button",{type:"button",onClick:H,className:"p-1.5 bg-bg-primary hover:bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:text-primary-500 transition-colors shadow-sm",title:"下载图片",children:(0,R.jsx)(W.Download,{className:"w-4 h-4"})})]})]}),(0,R.jsx)("div",{ref:e,className:"mermaid-scroll-container rounded-lg border border-border-primary p-4 cursor-grab",onMouseDown:T,onMouseMove:U,onMouseUp:ab,onMouseLeave:ac,children:(0,R.jsx)("div",{ref:d,className:"mermaid-svg-wrapper inline-block",dangerouslySetInnerHTML:{__html:f}})})]}),ai]})}a.s(["default",()=>ab],601327)}];

//# sourceMappingURL=node_modules_remark-math_lib_index_e0931251.js.map