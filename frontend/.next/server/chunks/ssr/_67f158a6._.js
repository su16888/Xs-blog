module.exports=[39545,(a,b,c)=>{var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1;function t(){if(!s){s=!0;var a=navigator.userAgent,b=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(a),c=/(Mac OS X)|(Windows)|(Linux)/.exec(a);if(o=/\b(iPhone|iP[ao]d)/.exec(a),p=/\b(iP[ao]d)/.exec(a),m=/Android/i.exec(a),q=/FBAN\/\w+;/i.exec(a),r=/Mobile/i.exec(a),n=!!/Win64/.exec(a),b){(d=b[1]?parseFloat(b[1]):b[5]?parseFloat(b[5]):NaN)&&document&&document.documentMode&&(d=document.documentMode);var t=/(?:Trident\/(\d+.\d+))/.exec(a);i=t?parseFloat(t[1])+4:d,e=b[2]?parseFloat(b[2]):NaN,f=b[3]?parseFloat(b[3]):NaN,h=(g=b[4]?parseFloat(b[4]):NaN)&&(b=/(?:Chrome\/(\d+\.\d+))/.exec(a))&&b[1]?parseFloat(b[1]):NaN}else d=e=f=h=g=NaN;if(c){if(c[1]){var u=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(a);j=!u||parseFloat(u[1].replace("_","."))}else j=!1;k=!!c[2],l=!!c[3]}else j=k=l=!1}}var u={ie:function(){return t()||d},ieCompatibilityMode:function(){return t()||i>d},ie64:function(){return u.ie()&&n},firefox:function(){return t()||e},opera:function(){return t()||f},webkit:function(){return t()||g},safari:function(){return u.webkit()},chrome:function(){return t()||h},windows:function(){return t()||k},osx:function(){return t()||j},linux:function(){return t()||l},iphone:function(){return t()||o},mobile:function(){return t()||o||p||m||r},nativeApp:function(){return t()||q},android:function(){return t()||m},ipad:function(){return t()||p}};b.exports=u},17371,(a,b,c)=>{"use strict";b.exports={canUseDOM:!1,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:!1,canUseViewport:!1,isInWorker:!0}},11868,(a,b,c)=>{"use strict";var d,e=a.r(17371);e.canUseDOM&&(d=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),b.exports=function(a,b){if(!e.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,f=c in document;if(!f){var g=document.createElement("div");g.setAttribute(c,"return;"),f="function"==typeof g[c]}return!f&&d&&"wheel"===a&&(f=document.implementation.hasFeature("Events.wheel","3.0")),f}},58615,(a,b,c)=>{"use strict";var d=a.r(39545),e=a.r(11868);function f(a){var b=0,c=0,d=0,e=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0),d=10*b,e=10*c,"deltaY"in a&&(e=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||e)&&a.deltaMode&&(1==a.deltaMode?(d*=40,e*=40):(d*=800,e*=800)),d&&!b&&(b=d<1?-1:1),e&&!c&&(c=e<1?-1:1),{spinX:b,spinY:c,pixelX:d,pixelY:e}}f.getEventType=function(){return d.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},b.exports=f},3478,(a,b,c)=>{b.exports=a.r(58615)},95028,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(11642),f=a.i(19032),g=a.i(65763),h=a.i(57723),i=function(a,b){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])})(a,b)},j=function(){return(j=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)},k=("function"==typeof SuppressedError&&SuppressedError,a.i(3478));function l(a,b,c,d,e){void 0===e&&(e=0);var f=s(b.width,b.height,e),g=f.width,h=f.height;return{x:m(a.x,g,c.width,d),y:m(a.y,h,c.height,d)}}function m(a,b,c,d){var e=b*d/2-c/2;return t(a,-e,e)}function n(a,b){return Math.sqrt(Math.pow(a.y-b.y,2)+Math.pow(a.x-b.x,2))}function o(a,b){return 180*Math.atan2(b.y-a.y,b.x-a.x)/Math.PI}function p(a,b){return Math.min(a,Math.max(0,b))}function q(a,b){return b}function r(a,b){return{x:(b.x+a.x)/2,y:(b.y+a.y)/2}}function s(a,b,c){var d=c*Math.PI/180;return{width:Math.abs(Math.cos(d)*a)+Math.abs(Math.sin(d)*b),height:Math.abs(Math.sin(d)*a)+Math.abs(Math.cos(d)*b)}}function t(a,b,c){return Math.min(Math.max(a,b),c)}function u(){for(var a=[],b=0;b<arguments.length;b++)a[b]=arguments[b];return a.filter(function(a){return"string"==typeof a&&!!(a.length>0)}).join(" ").trim()}var v=function(a){if("function"!=typeof a&&null!==a)throw TypeError("Class extends value "+String(a)+" is not a constructor or null");function b(){this.constructor=d}function d(){var b=null!==a&&a.apply(this,arguments)||this;return b.cropperRef=c.createRef(),b.imageRef=c.createRef(),b.videoRef=c.createRef(),b.containerPosition={x:0,y:0},b.containerRef=null,b.styleRef=null,b.containerRect=null,b.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},b.dragStartPosition={x:0,y:0},b.dragStartCrop={x:0,y:0},b.gestureZoomStart=0,b.gestureRotationStart=0,b.isTouching=!1,b.lastPinchDistance=0,b.lastPinchRotation=0,b.rafDragTimeout=null,b.rafPinchTimeout=null,b.wheelTimer=null,b.currentDoc="undefined"!=typeof document?document:null,b.currentWindow=null,b.resizeObserver=null,b.previousCropSize=null,b.isInitialized=!1,b.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},b.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&b.containerRef){var a=!0;b.resizeObserver=new window.ResizeObserver(function(c){if(a){a=!1;return}b.computeSizes()}),b.resizeObserver.observe(b.containerRef)}},b.preventZoomSafari=function(a){return a.preventDefault()},b.cleanEvents=function(){b.currentDoc&&(b.currentDoc.removeEventListener("mousemove",b.onMouseMove),b.currentDoc.removeEventListener("mouseup",b.onDragStopped),b.currentDoc.removeEventListener("touchmove",b.onTouchMove),b.currentDoc.removeEventListener("touchend",b.onDragStopped),b.currentDoc.removeEventListener("gesturechange",b.onGestureChange),b.currentDoc.removeEventListener("gestureend",b.onGestureEnd),b.currentDoc.removeEventListener("scroll",b.onScroll))},b.clearScrollEvent=function(){b.containerRef&&b.containerRef.removeEventListener("wheel",b.onWheel),b.wheelTimer&&clearTimeout(b.wheelTimer)},b.onMediaLoad=function(){var a=b.computeSizes();a&&(b.previousCropSize=a,b.emitCropData(),b.setInitialCrop(a),b.isInitialized=!0),b.props.onMediaLoaded&&b.props.onMediaLoaded(b.mediaSize)},b.setInitialCrop=function(a){if(b.props.initialCroppedAreaPercentages){var c,d,e,f,g,h,i,j=(c=b.props.initialCroppedAreaPercentages,d=b.mediaSize,e=b.props.rotation,f=b.props.minZoom,g=b.props.maxZoom,h=s(d.width,d.height,e),{crop:{x:(i=t(a.width/h.width*(100/c.width),f,g))*h.width/2-a.width/2-h.width*i*(c.x/100),y:i*h.height/2-a.height/2-h.height*i*(c.y/100)},zoom:i}),k=j.crop,l=j.zoom;b.props.onCropChange(k),b.props.onZoomChange&&b.props.onZoomChange(l)}else if(b.props.initialCroppedAreaPixels){var m,n,o,p,q,r,u,v,w,x=(m=b.props.initialCroppedAreaPixels,n=b.mediaSize,o=b.props.rotation,p=b.props.minZoom,q=b.props.maxZoom,void 0===o&&(o=0),r=s(n.naturalWidth,n.naturalHeight,o),v=t((u=n.width>n.height?n.width/n.naturalWidth:n.height/n.naturalHeight,a.height>a.width?a.height/(m.height*u):a.width/(m.width*u)),p,q),w=a.height>a.width?a.height/m.height:a.width/m.width,{crop:{x:((r.width-m.width)/2-m.x)*w,y:((r.height-m.height)/2-m.y)*w},zoom:v}),k=x.crop,l=x.zoom;b.props.onCropChange(k),b.props.onZoomChange&&b.props.onZoomChange(l)}},b.computeSizes=function(){var a,c,d,e,f,g,h=b.imageRef.current||b.videoRef.current;if(h&&b.containerRef){b.containerRect=b.containerRef.getBoundingClientRect(),b.saveContainerPosition();var i,k,l,m,n,o,p,q,r,t,u,v=b.containerRect.width/b.containerRect.height,w=(null==(a=b.imageRef.current)?void 0:a.naturalWidth)||(null==(c=b.videoRef.current)?void 0:c.videoWidth)||0,x=(null==(d=b.imageRef.current)?void 0:d.naturalHeight)||(null==(e=b.videoRef.current)?void 0:e.videoHeight)||0,y=h.offsetWidth<w||h.offsetHeight<x,z=w/x,A=void 0;if(y)switch(b.state.mediaObjectFit){default:case"contain":A=v>z?{width:b.containerRect.height*z,height:b.containerRect.height}:{width:b.containerRect.width,height:b.containerRect.width/z};break;case"horizontal-cover":A={width:b.containerRect.width,height:b.containerRect.width/z};break;case"vertical-cover":A={width:b.containerRect.height*z,height:b.containerRect.height}}else A={width:h.offsetWidth,height:h.offsetHeight};b.mediaSize=j(j({},A),{naturalWidth:w,naturalHeight:x}),b.props.setMediaSize&&b.props.setMediaSize(b.mediaSize);var B=b.props.cropSize?b.props.cropSize:(i=b.mediaSize.width,k=b.mediaSize.height,l=b.containerRect.width,m=b.containerRect.height,n=b.props.aspect,void 0===(o=b.props.rotation)&&(o=0),q=(p=s(i,k,o)).width,r=p.height,(t=Math.min(q,l))>(u=Math.min(r,m))*n?{width:u*n,height:u}:{width:t,height:t/n});return((null==(f=b.state.cropSize)?void 0:f.height)!==B.height||(null==(g=b.state.cropSize)?void 0:g.width)!==B.width)&&b.props.onCropSizeChange&&b.props.onCropSizeChange(B),b.setState({cropSize:B},b.recomputeCropPosition),b.props.setCropSize&&b.props.setCropSize(B),B}},b.saveContainerPosition=function(){if(b.containerRef){var a=b.containerRef.getBoundingClientRect();b.containerPosition={x:a.left,y:a.top}}},b.onMouseDown=function(a){b.currentDoc&&(a.preventDefault(),b.currentDoc.addEventListener("mousemove",b.onMouseMove),b.currentDoc.addEventListener("mouseup",b.onDragStopped),b.saveContainerPosition(),b.onDragStart(d.getMousePoint(a)))},b.onMouseMove=function(a){return b.onDrag(d.getMousePoint(a))},b.onScroll=function(a){b.currentDoc&&(a.preventDefault(),b.saveContainerPosition())},b.onTouchStart=function(a){!b.currentDoc||(b.isTouching=!0,(!b.props.onTouchRequest||b.props.onTouchRequest(a))&&(b.currentDoc.addEventListener("touchmove",b.onTouchMove,{passive:!1}),b.currentDoc.addEventListener("touchend",b.onDragStopped),b.saveContainerPosition(),2===a.touches.length?b.onPinchStart(a):1===a.touches.length&&b.onDragStart(d.getTouchPoint(a.touches[0]))))},b.onTouchMove=function(a){a.preventDefault(),2===a.touches.length?b.onPinchMove(a):1===a.touches.length&&b.onDrag(d.getTouchPoint(a.touches[0]))},b.onGestureStart=function(a){b.currentDoc&&(a.preventDefault(),b.currentDoc.addEventListener("gesturechange",b.onGestureChange),b.currentDoc.addEventListener("gestureend",b.onGestureEnd),b.gestureZoomStart=b.props.zoom,b.gestureRotationStart=b.props.rotation)},b.onGestureChange=function(a){if(a.preventDefault(),!b.isTouching){var c=d.getMousePoint(a),e=b.gestureZoomStart-1+a.scale;if(b.setNewZoom(e,c,{shouldUpdatePosition:!0}),b.props.onRotationChange){var f=b.gestureRotationStart+a.rotation;b.props.onRotationChange(f)}}},b.onGestureEnd=function(a){b.cleanEvents()},b.onDragStart=function(a){var c,d;b.dragStartPosition={x:a.x,y:a.y},b.dragStartCrop=j({},b.props.crop),null==(d=(c=b.props).onInteractionStart)||d.call(c)},b.onDrag=function(a){var c=a.x,d=a.y;b.currentWindow&&(b.rafDragTimeout&&b.currentWindow.cancelAnimationFrame(b.rafDragTimeout),b.rafDragTimeout=b.currentWindow.requestAnimationFrame(function(){if(b.state.cropSize&&void 0!==c&&void 0!==d){var a=c-b.dragStartPosition.x,e=d-b.dragStartPosition.y,f={x:b.dragStartCrop.x+a,y:b.dragStartCrop.y+e},g=b.props.restrictPosition?l(f,b.mediaSize,b.state.cropSize,b.props.zoom,b.props.rotation):f;b.props.onCropChange(g)}}))},b.onDragStopped=function(){var a,c;b.isTouching=!1,b.cleanEvents(),b.emitCropData(),null==(c=(a=b.props).onInteractionEnd)||c.call(a)},b.onWheel=function(a){if(b.currentWindow&&(!b.props.onWheelRequest||b.props.onWheelRequest(a))){a.preventDefault();var c=d.getMousePoint(a),e=(0,k.default)(a).pixelY,f=b.props.zoom-e*b.props.zoomSpeed/200;b.setNewZoom(f,c,{shouldUpdatePosition:!0}),b.state.hasWheelJustStarted||b.setState({hasWheelJustStarted:!0},function(){var a,c;return null==(c=(a=b.props).onInteractionStart)?void 0:c.call(a)}),b.wheelTimer&&clearTimeout(b.wheelTimer),b.wheelTimer=b.currentWindow.setTimeout(function(){return b.setState({hasWheelJustStarted:!1},function(){var a,c;return null==(c=(a=b.props).onInteractionEnd)?void 0:c.call(a)})},250)}},b.getPointOnContainer=function(a,c){var d=a.x,e=a.y;if(!b.containerRect)throw Error("The Cropper is not mounted");return{x:b.containerRect.width/2-(d-c.x),y:b.containerRect.height/2-(e-c.y)}},b.getPointOnMedia=function(a){var c=a.x,d=a.y,e=b.props,f=e.crop,g=e.zoom;return{x:(c+f.x)/g,y:(d+f.y)/g}},b.setNewZoom=function(a,c,d){var e=(void 0===d?{}:d).shouldUpdatePosition;if(b.state.cropSize&&b.props.onZoomChange){var f=t(a,b.props.minZoom,b.props.maxZoom);if(void 0===e||e){var g=b.getPointOnContainer(c,b.containerPosition),h=b.getPointOnMedia(g),i={x:h.x*f-g.x,y:h.y*f-g.y},j=b.props.restrictPosition?l(i,b.mediaSize,b.state.cropSize,f,b.props.rotation):i;b.props.onCropChange(j)}b.props.onZoomChange(f)}},b.getCropData=function(){var a,c,d,e,f,g,h,i,k,m,n,o,r,t,u;return b.state.cropSize?(a=b.props.restrictPosition?l(b.props.crop,b.mediaSize,b.state.cropSize,b.props.zoom,b.props.rotation):b.props.crop,c=b.mediaSize,d=b.state.cropSize,e=b.getAspect(),f=b.props.zoom,g=b.props.rotation,h=b.props.restrictPosition,void 0===g&&(g=0),void 0===h&&(h=!0),i=h?p:q,k=s(c.width,c.height,g),m=s(c.naturalWidth,c.naturalHeight,g),n={x:i(100,((k.width-d.width/f)/2-a.x/f)/k.width*100),y:i(100,((k.height-d.height/f)/2-a.y/f)/k.height*100),width:i(100,d.width/k.width*100/f),height:i(100,d.height/k.height*100/f)},o=Math.round(i(m.width,n.width*m.width/100)),r=Math.round(i(m.height,n.height*m.height/100)),t=m.width>=m.height*e?{width:Math.round(r*e),height:r}:{width:o,height:Math.round(o/e)},u=j(j({},t),{x:Math.round(i(m.width-t.width,n.x*m.width/100)),y:Math.round(i(m.height-t.height,n.y*m.height/100))}),{croppedAreaPercentages:n,croppedAreaPixels:u}):null},b.emitCropData=function(){var a=b.getCropData();if(a){var c=a.croppedAreaPercentages,d=a.croppedAreaPixels;b.props.onCropComplete&&b.props.onCropComplete(c,d),b.props.onCropAreaChange&&b.props.onCropAreaChange(c,d)}},b.emitCropAreaChange=function(){var a=b.getCropData();if(a){var c=a.croppedAreaPercentages,d=a.croppedAreaPixels;b.props.onCropAreaChange&&b.props.onCropAreaChange(c,d)}},b.recomputeCropPosition=function(){if(b.state.cropSize){var a,c,d=b.props.crop;if(b.isInitialized&&(null==(a=b.previousCropSize)?void 0:a.width)&&(null==(c=b.previousCropSize)?void 0:c.height)&&(Math.abs(b.previousCropSize.width-b.state.cropSize.width)>1e-6||Math.abs(b.previousCropSize.height-b.state.cropSize.height)>1e-6)){var e=b.state.cropSize.width/b.previousCropSize.width,f=b.state.cropSize.height/b.previousCropSize.height;d={x:b.props.crop.x*e,y:b.props.crop.y*f}}var g=b.props.restrictPosition?l(d,b.mediaSize,b.state.cropSize,b.props.zoom,b.props.rotation):d;b.previousCropSize=b.state.cropSize,b.props.onCropChange(g),b.emitCropData()}},b.onKeyDown=function(a){var c,d,e=b.props,f=e.crop,g=e.onCropChange,h=e.keyboardStep,i=e.zoom,k=e.rotation,m=h;if(b.state.cropSize){a.shiftKey&&(m*=.2);var n=j({},f);switch(a.key){case"ArrowUp":n.y-=m,a.preventDefault();break;case"ArrowDown":n.y+=m,a.preventDefault();break;case"ArrowLeft":n.x-=m,a.preventDefault();break;case"ArrowRight":n.x+=m,a.preventDefault();break;default:return}b.props.restrictPosition&&(n=l(n,b.mediaSize,b.state.cropSize,i,k)),a.repeat||null==(d=(c=b.props).onInteractionStart)||d.call(c),g(n)}},b.onKeyUp=function(a){var c,d;switch(a.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":a.preventDefault();break;default:return}b.emitCropData(),null==(d=(c=b.props).onInteractionEnd)||d.call(c)},b}return i(d,a),d.prototype=null===a?Object.create(a):(b.prototype=a.prototype,new b),d.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},d.prototype.componentWillUnmount=function(){var a,b;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null==(a=this.resizeObserver)||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null==(b=this.styleRef.parentNode)||b.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},d.prototype.componentDidUpdate=function(a){a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect||a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():(null==(b=a.cropSize)?void 0:b.height)!==(null==(c=this.props.cropSize)?void 0:c.height)||(null==(d=a.cropSize)?void 0:d.width)!==(null==(e=this.props.cropSize)?void 0:e.width)?this.computeSizes():((null==(f=a.crop)?void 0:f.x)!==(null==(g=this.props.crop)?void 0:g.x)||(null==(h=a.crop)?void 0:h.y)!==(null==(i=this.props.crop)?void 0:i.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&(null==(j=this.videoRef.current)||j.load());var b,c,d,e,f,g,h,i,j,k=this.getObjectFit();k!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:k},this.computeSizes)},d.prototype.getAspect=function(){var a=this.props,b=a.cropSize,c=a.aspect;return b?b.width/b.height:c},d.prototype.getObjectFit=function(){var a,b,c,d;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var e=this.containerRect.width/this.containerRect.height;return((null==(a=this.imageRef.current)?void 0:a.naturalWidth)||(null==(b=this.videoRef.current)?void 0:b.videoWidth)||0)/((null==(c=this.imageRef.current)?void 0:c.naturalHeight)||(null==(d=this.videoRef.current)?void 0:d.videoHeight)||0)<e?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},d.prototype.onPinchStart=function(a){var b=d.getTouchPoint(a.touches[0]),c=d.getTouchPoint(a.touches[1]);this.lastPinchDistance=n(b,c),this.lastPinchRotation=o(b,c),this.onDragStart(r(b,c))},d.prototype.onPinchMove=function(a){var b=this;if(this.currentDoc&&this.currentWindow){var c=d.getTouchPoint(a.touches[0]),e=d.getTouchPoint(a.touches[1]),f=r(c,e);this.onDrag(f),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var a=n(c,e),d=b.props.zoom*(a/b.lastPinchDistance);b.setNewZoom(d,f,{shouldUpdatePosition:!1}),b.lastPinchDistance=a;var g=o(c,e),h=b.props.rotation+(g-b.lastPinchRotation);b.props.onRotationChange&&b.props.onRotationChange(h),b.lastPinchRotation=g})}},d.prototype.render=function(){var a,b=this,d=this.props,e=d.image,f=d.video,g=d.mediaProps,h=d.cropperProps,i=d.transform,k=d.crop,l=k.x,m=k.y,n=d.rotation,o=d.zoom,p=d.cropShape,q=d.showGrid,r=d.roundCropAreaPixels,s=d.style,t=s.containerStyle,v=s.cropAreaStyle,w=s.mediaStyle,x=d.classes,y=x.containerClassName,z=x.cropAreaClassName,A=x.mediaClassName,B=null!=(a=this.state.mediaObjectFit)?a:this.getObjectFit();return c.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(a){return b.containerRef=a},"data-testid":"container",style:t,className:u("reactEasyCrop_Container",y)},e?c.createElement("img",j({alt:"",className:u("reactEasyCrop_Image","contain"===B&&"reactEasyCrop_Contain","horizontal-cover"===B&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===B&&"reactEasyCrop_Cover_Vertical",A)},g,{src:e,ref:this.imageRef,style:j(j({},w),{transform:i||"translate(".concat(l,"px, ").concat(m,"px) rotate(").concat(n,"deg) scale(").concat(o,")")}),onLoad:this.onMediaLoad})):f&&c.createElement("video",j({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:u("reactEasyCrop_Video","contain"===B&&"reactEasyCrop_Contain","horizontal-cover"===B&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===B&&"reactEasyCrop_Cover_Vertical",A)},g,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:j(j({},w),{transform:i||"translate(".concat(l,"px, ").concat(m,"px) rotate(").concat(n,"deg) scale(").concat(o,")")}),controls:!1}),(Array.isArray(f)?f:[{src:f}]).map(function(a){return c.createElement("source",j({key:a.src},a))})),this.state.cropSize&&c.createElement("div",j({ref:this.cropperRef,style:j(j({},v),{width:r?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:r?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:u("reactEasyCrop_CropArea","round"===p&&"reactEasyCrop_CropAreaRound",q&&"reactEasyCrop_CropAreaGrid",z)},h)))},d.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},d.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},d.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},d}(c.Component);async function w(a,b){let c=await new Promise((b,c)=>{let d=new Image;d.addEventListener("load",()=>b(d)),d.addEventListener("error",a=>c(a)),d.src=a}),d=document.createElement("canvas"),e=d.getContext("2d");if(!e)throw Error("无法获取canvas上下文");return d.width=b.width,d.height=b.height,e.drawImage(c,b.x,b.y,b.width,b.height,0,0,b.width,b.height),new Promise((a,b)=>{d.toBlob(c=>{c?a(c):b(Error("Canvas为空"))},"image/jpeg",.95)})}function x({image:a,onComplete:d,onCancel:e,aspectRatio:f=1}){let[g,h]=(0,c.useState)({x:0,y:0}),[i,j]=(0,c.useState)(1),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),o=(0,c.useCallback)((a,b)=>{l(b)},[]),p=(0,c.useCallback)(async()=>{if(k)try{n(!0);let b=await w(a,k);d(b)}catch(a){console.error("裁剪失败:",a)}finally{n(!1)}},[a,k,d]);return(0,b.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 w-full max-w-2xl mx-4",children:[(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"裁剪图片"}),(0,b.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"拖动图片调整位置，滚动鼠标缩放"})]}),(0,b.jsx)("div",{className:"relative w-full h-96 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:(0,b.jsx)(v,{image:a,crop:g,zoom:i,aspect:f,onCropChange:h,onZoomChange:j,onCropComplete:o,cropShape:1===f?"round":"rect"})}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"缩放"}),(0,b.jsx)("input",{type:"range",min:1,max:3,step:.1,value:i,onChange:a=>j(Number(a.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})]}),(0,b.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,b.jsx)("button",{onClick:e,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",disabled:m,children:"取消"}),(0,b.jsx)("button",{onClick:p,disabled:m,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:m?"处理中...":"完成裁剪"})]})]})})}var y=a.i(54897),z=a.i(68114);function A(){(0,g.usePageTitle)("个人资料",!0);let a=(0,d.useRouter)(),{user:i}=(0,e.useAuth)(),[j,k]=(0,c.useState)({name:"",title:"",bio:"",location:"",avatar:"",website:"",website_title:""}),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[A,B]=(0,c.useState)({show:!1,type:"success",message:""}),[C,D]=(0,c.useState)([]),[E,F]=(0,c.useState)(null),[G,H]=(0,c.useState)(!1),[I,J]=(0,c.useState)({platform:"",account:"",link:"",icon:"",qrcode:"",show_in_profile:!1,is_visible:!0}),[K,L]=(0,c.useState)(!1),[M,N]=(0,c.useState)(!1);(0,c.useEffect)(()=>{O()},[]);let O=async()=>{try{let a=await (0,f.getAdminProfile)();k({name:a?.name||"",title:a?.title||"",bio:a?.bio||"",location:a?.location||"",avatar:a?.avatar||"",website:a?.website||"",website_title:a?.website_title||""}),await U()}catch(a){console.error("加载个人资料失败:",a)}finally{m(!1)}},P=a=>{k({...j,[a.target.name]:a.target.value})},Q=async a=>{let b=a.target.files?.[0];if(!b)return;if(!b.type.startsWith("image/"))return void B({show:!0,type:"error",message:"请选择图片文件"});let c=new FileReader;c.onload=()=>{w(c.result),u(!0)},c.readAsDataURL(b),a.target.value=""},R=async a=>{u(!1),q(!0);try{let b=new File([a],"avatar.jpg",{type:"image/jpeg"}),c=await (0,f.uploadAdminAvatar)(b);c.success&&(k({...j,avatar:c.data.avatar}),B({show:!0,type:"success",message:"头像上传成功"}))}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"头像上传失败"})}finally{q(!1),w(null)}},S=async()=>{s(!0);try{(await (0,f.deleteAdminAvatar)()).success&&(k({...j,avatar:""}),B({show:!0,type:"success",message:"头像删除成功"}))}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"头像删除失败"})}finally{s(!1)}},T=async a=>{a.preventDefault(),o(!0);try{await (0,f.updateAdminProfile)(j),B({show:!0,type:"success",message:"个人资料更新成功"})}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"更新失败"})}finally{o(!1)}},U=async()=>{try{let a=await (0,f.getAdminSocialLinks)();if(a.success){let b=Array.isArray(a.data)?a.data:[];D(b)}}catch(a){console.error("Failed to load social links:",a),D([])}},V=a=>{J({...I,[a.target.name]:a.target.value})},W=async a=>{a.preventDefault();try{E?.id?(await (0,f.updateAdminSocialLink)(E.id,I)).success&&(B({show:!0,type:"success",message:"社交链接更新成功"}),await U(),Y()):(await (0,f.createAdminSocialLink)(I)).success&&(B({show:!0,type:"success",message:"社交链接添加成功"}),await U(),Y())}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"操作失败"})}},X=async a=>{if(confirm("确定要删除这个社交链接吗？"))try{(await (0,f.deleteAdminSocialLink)(a)).success&&(B({show:!0,type:"success",message:"社交链接删除成功"}),await U())}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"删除失败"})}},Y=()=>{J({platform:"",account:"",link:"",icon:"",qrcode:"",show_in_profile:!1,is_visible:!0}),F(null),H(!1)},Z=async a=>{let b=a.target.files?.[0];if(b){L(!0);try{let c=await (0,f.uploadAdminSocialLinkIcon)(b);c.success&&(J({...I,icon:c.data.url}),B({show:!0,type:"success",message:"图标上传成功"}),a.target.value="")}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"图标上传失败"})}finally{L(!1)}}},$=async a=>{let b=a.target.files?.[0];if(b){N(!0);try{let c=await (0,f.uploadAdminSocialLinkQRCode)(b);c.success&&(J({...I,qrcode:c.data.url}),B({show:!0,type:"success",message:"二维码上传成功"}),a.target.value="")}catch(a){B({show:!0,type:"error",message:a.response?.data?.message||"二维码上传失败"})}finally{N(!1)}}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(h.default,{show:A.show,message:A.message,type:A.type,onClose:()=>B({...A,show:!1})}),(0,b.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,b.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,b.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"头像设置"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人头像"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[j.avatar&&(0,b.jsx)("div",{className:"flex justify-center py-4",children:(0,b.jsxs)("div",{className:"relative group",children:[(0,b.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-50 border-4 border-white shadow-lg ring-2 ring-blue-100",children:(0,b.jsx)("img",{src:(0,f.getImageUrl)(j.avatar),alt:"Avatar",className:"w-full h-full object-cover"})}),(0,b.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200"})]})}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[!j.avatar&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",id:"avatarInput",accept:"image/*",onChange:Q,disabled:p,className:"hidden"}),(0,b.jsxs)("label",{htmlFor:"avatarInput",className:`px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-blue-600 hover:to-blue-700 hover:shadow-lg text-sm cursor-pointer whitespace-nowrap flex items-center gap-2 ${p?"opacity-50 cursor-not-allowed":""}`,children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),p?"上传中...":"选择文件"]})]}),(0,b.jsx)("input",{type:"text",name:"avatar",value:j.avatar,onChange:P,placeholder:"或输入图片URL地址",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"}),j.avatar&&(0,b.jsxs)("button",{type:"button",onClick:S,disabled:r,className:"flex-shrink-0 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-red-600 hover:to-red-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm whitespace-nowrap flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),r?"删除中...":"删除"]})]}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"支持 jpg、png、gif、webp 格式，或输入自定义URL"]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"基本信息"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人基本信息"})]})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"姓名"]}),(0,b.jsx)("input",{id:"name",name:"name",type:"text",value:j.name,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"你的名字"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"职位/头衔"]}),(0,b.jsx)("input",{id:"title",name:"title",type:"text",value:j.title,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"例如：全栈开发工程师"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"个人简介"]}),(0,b.jsx)("textarea",{id:"bio",name:"bio",rows:4,value:j.bio,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"介绍一下自己..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsxs)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"所在地"]}),(0,b.jsx)("input",{id:"location",name:"location",type:"text",value:j.location,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"例如：北京"})]})]})]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"社交信息"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人网站信息"})]})]}),(0,b.jsxs)("div",{className:"space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"个人网站链接"]}),(0,b.jsx)("input",{id:"website",name:"website",type:"url",value:j.website,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"https://example.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{htmlFor:"website_title",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"网站显示标题"]}),(0,b.jsx)("input",{id:"website_title",name:"website_title",type:"text",value:j.website_title,onChange:P,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例如：我的博客"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1.5",children:[(0,b.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"如果不填写，将显示网站链接本身"]})]})]})]}),(0,b.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[(0,b.jsxs)("button",{type:"submit",disabled:n,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-blue-600 hover:to-blue-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n?"保存中...":"保存更改"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>a.push((0,y.getAdminRoute)("dashboard")),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium transition-all duration-300 hover:bg-gray-200 flex items-center justify-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"社交链接管理"}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"添加和管理您的社交媒体链接"})]})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsxs)("button",{type:"button",onClick:()=>H(!G),className:"px-4 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg flex items-center gap-2",children:[(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),G?"取消":"添加社交链接"]})}),G&&(0,b.jsxs)("div",{className:"mb-6 p-5 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[(0,b.jsx)("h3",{className:"text-base font-semibold mb-4 text-gray-900",children:E?"编辑社交链接":"添加社交链接"}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700 mb-2",children:"平台名称"}),(0,b.jsx)("input",{id:"platform",name:"platform",type:"text",required:!0,value:I.platform,onChange:V,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"例如：GitHub, Twitter, LinkedIn"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"account",className:"block text-sm font-medium text-gray-700 mb-2",children:"账号/用户名"}),(0,b.jsx)("input",{id:"account",name:"account",type:"text",required:!0,value:I.account,onChange:V,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"例如：yourusername"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"链接地址 (可选)"}),(0,b.jsx)("input",{id:"link",name:"link",type:"url",value:I.link,onChange:V,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"https://..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"icon",className:"block text-sm font-medium text-gray-700 mb-2",children:"图标 (可选)"}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[I.icon&&(0,b.jsx)("div",{className:"flex-shrink-0 w-16 h-16 flex items-center justify-center bg-white rounded border border-gray-200",children:(0,b.jsx)("img",{src:(0,f.getImageUrl)(I.icon),alt:"图标",className:"max-w-full max-h-full object-contain"})}),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!I.icon&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",id:"iconInput",accept:".jpg,.jpeg,.png,.gif,.webp,.svg",onChange:Z,disabled:K,className:"hidden"}),(0,b.jsx)("label",{htmlFor:"iconInput",className:`px-4 py-2 bg-orange-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-orange-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${K?"opacity-50 cursor-not-allowed":""}`,children:K?"上传中...":"选择文件"})]}),(0,b.jsx)("input",{id:"icon",name:"icon",type:"text",value:I.icon,onChange:V,placeholder:"图标 URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),I.icon&&(0,b.jsx)("button",{type:"button",onClick:()=>{J({...I,icon:""}),B({show:!0,type:"success",message:"图标删除成功"})},className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md text-xs whitespace-nowrap",children:"删除"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"支持 jpg、png、gif、webp、svg 格式"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"qrcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"二维码图片 (可选)"}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"上传二维码后，前台点击社交链接将显示二维码弹窗，不会跳转URL"}),(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[I.qrcode&&(0,b.jsx)("div",{className:"flex-shrink-0 w-20 h-20 flex items-center justify-center bg-white rounded border border-gray-200",children:(0,b.jsx)("img",{src:(0,f.getImageUrl)(I.qrcode),alt:"二维码",className:"w-full h-full object-contain"})}),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!I.qrcode&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",id:"qrcodeInput",accept:".jpg,.jpeg,.png,.gif,.webp,.svg",onChange:$,disabled:M,className:"hidden"}),(0,b.jsx)("label",{htmlFor:"qrcodeInput",className:`px-4 py-2 bg-orange-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-orange-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${M?"opacity-50 cursor-not-allowed":""}`,children:M?"上传中...":"选择文件"})]}),(0,b.jsx)("input",{id:"qrcode",name:"qrcode",type:"text",value:I.qrcode,onChange:V,placeholder:"二维码图片 URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),I.qrcode&&(0,b.jsx)("button",{type:"button",onClick:()=>{J({...I,qrcode:""}),B({show:!0,type:"success",message:"二维码删除成功"})},className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md text-xs whitespace-nowrap",children:"删除"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"支持 jpg、png、gif、webp、svg 格式"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",id:"show_in_profile",name:"show_in_profile",checked:I.show_in_profile||!1,onChange:a=>J({...I,show_in_profile:a.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"在个人资料卡片中显示（最多显示6个），博客模式下建议只选择4个！"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"勾选后，此社交链接将显示在博客主题的个人资料卡片下方，图标会根据数量自动调整大小和间距"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",id:"is_visible",name:"is_visible",checked:void 0===I.is_visible||I.is_visible,onChange:a=>J({...I,is_visible:a.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"前台可见"})]}),(0,b.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"取消勾选后，此社交链接将不会在前台显示，仅在后台管理中可见"})]}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)("button",{type:"button",onClick:a=>{a.preventDefault(),W(a)},className:"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg",children:E?"更新":"添加"}),(0,b.jsx)("button",{type:"button",onClick:Y,className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium transition-all duration-300 hover:bg-gray-200",children:"取消"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-base font-semibold mb-4 text-gray-900",children:"已添加的社交链接"}),0===C.length?(0,b.jsx)("p",{className:"text-gray-500 text-center py-8 bg-gray-50 rounded-lg",children:"还没有添加任何社交链接"}):(0,b.jsx)("div",{className:"space-y-3",children:C.map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200 hover:border-orange-300 transition-all",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1 mr-3",children:[(0,b.jsx)("button",{type:"button",onClick:async()=>{if(0===c)return;let a=[...C],b=a[c];a[c]=a[c-1],a[c-1]=b,D(a);try{let b=a.map((a,b)=>({id:a.id,sort_order:b}));await (0,z.safeFetch)("/api/admin/social-links/sort/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({sortData:b})})}catch(a){console.error("Failed to update sort order:",a)}},disabled:0===c,className:"p-1 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"上移",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,b.jsx)("button",{type:"button",onClick:async()=>{if(c===C.length-1)return;let a=[...C],b=a[c];a[c]=a[c+1],a[c+1]=b,D(a);try{let b=a.map((a,b)=>({id:a.id,sort_order:b}));await (0,z.safeFetch)("/api/admin/social-links/sort/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({sortData:b})})}catch(a){console.error("Failed to update sort order:",a)}},disabled:c===C.length-1,className:"p-1 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"下移",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("h4",{className:"font-medium text-gray-900",children:a.platform}),a.show_in_profile&&(0,b.jsx)("span",{className:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded-full",children:"显示在资料卡"}),!1===a.is_visible&&(0,b.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"前台隐藏"})]}),(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:["账号：",a.account]}),a.link&&(0,b.jsx)("a",{href:a.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-orange-600 hover:underline",children:a.link})]}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{F(a),J({platform:a.platform,account:a.account,link:a.link||"",icon:a.icon||"",qrcode:a.qrcode||"",show_in_profile:a.show_in_profile||!1,is_visible:void 0===a.is_visible||a.is_visible}),H(!0)},className:"px-3 py-1.5 bg-white text-gray-700 border border-gray-300 rounded-lg text-sm font-medium transition-all duration-300 hover:bg-gray-50 hover:border-gray-400",children:"编辑"}),(0,b.jsx)("button",{type:"button",onClick:()=>a.id&&X(a.id),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-all duration-300",children:"删除"})]})]},a.id))})]})]})]})})}),t&&v&&(0,b.jsx)(x,{image:v,onComplete:R,onCancel:()=>{u(!1),w(null)},aspectRatio:1})]})}a.s(["default",()=>A],95028)}];

//# sourceMappingURL=_67f158a6._.js.map