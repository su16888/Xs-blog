(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,96433,e=>{"use strict";var t=e.i(18050),r=e.i(95987),s=e.i(75157);function a({className:e=""}){let{settings:a}=(0,r.useSettings)(),l=a.backgroundImage||"",o=a.backgroundOpacity||"0.5";if(!l)return null;let n=(0,s.getApiBaseUrl)(),i=l.startsWith("http")?l:`${n}${l}`;return(0,t.jsx)("div",{className:`absolute inset-0 z-0 pointer-events-none ${e}`,style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(o)}})}e.s(["default",()=>a])},44739,e=>{"use strict";var t=e.i(18050),r=e.i(71645);let s="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",a="WHMtYmxvZy4=",l=e=>{try{return atob(e)}catch{return""}};function o(){let[e,o]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[x,m]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=setTimeout(()=>{let e,t;e=l(s),t=l(a),e.length>0&&t.includes("Xs-blog")&&(o(l(s)),i(l(a)),c(l("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{!document.querySelector("[data-copyright]")&&x&&console.warn("Copyright notice must not be removed.")},5e3);return()=>clearInterval(e)},[x]),x&&e)?(0,t.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[e,(0,t.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:n})]}):null}e.s(["default",()=>o])},26261,e=>{"use strict";var t=e.i(71645),r=e.i(95987);function s({forceNoIndex:e=!1,customTitle:s}){let{settings:a}=(0,r.useSettings)(),l="true"===a.allowSEO;return(0,t.useEffect)(()=>{if(s)document.title=s;else{let e=a.siteTitle||"",t=a.siteSubtitle||"";e&&(document.title=t?`${e} - ${t}`:e)}},[a.siteTitle,a.siteSubtitle,s]),(0,t.useEffect)(()=>{if(e||!l){let e=document.querySelector('meta[name="robots"]');e||((e=document.createElement("meta")).name="robots",document.head.appendChild(e)),e.content="noindex, nofollow, noarchive, nosnippet, noimageindex";let t=document.querySelector('meta[name="googlebot"]');t||((t=document.createElement("meta")).name="googlebot",document.head.appendChild(t)),t.content="noindex, nofollow";let r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');r||((r=document.createElement("meta")).httpEquiv="X-Robots-Tag",document.head.appendChild(r)),r.content="noindex, nofollow"}else{let e=document.querySelector('meta[name="robots"]'),t=document.querySelector('meta[name="googlebot"]'),r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');e&&e.remove(),t&&t.remove(),r&&r.remove()}},[e,l]),null}e.s(["default",()=>s])},75505,e=>{"use strict";let t=(0,e.i(75254).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],75505)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},1513,e=>{"use strict";var t=e.i(18050),r=e.i(71645);function s({disk:e}){let[s,a]=(0,r.useState)(!1);return(0,t.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-xl p-4 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"text-center mb-3",children:(0,t.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white leading-tight",children:e.title})}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-3 flex-wrap",children:[e.file_size&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsx)("span",{children:e.file_size})]}),e.extract_code&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"提取码:"}),(0,t.jsx)("span",{className:"text-xs font-mono font-bold text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/30 px-1.5 py-0.5 rounded border border-purple-200 dark:border-purple-700",children:e.extract_code}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.extract_code,void(navigator.clipboard.writeText(t),a(!0),setTimeout(()=>a(!1),2e3))},className:"px-1.5 py-0.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors flex items-center gap-1",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"已复制"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"复制"})]})})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("button",{onClick:()=>{e.download_url&&window.open(e.download_url,"_blank")},disabled:!e.download_url,className:"px-4 py-1.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg transition-all shadow-md hover:shadow-lg disabled:cursor-not-allowed text-xs sm:text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),(0,t.jsx)("span",{children:"下载资源"})]})})]})}function a({disks:e}){let[a,l]=(0,r.useState)(0);return e&&0!==e.length?1===e.length?(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(s,{disk:e[0]})}):(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-3 overflow-x-auto",children:e.map((e,r)=>(0,t.jsx)("button",{onClick:()=>l(r),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${r===a?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e.disk_name},e.id))}),(0,t.jsx)("div",{className:"overflow-hidden rounded-xl",children:(0,t.jsx)("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${100*a}%)`},children:e.map(e=>(0,t.jsx)("div",{className:"w-full flex-shrink-0",children:(0,t.jsx)(s,{disk:e})},e.id))})}),e.length>1&&(0,t.jsx)("div",{className:"flex justify-center gap-1.5 mt-3",children:e.map((e,r)=>(0,t.jsx)("button",{onClick:()=>l(r),className:`transition-all duration-200 rounded-full ${r===a?"w-4 h-1.5 bg-blue-600":"w-1.5 h-1.5 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400"}`,"aria-label":`切换到第 ${r+1} 个网盘`},r))})]}):null}var l=e.i(75157);function o({isOpen:e,onClose:s,noteId:o,isAdmin:n=!1,password:i}){let[d,c]=(0,r.useState)([]),[x,m]=(0,r.useState)(!1),[u,h]=(0,r.useState)(!1),[p,g]=(0,r.useState)(null),[b,y]=(0,r.useState)({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""});(0,r.useEffect)(()=>{e&&o&&f()},[e,o]);let f=async()=>{m(!0);try{let e=n?`/api/admin/notes/${o}/disks`:`/api/notes/${o}/disks`;!n&&i&&(e+=`?password=${encodeURIComponent(i)}`);let t={};if(n){let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e),m(!1);return}e&&(t.Authorization=`Bearer ${e}`)}let r=await (0,l.safeFetch)(e,{headers:t}),s=await r.json();s.success&&c(s.data)}catch(e){console.error("获取网盘列表失败:",e)}finally{m(!1)}},j=async e=>{e.preventDefault();try{let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let t=n?`/api/admin/notes/${o}/disks`:`/api/notes/${o}/disks`,r=await (0,l.safeFetch)(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(b)});(await r.json()).success&&(y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""}),h(!1),f())}catch(e){console.error("添加网盘失败:",e)}},k=async e=>{if(e.preventDefault(),p)try{let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let t=n?`/api/admin/notes/${o}/disks/${p.id}`:`/api/notes/${o}/disks/${p.id}`,r=await (0,l.safeFetch)(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(b)});(await r.json()).success&&(y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""}),h(!1),g(null),f())}catch(e){console.error("更新网盘失败:",e)}},v=async e=>{if(confirm("确定要删除这个网盘吗？"))try{let t=null;try{t=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let r=n?`/api/admin/notes/${o}/disks/${e}`:`/api/notes/${o}/disks/${e}`,s=await (0,l.safeFetch)(r,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});(await s.json()).success&&f()}catch(e){console.error("删除网盘失败:",e)}};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",onClick:s,children:(0,t.jsxs)("div",{className:`bg-white dark:bg-gray-900 rounded-xl shadow-2xl w-full ${n?"max-w-md max-h-[85vh] overflow-hidden flex flex-col":"max-w-sm md:scale-[1.15] md:origin-center"}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),(0,t.jsx)("h2",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"网盘资源"})]}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 rounded transition-colors",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:`p-4 ${n?"overflow-y-auto flex-1":""}`,children:[x?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"加载中..."})]}):n||0!==d.length?!n&&d.length>0?(0,t.jsx)(a,{disks:d}):null:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"暂无网盘资源"})]}),n&&(0,t.jsxs)("div",{className:"mt-3 sm:mt-4",children:[u?(0,t.jsxs)("form",{onSubmit:p?k:j,className:"space-y-3 sm:space-y-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 pb-2 sm:pb-3 border-b border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-blue-600 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white",children:p?"编辑网盘信息":"添加新网盘"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),"网盘名称",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:b.disk_name,onChange:e=>y({...b,disk_name:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：百度网盘、阿里云盘"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"资源标题",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:b.title,onChange:e=>y({...b,title:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：高级网页设计教程.pdf"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"文件"}),"大小"]}),(0,t.jsx)("input",{type:"text",value:b.file_size,onChange:e=>y({...b,file_size:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：150MB"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"提取码"]}),(0,t.jsx)("input",{type:"text",value:b.extract_code,onChange:e=>y({...b,extract_code:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all font-mono",placeholder:"如：1234"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"下载链接"]}),(0,t.jsx)("input",{type:"url",value:b.download_url,onChange:e=>y({...b,download_url:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"https://"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,t.jsxs)("button",{type:"submit",className:"flex-1 py-2 px-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),p?"更新":"添加"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{h(!1),g(null),y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""})},className:"flex-1 py-2 px-3 bg-gray-300 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-all text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]})]}):(0,t.jsxs)("button",{onClick:()=>h(!0),className:"w-full py-2 sm:py-2.5 px-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg sm:rounded-xl transition-all shadow-md hover:shadow-lg text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"添加网盘"]}),n&&d.length>0&&!u&&(0,t.jsxs)("div",{className:"mt-3 sm:mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,t.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300",children:"管理网盘"})]}),d.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-sm transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.title}),(0,t.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 truncate",children:e.disk_name})]})]}),(0,t.jsxs)("div",{className:"flex gap-1.5 ml-2",children:[(0,t.jsx)("button",{onClick:()=>{g(e),y({disk_name:e.disk_name,title:e.title,file_size:e.file_size||"",extract_code:e.extract_code||"",download_url:e.download_url||""}),h(!0)},className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-md transition-colors font-medium",children:"编辑"}),(0,t.jsx)("button",{onClick:()=>v(e.id),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded-md transition-colors font-medium",children:"删除"})]})]},e.id))]})]})]}),!n&&(0,t.jsx)("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-800",children:(0,t.jsx)("p",{className:"text-[10px] text-center text-gray-400",children:"如发现资源失效请反馈"})})]})}):null}e.s(["default",()=>o],1513)},51975,e=>{"use strict";let t=(0,e.i(75254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],51975)},53304,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),a=e.i(46932),l=e.i(3116),o=e.i(71689),n=e.i(51975),i=e.i(75505);let d=(0,e.i(75254).default)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);var c=e.i(40160),x=e.i(78917),m=e.i(9165),u=e.i(18789),h=e.i(60508),p=e.i(30562),g=e.i(75157),b=e.i(80043),y=e.i(1513),f=e.i(44739),j=e.i(14984),k=e.i(26261),v=e.i(96433);let w=(0,g.getApiBaseUrl)();function N(){let e,g,N,C,S,_,L=(0,s.useParams)(),$=(0,s.useRouter)(),M=(0,s.useSearchParams)(),[z,T]=(0,r.useState)(null),[B,E]=(0,r.useState)(!0),[W,H]=(0,r.useState)(!1),[q,A]=(0,r.useState)(!1),[F,I]=(0,r.useState)(""),[P,R]=(0,r.useState)(""),[U,V]=(0,r.useState)(!1),[D,O]=(0,r.useState)(0),[X,Y]=(0,r.useState)(3),[Z,J]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),[G,ee]=(0,r.useState)(!1),[et,er]=(0,r.useState)(""),[es,ea]=(0,r.useState)({browserTitle:"笔记详情",browserSubtitle:""}),[el,eo]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=async()=>{try{let e=M.get("password");if(e){let t=await m.default.get(`/notes/${L.id}?password=${encodeURIComponent(e)}`);if(t.data?.success&&t.data?.data){let r=t.data.data;T(r),r.requiresPassword?(A(!0),R("URL中的密码不正确，请重新输入")):(A(!1),er(e))}else H(!0)}else{let e=await m.default.get(`/notes/${L.id}`);if(e.data?.success&&e.data?.data){let t=e.data.data;T(t),t.requiresPassword&&A(!0)}else H(!0)}}catch(e){console.error("Failed to fetch note:",e),H(!0)}finally{E(!1)}};L.id&&e()},[L.id,M]),(0,r.useEffect)(()=>{(async()=>{try{let[e,t]=await Promise.all([(0,m.getSettings)(),(0,m.getPageText)("note")]);if(e.success&&e.data){let t={};e.data.forEach(e=>{t[e.key]=e.value}),eo(t.siteTitle||"")}t.success&&t.data&&ea({browserTitle:t.data.browserTitle||"笔记详情",browserSubtitle:t.data.browserSubtitle||""})}catch(e){console.error("加载页面配置失败:",e)}})()},[]),(0,r.useEffect)(()=>{if(z&&!z.requiresPassword){let e=[z.title||"无标题"];es.browserTitle&&e.push(es.browserTitle),el&&e.push(el),document.title=e.join(" - ")}else B?document.title="加载中...":W&&(document.title="笔记不存在")},[z,B,W,et,es,el]),(0,r.useEffect)(()=>{z&&!z.requiresPassword&&en()},[z,et]),(0,r.useEffect)(()=>{let e=async()=>{try{let e=await m.default.get("/notes/password-status");e.data?.success&&(O(e.data.errorCount||0),Y(e.data.remaining??3))}catch(e){console.error("Failed to fetch password status")}};q&&e()},[q]);let en=async()=>{try{let e=et?`?password=${encodeURIComponent(et)}`:"",t=await m.default.get(`/notes/${L.id}/disks${e}`);t.data?.success&&t.data?.data&&ee(t.data.data.length>0)}catch(e){ee(!1)}},ei=async e=>{e.preventDefault(),R(""),V(!0);try{let e=await m.default.post(`/notes/${L.id}/verify`,{password:F});e.data?.success&&e.data?.data&&(T(e.data.data),A(!1),er(F),I(""),O(0),Y(3))}catch(t){let e=t.response?.data;e?.errorCount!==void 0&&(O(e.errorCount),Y(e.remaining)),t.response?.status===429?R("密码错误次数过多，请1小时后重试！"):t.response?.status===401?R(e?.remaining>0?"密码错误":"密码错误次数过多，请1小时后重试！"):R("验证失败，请稍后重试")}finally{V(!1)}},ed=()=>{$.push("/")},ec=e=>{$.push(`/notes?tag=${encodeURIComponent(e)}`)};return B?(0,t.jsx)("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-10 h-10 border-3 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-text-tertiary text-sm",children:"加载中..."})]})}):W||!z?(0,t.jsx)("div",{className:"min-h-screen bg-bg-primary flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-3",children:"404"}),(0,t.jsx)("p",{className:"text-text-tertiary text-sm mb-4",children:"笔记不存在或已被删除"}),(0,t.jsx)("button",{onClick:ed,className:"px-4 py-2 bg-primary-500 text-white text-sm rounded-lg hover:bg-primary-600 transition-colors",children:"返回首页"})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-bg-primary hide-scrollbar relative",children:[(0,t.jsx)(k.default,{}),(0,t.jsx)(v.default,{}),(0,t.jsx)("nav",{className:"sticky top-0 z-50 bg-bg-primary/95 backdrop-blur-md border-b border-border-primary shadow-sm",children:(0,t.jsx)("div",{className:"max-w-6xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,t.jsxs)("button",{onClick:ed,className:"flex items-center gap-2 text-text-secondary hover:text-text-primary transition-colors text-sm font-medium",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"返回"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[G&&(0,t.jsxs)("button",{onClick:()=>Q(!0),className:"flex items-center gap-1.5 px-3 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors font-medium",children:[(0,t.jsx)(c.Download,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"下载资源"})]}),(0,t.jsxs)("button",{onClick:()=>J(!0),className:"flex items-center gap-1.5 px-3 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors font-medium",children:[(0,t.jsx)(d,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"分享笔记"})]})]})]})})}),(0,t.jsx)("main",{className:"py-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,t.jsxs)(a.motion.article,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:"rounded-xl border border-border-primary shadow-sm overflow-hidden bg-bg-secondary",children:[(0,t.jsxs)("header",{className:"bg-bg-tertiary px-4 sm:px-6 py-4 border-b border-border-primary",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-start gap-2 mb-3",children:[(0,t.jsx)("h1",{className:"text-lg sm:text-xl font-bold text-text-primary leading-snug flex-1",children:z.title||"无标题"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1.5",children:["original"===z.source_type&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-primary-100 text-primary-700 text-[10px] font-medium rounded",children:"原创"}),"reprint"===z.source_type&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-primary-100 text-primary-600 text-[10px] font-medium rounded",children:"转载"}),G&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 bg-primary-100 text-primary-600 text-[10px] font-medium rounded",children:"含资源"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs text-text-tertiary",children:[z.category&&(0,t.jsxs)("button",{onClick:()=>{z?.category&&$.push(`/notes?category=${encodeURIComponent(z.category)}`)},className:"flex items-center gap-1 hover:text-primary-600 transition-colors",children:[(0,t.jsx)(i.FolderOpen,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:z.category})]}),z.Tags&&z.Tags.length>0&&z.Tags.map(e=>(0,t.jsxs)("button",{onClick:()=>ec(e.name),className:"flex items-center gap-1 hover:opacity-70 transition-opacity",style:{color:e.color||"var(--text-tertiary)"},children:[(0,t.jsx)(n.Tag,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.name})]},e.id)),(!z.Tags||0===z.Tags.length)&&z.tags&&z.tags.split(",").map((e,r)=>(0,t.jsxs)("button",{onClick:()=>ec(e.trim()),className:"flex items-center gap-1 hover:text-primary-600 transition-colors",children:[(0,t.jsx)(n.Tag,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:e.trim()})]},r)),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(l.Clock,{className:"w-3 h-3"}),(0,t.jsx)("time",{dateTime:z.published_at||z.created_at,children:(g=(e=new Date(z.published_at||z.created_at)).getFullYear(),N=String(e.getMonth()+1).padStart(2,"0"),C=String(e.getDate()).padStart(2,"0"),S=String(e.getHours()).padStart(2,"0"),_=String(e.getMinutes()).padStart(2,"0"),`${g}-${N}-${C} ${S}:${_}`)})]})]})]}),(0,t.jsx)("div",{className:"px-4 sm:px-6 py-5",children:(0,t.jsx)("div",{className:"prose prose-sm max-w-none note-content",children:(0,t.jsx)(u.default,{remarkPlugins:[h.default],rehypePlugins:[p.default],components:{img:({src:e,alt:r,...s})=>{let a=e;return"string"==typeof e&&e.startsWith("/uploads/")&&(a=`${w}${e}`),(0,t.jsx)("div",{className:"flex justify-center my-4",children:(0,t.jsx)("img",{src:a,alt:r||"",className:"max-w-full h-auto rounded-lg shadow-sm",style:{maxHeight:"360px",objectFit:"contain"},loading:"lazy",onError:e=>{e.target.style.display="none"},...s})})},iframe:({node:e,...r})=>(0,t.jsx)("div",{className:"iframe-container my-4",children:(0,t.jsx)("iframe",{...r})}),pre:({node:e,children:s,...a})=>{let l=e=>"string"==typeof e?e:Array.isArray(e)?e.map(l).join(""):r.default.isValidElement(e)?l(e.props.children||""):"",o=l(s),n=(e=>{if(r.default.isValidElement(e)){let t=e.props,r=t?.className||"",s=/language-(\w+)/.exec(r);return s?s[1]:""}return""})(s);return(0,t.jsxs)("div",{className:"relative my-4 group code-block-wrapper",children:[(0,t.jsxs)("pre",{className:"code-block",...a,children:[n&&(0,t.jsx)("span",{className:"code-language-label",children:n}),s]}),(0,t.jsx)(j.default,{text:o})]})},code:({node:e,inline:r,className:s,children:a,...l})=>r?(0,t.jsx)("code",{className:"inline-code",...l,children:a}):(0,t.jsx)("code",{className:`block-code ${s||""}`,...l,children:a}),table:({node:e,children:r,...s})=>(0,t.jsx)("div",{className:"overflow-x-auto my-4 rounded-lg border border-border-primary",children:(0,t.jsx)("table",{className:"w-full text-sm",...s,children:r})}),th:({node:e,children:r,...s})=>(0,t.jsx)("th",{className:"bg-bg-tertiary text-text-primary font-medium p-2 text-left text-xs border-b border-border-primary",...s,children:r}),td:({node:e,children:r,...s})=>(0,t.jsx)("td",{className:"p-2 text-text-secondary text-xs border-b border-border-primary",...s,children:r}),blockquote:({node:e,children:r,...s})=>(0,t.jsx)("blockquote",{className:"note-blockquote",...s,children:r}),a:({node:e,href:r,children:s,...a})=>(0,t.jsx)("a",{href:r,className:"text-primary-600 hover:text-primary-700 hover:underline",target:"_blank",rel:"noopener noreferrer",...a,children:s}),p:({node:e,children:s,...a})=>r.default.Children.toArray(s).some(e=>"string"==typeof e&&e.includes("\n"))?(0,t.jsx)("p",{className:"text-text-secondary leading-relaxed mb-3 text-sm",...a,children:r.default.Children.map(s,(e,s)=>{if("string"==typeof e){let a=e.split("\n");return(0,t.jsx)(r.default.Fragment,{children:a.map((e,s)=>(0,t.jsxs)(r.default.Fragment,{children:[e,s<a.length-1&&(0,t.jsx)("br",{})]},s))},s)}return e})}):(0,t.jsx)("p",{className:"text-text-secondary leading-relaxed mb-3 text-sm",...a,children:s}),h1:({node:e,children:r,...s})=>(0,t.jsx)("h1",{className:"text-lg font-bold text-text-primary mb-3 mt-5 pb-2 border-b border-border-primary",...s,children:r}),h2:({node:e,children:r,...s})=>(0,t.jsx)("h2",{className:"text-base font-semibold text-text-primary mb-2 mt-4",...s,children:r}),h3:({node:e,children:r,...s})=>(0,t.jsx)("h3",{className:"text-sm font-semibold text-text-primary mb-2 mt-3",...s,children:r}),ul:({node:e,children:r,...s})=>(0,t.jsx)("ul",{className:"list-disc pl-5 mb-3 space-y-1",...s,children:r}),ol:({node:e,children:r,...s})=>(0,t.jsx)("ol",{className:"list-decimal pl-5 mb-3 space-y-1",...s,children:r}),li:({node:e,children:r,...s})=>(0,t.jsx)("li",{className:"text-text-secondary text-sm",...s,children:r}),hr:({node:e,...r})=>(0,t.jsx)("hr",{className:"my-6 border-t border-border-primary",...r}),strong:({node:e,children:r,...s})=>(0,t.jsx)("strong",{className:"font-semibold text-text-primary",...s,children:r})},children:z.content})})}),(0,t.jsxs)("footer",{className:"bg-bg-tertiary px-4 sm:px-6 py-4 border-t border-border-primary",children:["reprint"===z.source_type&&z.source_text&&(0,t.jsxs)("div",{className:"flex items-start gap-2 text-xs text-text-tertiary mb-3 pb-3 border-b border-border-primary",children:[(0,t.jsx)(x.ExternalLink,{className:"w-3.5 h-3.5 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-text-tertiary",children:"来源："}),(0,t.jsx)("span",{children:z.source_text})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{onClick:ed,className:"flex items-center gap-1.5 text-xs text-text-tertiary hover:text-text-secondary transition-colors",children:[(0,t.jsx)(o.ArrowLeft,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"返回列表"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[G&&(0,t.jsxs)("button",{onClick:()=>Q(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-primary-100 text-primary-600 rounded-md hover:bg-primary-200 transition-colors",children:[(0,t.jsx)(c.Download,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"下载资源"})]}),(0,t.jsxs)("button",{onClick:()=>J(!0),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-primary-100 text-primary-600 rounded-md hover:bg-primary-200 transition-colors",children:[(0,t.jsx)(d,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{children:"分享笔记"})]})]})]})]})]}),(0,t.jsxs)("footer",{className:"mt-6 border-t border-border-primary py-6 text-center text-sm text-text-tertiary",children:[(0,t.jsxs)("p",{children:["© ",new Date().getFullYear()," Xs-blog. All rights reserved."]}),(0,t.jsx)(f.default,{})]})]})}),q&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:(0,t.jsxs)(a.motion.div,{className:"bg-bg-secondary rounded-xl max-w-sm w-full p-5 shadow-xl border border-border-primary",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[(0,t.jsxs)("div",{className:"text-center mb-5",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-primary-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,t.jsx)("h3",{className:"text-base font-bold text-text-primary mb-1",children:"需要密码访问"}),(0,t.jsx)("p",{className:"text-xs text-text-tertiary",children:"请输入密码查看笔记内容"})]}),(0,t.jsxs)("form",{onSubmit:ei,className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"password",name:"note-access-password",value:F,onChange:e=>I(e.target.value),placeholder:"请输入密码",className:"w-full px-3 py-2.5 text-sm border border-border-primary rounded-lg bg-bg-tertiary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",autoFocus:!0,autoComplete:"off",disabled:U}),P&&(0,t.jsx)("p",{className:"mt-1.5 text-xs",style:{color:"var(--error-text)"},children:P}),D>0&&X>0&&(0,t.jsxs)("p",{className:"mt-1.5 text-xs text-text-tertiary",children:["当前已输入错误",D,"次，还可以重试",X,"次"]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{type:"button",onClick:ed,className:"flex-1 px-3 py-2 text-sm bg-bg-tertiary text-text-secondary rounded-lg hover:bg-border-primary transition-colors",disabled:U,children:"返回"}),(0,t.jsx)("button",{type:"submit",className:`flex-1 px-3 py-2 text-sm rounded-lg transition-colors ${0===X?"bg-gray-400 cursor-not-allowed":"bg-primary-500 hover:bg-primary-600 disabled:opacity-50"} text-white`,disabled:U||!F||0===X,children:U?"验证中...":0===X?"暂不可用":"确认"})]})]})]})}),Z&&z&&(0,t.jsx)(b.default,{noteId:z.id,title:z.title,password:z.password,onClose:()=>J(!1)}),z&&(0,t.jsx)(y.default,{isOpen:K,onClose:()=>Q(!1),noteId:z.id,isAdmin:!1,password:et})]})}e.s(["default",()=>N],53304)}]);