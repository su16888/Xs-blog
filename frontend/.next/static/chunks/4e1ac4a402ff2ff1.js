(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40803,e=>{"use strict";var t=e.i(18050),s=e.i(71645),r=e.i(46932),a=e.i(88653),l=e.i(75254);let i=(0,l.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),d=(0,l.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var n=e.i(37727);function c({show:e,message:l,type:c,duration:o=3e3,onClose:x}){let[m,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){u(!0);let e=setTimeout(()=>{u(!1)},o);return()=>clearTimeout(e)}u(!1)},[e,o]),(0,s.useEffect)(()=>{if(!m&&e){let e=setTimeout(x,300);return()=>clearTimeout(e)}},[m,e,x]);let p=(()=>{switch(c){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:(0,t.jsx)(i,{className:"w-5 h-5 text-green-500"})};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:(0,t.jsx)(d,{className:"w-5 h-5 text-red-500"})};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:(0,t.jsx)(i,{className:"w-5 h-5 text-blue-500"})}}})();return(0,t.jsx)(a.AnimatePresence,{children:m&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.2},className:"fixed top-4 right-4 z-[999999] min-w-[300px] max-w-md",children:(0,t.jsxs)("div",{className:`${p.bg} border rounded-lg shadow-lg p-4 flex items-start gap-3`,children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:p.icon}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:`${p.text} text-sm font-medium`,children:l})}),(0,t.jsx)("button",{onClick:()=>{u(!1)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(n.X,{className:"w-4 h-4"})})]})})})}e.s(["default",()=>c],40803)},88653,e=>{"use strict";e.i(47167);var t=e.i(18050),s=e.i(71645),r=e.i(31178),a=e.i(47414),l=e.i(74008),i=e.i(21476),d=e.i(72846),n=s,c=e.i(37806);function o(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class x extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.isHTMLElement)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:r,anchorX:a,root:l}){let i=(0,n.useId)(),d=(0,n.useRef)(null),m=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,n.useContext)(c.MotionConfigContext),p=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=o(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():o(e[t],null)}}}}(...e),e)}(d,e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:n,right:c}=m.current;if(r||!d.current||!e||!t)return;let o="left"===a?`left: ${n}`:`right: ${c}`;d.current.dataset.motionPopId=i;let x=document.createElement("style");u&&(x.nonce=u);let p=l??document.head;return p.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${o}px !important;
            top: ${s}px !important;
          }
        `),()=>{p.contains(x)&&p.removeChild(x)}},[r]),(0,t.jsx)(x,{isPresent:r,childRef:d,sizeRef:m,children:n.cloneElement(e,{ref:p})})}let u=({children:e,initial:r,isPresent:l,onExitComplete:d,custom:n,presenceAffectsLayout:c,mode:o,anchorX:x,root:u})=>{let f=(0,a.useConstant)(p),h=(0,s.useId)(),g=!0,b=(0,s.useMemo)(()=>(g=!1,{id:h,initial:r,isPresent:l,custom:n,onExitComplete:e=>{for(let t of(f.set(e,!0),f.values()))if(!t)return;d&&d()},register:e=>(f.set(e,!1),()=>f.delete(e))}),[l,f,d]);return c&&g&&(b={...b}),(0,s.useMemo)(()=>{f.forEach((e,t)=>f.set(t,!1))},[l]),s.useEffect(()=>{l||f.size||!d||d()},[l]),"popLayout"===o&&(e=(0,t.jsx)(m,{isPresent:l,anchorX:x,root:u,children:e})),(0,t.jsx)(i.PresenceContext.Provider,{value:b,children:e})};function p(){return new Map}var f=e.i(64978);let h=e=>e.key||"";function g(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:i,initial:d=!0,onExitComplete:n,presenceAffectsLayout:c=!0,mode:o="sync",propagate:x=!1,anchorX:m="left",root:p})=>{let[b,j]=(0,f.usePresence)(x),y=(0,s.useMemo)(()=>g(e),[e]),v=x&&!b?[]:y.map(h),N=(0,s.useRef)(!0),w=(0,s.useRef)(y),_=(0,a.useConstant)(()=>new Map),[k,C]=(0,s.useState)(y),[$,S]=(0,s.useState)(y);(0,l.useIsomorphicLayoutEffect)(()=>{N.current=!1,w.current=y;for(let e=0;e<$.length;e++){let t=h($[e]);v.includes(t)?_.delete(t):!0!==_.get(t)&&_.set(t,!1)}},[$,v.length,v.join("-")]);let A=[];if(y!==k){let e=[...y];for(let t=0;t<$.length;t++){let s=$[t],r=h(s);v.includes(r)||(e.splice(t,0,s),A.push(s))}return"wait"===o&&A.length&&(e=A),S(g(e)),C(y),null}let{forceRender:P}=(0,s.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:$.map(e=>{let s=h(e),r=(!x||!!b)&&(y===$||v.includes(s));return(0,t.jsx)(u,{isPresent:r,initial:(!N.current||!!d)&&void 0,custom:i,presenceAffectsLayout:c,mode:o,root:p,onExitComplete:r?void 0:()=>{if(!_.has(s))return;_.set(s,!0);let e=!0;_.forEach(t=>{t||(e=!1)}),e&&(P?.(),S(w.current),x&&j?.(),n&&n())},anchorX:m,children:e},s)})})};e.s(["AnimatePresence",()=>b],88653)},64740,e=>{"use strict";var t=e.i(71645),s=e.i(90499);let r=null;function a(e,l=!1){let[i,d]=(0,t.useState)(r||""),n=(0,s.useOptionalPageTitleContext)();(0,t.useEffect)(()=>{l&&n&&n.setTitle(e)},[e,l,n]),(0,t.useEffect)(()=>{r?d(r):(async()=>{try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.key]=t.value});let s=e.siteTitle||"";r=s,d(s)}}}catch(e){console.error("Failed to fetch site title:",e)}})()},[]),(0,t.useEffect)(()=>{let t=document.title;return l?"ä»ªè¡¨ç›˜"===e?document.title=`${i} - åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${i}åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${i}`,()=>{document.title=t}},[e,i,l])}e.s(["usePageTitle",()=>a])},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},7233,69074,e=>{"use strict";var t=e.i(75254);let s=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],7233);let r=(0,t.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>r],69074)},98961,e=>{"use strict";var t=e.i(18050),s=e.i(37902),r=e.i(71645),a=e.i(18566),l=e.i(57951),i=e.i(64740),d=e.i(40803),n=e.i(7233),c=e.i(27612),o=e.i(56909),x=e.i(37727),m=e.i(69074),u=e.i(73708),p=e.i(81949),f=e.i(86034),h=e.i(9165);function g(){(0,i.usePageTitle)("æœåŠ¡ä¸šåŠ¡ç®¡ç†",!0),(0,a.useRouter)();let{user:e}=(0,l.useAuth)(),[g,b]=(0,r.useState)([]),[j,y]=(0,r.useState)([]),[v,N]=(0,r.useState)(!0),[w,_]=(0,r.useState)("services"),[k,C]=(0,r.useState)(null),[$,S]=(0,r.useState)(!1),[A,P]=(0,r.useState)({name:"",description:"",content:"",cover_image:"",price:"",category_id:null,is_visible:!0,is_recommended:!1,sort_order:0,show_order_button:!1,order_button_text:"ç«‹å³ä¸‹å•",order_button_url:"",spec_title:"æœåŠ¡è§„æ ¼",specifications:[]}),[I,E]=(0,r.useState)(null),[M,T]=(0,r.useState)(!1),[U,z]=(0,r.useState)({name:"",description:"",icon:"",sort_order:0,is_visible:!0}),[R,L]=(0,r.useState)(""),[B,q]=(0,r.useState)(!1),[X,F]=(0,r.useState)(null),[H,D]=(0,r.useState)({show:!1,type:"success",message:""});(0,r.useEffect)(()=>{O()},[]);let O=async()=>{try{await Promise.all([V(),K()])}catch(e){console.error("åŠ è½½æœåŠ¡æ•°æ®å¤±è´¥:",e)}finally{N(!1)}},V=async()=>{try{let e=localStorage.getItem("token"),t=await p.default.get(`${(0,f.getApiUrl)()}/admin/services`,{headers:{Authorization:`Bearer ${e}`}});t.data.success&&b(t.data.data||[])}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||e.message||"åŠ è½½æœåŠ¡åˆ—è¡¨å¤±è´¥"}),b([])}},K=async()=>{try{let e=localStorage.getItem("token"),t=await p.default.get(`${(0,f.getApiUrl)()}/admin/service-categories`,{headers:{Authorization:`Bearer ${e}`}});t.data.success&&y(t.data.data||[])}catch(e){console.error("åŠ è½½æœåŠ¡åˆ†ç±»å¤±è´¥:",e),y([])}},W=e=>{let{name:t,value:s,type:r}=e.target,a=e.target.checked,l=s;"checkbox"===r?l=a:"sort_order"===t?l=parseInt(s)||0:"category_id"===t&&(l=""===s?null:parseInt(s)),P({...A,[t]:l})},G=async e=>{let t=e.target.files?.[0];if(t){q(!0);try{let e=localStorage.getItem("token"),s=new FormData;s.append("cover",t);let r=await p.default.post(`${(0,f.getApiUrl)()}/admin/services/cover/upload`,s,{headers:{Authorization:`Bearer ${e}`,"Content-Type":"multipart/form-data"}});r.data.success&&(P({...A,cover_image:r.data.data.url}),D({show:!0,type:"success",message:"å°é¢ä¸Šä¼ æˆåŠŸ"}))}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||"å°é¢ä¸Šä¼ å¤±è´¥"})}finally{q(!1)}}},J=(e,t,s)=>{let r=[...A.specifications||[]];r[e]={...r[e],[t]:s},P({...A,specifications:r})},Q=async e=>{e.preventDefault();try{let e=localStorage.getItem("token"),t=k?.id?`${(0,f.getApiUrl)()}/admin/services/${k.id}`:`${(0,f.getApiUrl)()}/admin/services`,s=k?.id?"put":"post";(await p.default[s](t,A,{headers:{Authorization:`Bearer ${e}`}})).data.success&&(D({show:!0,type:"success",message:k?"æœåŠ¡æ›´æ–°æˆåŠŸ":"æœåŠ¡åˆ›å»ºæˆåŠŸ"}),await V(),Z())}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||"æ“ä½œå¤±è´¥"})}},Y=async e=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªæœåŠ¡å—ï¼Ÿ"))try{let t=localStorage.getItem("token");(await p.default.delete(`${(0,f.getApiUrl)()}/admin/services/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(D({show:!0,type:"success",message:"æœåŠ¡åˆ é™¤æˆåŠŸ"}),await V())}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||"åˆ é™¤å¤±è´¥"})}},Z=()=>{P({name:"",description:"",content:"",cover_image:"",price:"",category_id:null,is_visible:!0,is_recommended:!1,sort_order:0,show_order_button:!1,order_button_text:"ç«‹å³ä¸‹å•",order_button_url:"",specifications:[]}),C(null),S(!1)},ee=e=>{let{name:t,value:s,type:r}=e.target,a=e.target.checked,l=s;"checkbox"===r?l=a:"sort_order"===t&&(l=parseInt(s)||0),z({...U,[t]:l})},et=async e=>{if(e.preventDefault(),!U.name.trim())return void D({show:!0,type:"error",message:"åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©º"});try{let e=localStorage.getItem("token"),t=I?.id?`${(0,f.getApiUrl)()}/admin/service-categories/${I.id}`:`${(0,f.getApiUrl)()}/admin/service-categories`,s=I?.id?"put":"post";(await p.default[s](t,U,{headers:{Authorization:`Bearer ${e}`}})).data.success&&(D({show:!0,type:"success",message:I?"åˆ†ç±»æ›´æ–°æˆåŠŸ":"åˆ†ç±»åˆ›å»ºæˆåŠŸ"}),await K(),er())}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||"æ“ä½œå¤±è´¥"})}},es=async e=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåˆ†ç±»å—ï¼Ÿè¯¥åˆ†ç±»ä¸‹çš„æœåŠ¡å°†ä¸ä¼šè¢«åˆ é™¤ã€‚"))try{let t=localStorage.getItem("token");(await p.default.delete(`${(0,f.getApiUrl)()}/admin/service-categories/${e}`,{headers:{Authorization:`Bearer ${t}`}})).data.success&&(D({show:!0,type:"success",message:"åˆ†ç±»åˆ é™¤æˆåŠŸ"}),await K())}catch(e){D({show:!0,type:"error",message:e.response?.data?.message||"åˆ é™¤å¤±è´¥"})}},er=()=>{z({name:"",description:"",icon:"",sort_order:0,is_visible:!0}),E(null),T(!1)},ea=(0,r.useMemo)(()=>g.filter(e=>{let t=!R||e.name.toLowerCase().includes(R.toLowerCase())||e.description?.toLowerCase().includes(R.toLowerCase()),s=null===X||e.category_id===X;return t&&s}),[g,R,X]);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex space-x-4 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>_("services"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"services"===w?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"æœåŠ¡ç®¡ç†"}),(0,t.jsx)("button",{onClick:()=>_("categories"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"categories"===w?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"åˆ†ç±»ç®¡ç†"})]}),"services"===w&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["å…± ",ea.length," ä¸ªæœåŠ¡"]}),(0,t.jsxs)("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4"}),"æ·»åŠ æœåŠ¡"]})]}),(0,t.jsxs)("div",{className:"mb-4 flex gap-3",children:[(0,t.jsx)("input",{type:"text",placeholder:"æœç´¢æœåŠ¡...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:R,onChange:e=>L(e.target.value)}),(0,t.jsxs)("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:null===X?"":X,onChange:e=>F(""===e.target.value?null:parseInt(e.target.value)),children:[(0,t.jsx)("option",{value:"",children:"æ‰€æœ‰åˆ†ç±»"}),j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3",children:ea.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"relative w-full aspect-square bg-gradient-to-br from-purple-100 to-purple-200",children:[e.cover_image?(0,t.jsx)("img",{src:(0,h.getImageUrl)(e.cover_image),alt:e.name,className:"w-full h-full object-cover"}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(u.Image,{className:"w-12 h-12 text-purple-400"})}),e.is_recommended&&(0,t.jsx)("div",{className:"absolute top-2 right-2 bg-purple-600 text-white px-2 py-0.5 rounded text-xs font-semibold",children:"æŽ¨è"}),!e.is_visible&&(0,t.jsx)("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-0.5 rounded text-xs",children:"æœªå‘å¸ƒ"})]}),(0,t.jsxs)("div",{className:"p-2",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 text-sm mb-1 truncate",title:e.name,children:e.name}),(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[e.price&&(0,t.jsxs)("span",{className:"text-purple-600 font-bold text-base",children:["Â¥",e.price]}),e.category_id&&j.find(t=>t.id===e.category_id)&&(0,t.jsx)("span",{className:"text-xs text-gray-500 truncate ml-1",children:j.find(t=>t.id===e.category_id)?.icon})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("button",{onClick:()=>{C(e),P({name:e.name,description:e.description||"",content:e.content||"",cover_image:e.cover_image||"",price:e.price||"",category_id:e.category_id||null,is_visible:void 0===e.is_visible||e.is_visible,is_recommended:e.is_recommended||!1,sort_order:e.sort_order||0,show_order_button:e.show_order_button||!1,order_button_text:e.order_button_text||"ç«‹å³ä¸‹å•",order_button_url:e.order_button_url||"",specifications:e.specifications||[]}),S(!0)},className:"flex-1 px-2 py-1 bg-blue-600 hover:bg-blue-700 text-white rounded text-xs transition-colors",children:"ç¼–è¾‘"}),(0,t.jsx)("button",{onClick:()=>Y(e.id),className:"px-2 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-xs transition-colors",children:(0,t.jsx)(c.Trash2,{className:"w-3 h-3"})})]})]})]},e.id))}),0===ea.length&&!v&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,t.jsx)(u.Image,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),(0,t.jsx)("p",{children:"æš‚æ— æœåŠ¡æ•°æ®"})]})]}),"categories"===w&&(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["å…± ",j.length," ä¸ªåˆ†ç±»"]}),(0,t.jsxs)("button",{onClick:()=>T(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[(0,t.jsx)(n.Plus,{className:"w-4 h-4"}),"æ·»åŠ åˆ†ç±»"]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg border border-gray-200 max-h-96 overflow-y-auto",children:[(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"åˆ†ç±»åç§°"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æè¿°"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æŽ’åº"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"çŠ¶æ€"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æ“ä½œ"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,t.jsx)("span",{children:e.icon}),(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.name})]})}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500 max-w-xs truncate",children:e.description||"-"}),(0,t.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:e.sort_order}),(0,t.jsx)("td",{className:"px-4 py-3",children:(0,t.jsx)("span",{className:`px-2 py-1 text-xs rounded ${e.is_visible?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.is_visible?"å¯è§":"éšè—"})}),(0,t.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{E(e),z({name:e.name,description:e.description||"",icon:e.icon||"",sort_order:e.sort_order||0,is_visible:void 0===e.is_visible||e.is_visible}),T(!0)},className:"text-blue-600 hover:text-blue-900 text-sm",children:"ç¼–è¾‘"}),(0,t.jsx)("button",{onClick:()=>es(e.id),className:"text-red-600 hover:text-red-900 text-sm",children:"åˆ é™¤"})]})})]},e.id))})]}),0===j.length&&(0,t.jsx)("div",{className:"text-center py-12 text-gray-500",children:"æš‚æ— åˆ†ç±»æ•°æ®"})]})]})]})})}),$&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999] p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-4xl w-full max-h-[90vh] flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between rounded-t-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:k?"ç¼–è¾‘æœåŠ¡":"æ·»åŠ æœåŠ¡"}),(0,t.jsx)("button",{onClick:Z,className:"text-gray-500 hover:text-gray-700",children:(0,t.jsx)(x.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 overflow-y-auto flex-1 custom-scrollbar-admin",children:[(0,t.jsx)(s.default,{id:"e143eddf04e23f86",children:".custom-scrollbar-admin::-webkit-scrollbar{width:10px}.custom-scrollbar-admin::-webkit-scrollbar-track{background:#ffffff1a;border-radius:10px}.custom-scrollbar-admin::-webkit-scrollbar-thumb{background:#ffffff80;border-radius:10px;transition:all .3s}.custom-scrollbar-admin::-webkit-scrollbar-thumb:hover{background:#ffffffb3}.custom-scrollbar-admin{scrollbar-width:thin;scrollbar-color:#ffffff80 #ffffff1a}"}),(0,t.jsxs)("form",{onSubmit:Q,className:"jsx-e143eddf04e23f86 p-6 space-y-4",children:[(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsxs)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700 mb-2",children:["å°é¢å›¾ï¼ˆ1:1æ­£æ–¹å½¢ï¼‰",(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 text-red-500",children:"*"})]}),A.cover_image?(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 relative w-40 h-40",children:[(0,t.jsx)("img",{src:(0,h.getImageUrl)(A.cover_image),alt:"å°é¢",className:"jsx-e143eddf04e23f86 w-full h-full object-cover rounded-lg border-2 border-gray-200"}),(0,t.jsx)("button",{type:"button",onClick:()=>P({...A,cover_image:""}),className:"jsx-e143eddf04e23f86 absolute -top-2 -right-2 bg-red-500 hover:bg-red-600 text-white rounded-full w-7 h-7 flex items-center justify-center shadow-lg",children:(0,t.jsx)(x.X,{className:"w-4 h-4"})})]}):(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsx)("input",{type:"file",accept:"image/*",onChange:G,id:"cover-upload",required:!k,className:"jsx-e143eddf04e23f86 hidden"}),(0,t.jsxs)("label",{htmlFor:"cover-upload",className:"jsx-e143eddf04e23f86 inline-flex items-center gap-2 px-4 py-3 bg-blue-50 text-blue-700 rounded-lg cursor-pointer hover:bg-blue-100 border-2 border-dashed border-blue-300 transition-all",children:[(0,t.jsx)(m.Upload,{className:"w-5 h-5"}),(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 font-medium",children:B?"ä¸Šä¼ ä¸­...":"ç‚¹å‡»ä¸Šä¼ å°é¢å›¾ç‰‡"})]}),(0,t.jsx)("p",{className:"jsx-e143eddf04e23f86 text-xs text-gray-500 mt-2",children:"å»ºè®®ä¸Šä¼ æ­£æ–¹å½¢å›¾ç‰‡(1:1æ¯”ä¾‹)"})]})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsxs)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700 mb-2",children:["æœåŠ¡åç§° ",(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"name",value:A.name,onChange:W,required:!0,className:"jsx-e143eddf04e23f86 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsx)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700 mb-2",children:"æœåŠ¡è¯¦æƒ…ï¼ˆMarkdownï¼‰"}),(0,t.jsx)("textarea",{name:"content",value:A.content,onChange:W,rows:6,placeholder:"æ”¯æŒMarkdownæ ¼å¼...",className:"jsx-e143eddf04e23f86 w-full px-4 py-2 border border-gray-300 rounded-lg font-mono text-sm"})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsx)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700 mb-2",children:"ä»·æ ¼"}),(0,t.jsx)("input",{type:"text",name:"price",value:A.price,onChange:W,placeholder:"å¦‚: 999 æˆ– é¢è®®",className:"jsx-e143eddf04e23f86 w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsx)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700 mb-2",children:"æœåŠ¡åˆ†ç±»"}),(0,t.jsxs)("select",{name:"category_id",value:null===A.category_id?"":A.category_id,onChange:W,className:"jsx-e143eddf04e23f86 w-full px-4 py-2 border border-gray-300 rounded-lg",children:[(0,t.jsx)("option",{value:"",className:"jsx-e143eddf04e23f86",children:"æ— åˆ†ç±»"}),j.map(e=>(0,t.jsx)("option",{value:e.id,className:"jsx-e143eddf04e23f86",children:e.name},e.id))]})]})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86",children:[(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 flex items-center justify-between mb-2",children:[(0,t.jsx)("label",{className:"jsx-e143eddf04e23f86 block text-sm font-medium text-gray-700",children:"æœåŠ¡è§„æ ¼"}),(0,t.jsx)("button",{type:"button",onClick:()=>{P({...A,specifications:[...A.specifications||[],{spec_name:"",spec_value:"",sort_order:A.specifications?.length||0}]})},className:"jsx-e143eddf04e23f86 text-sm text-purple-600 hover:text-purple-700",children:"+ æ·»åŠ è§„æ ¼"})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 mb-3",children:[(0,t.jsx)("label",{className:"jsx-e143eddf04e23f86 block text-xs font-medium text-gray-600 mb-1",children:"è§„æ ¼æ ‡é¢˜ï¼ˆå¯è‡ªå®šä¹‰ï¼‰"}),(0,t.jsx)("input",{type:"text",name:"spec_title",value:A.spec_title||"æœåŠ¡è§„æ ¼",onChange:W,placeholder:"æœåŠ¡è§„æ ¼",className:"jsx-e143eddf04e23f86 w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})]}),(0,t.jsx)("div",{className:"jsx-e143eddf04e23f86 space-y-2",children:(A.specifications||[]).map((e,s)=>(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 flex gap-2",children:[(0,t.jsx)("input",{type:"text",placeholder:"è§„æ ¼åç§°",value:e.spec_name,onChange:e=>J(s,"spec_name",e.target.value),className:"jsx-e143eddf04e23f86 flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,t.jsx)("input",{type:"text",placeholder:"è§„æ ¼å€¼",value:e.spec_value,onChange:e=>J(s,"spec_value",e.target.value),className:"jsx-e143eddf04e23f86 flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),(0,t.jsx)("button",{type:"button",onClick:()=>{let e;return e=(A.specifications||[]).filter((e,t)=>t!==s),void P({...A,specifications:e})},className:"jsx-e143eddf04e23f86 px-3 py-2 bg-red-100 text-red-600 rounded-lg hover:bg-red-200",children:(0,t.jsx)(c.Trash2,{className:"w-4 h-4"})})]},s))})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 space-y-2",children:[(0,t.jsxs)("label",{className:"jsx-e143eddf04e23f86 flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"show_order_button",checked:A.show_order_button,onChange:W,className:"jsx-e143eddf04e23f86 rounded"}),(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 text-sm font-medium text-gray-700",children:'æ˜¾ç¤º"ç«‹å³ä¸‹å•"æŒ‰é’®'})]}),A.show_order_button&&(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 grid grid-cols-1 md:grid-cols-2 gap-4 ml-6",children:[(0,t.jsx)("input",{type:"text",name:"order_button_text",value:A.order_button_text,onChange:W,placeholder:"æŒ‰é’®æ–‡å­—",className:"jsx-e143eddf04e23f86 px-4 py-2 border border-gray-300 rounded-lg"}),(0,t.jsx)("input",{type:"url",name:"order_button_url",value:A.order_button_url,onChange:W,placeholder:"è·³è½¬URL",className:"jsx-e143eddf04e23f86 px-4 py-2 border border-gray-300 rounded-lg"})]})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("label",{className:"jsx-e143eddf04e23f86 flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"is_visible",checked:A.is_visible,onChange:W,className:"jsx-e143eddf04e23f86 rounded"}),(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 text-sm text-gray-700",children:"å‰å°å¯è§"})]}),(0,t.jsxs)("label",{className:"jsx-e143eddf04e23f86 flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"is_recommended",checked:A.is_recommended,onChange:W,className:"jsx-e143eddf04e23f86 rounded"}),(0,t.jsx)("span",{className:"jsx-e143eddf04e23f86 text-sm text-gray-700",children:"æŽ¨èæœåŠ¡"})]}),(0,t.jsx)("div",{className:"jsx-e143eddf04e23f86",children:(0,t.jsx)("input",{type:"number",name:"sort_order",value:A.sort_order,onChange:W,placeholder:"æŽ’åº",className:"jsx-e143eddf04e23f86 w-full px-3 py-2 border border-gray-300 rounded-lg text-sm"})})]}),(0,t.jsxs)("div",{className:"jsx-e143eddf04e23f86 flex gap-3 pt-4",children:[(0,t.jsxs)("button",{type:"submit",className:"jsx-e143eddf04e23f86 flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 flex items-center justify-center gap-2",children:[(0,t.jsx)(o.Save,{className:"w-4 h-4"}),k?"æ›´æ–°æœåŠ¡":"åˆ›å»ºæœåŠ¡"]}),(0,t.jsx)("button",{type:"button",onClick:Z,className:"jsx-e143eddf04e23f86 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"å–æ¶ˆ"})]})]})]})]})}),M&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[99999] p-4",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg max-w-lg w-full",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:I?"ç¼–è¾‘åˆ†ç±»":"æ·»åŠ åˆ†ç±»"}),(0,t.jsx)("button",{onClick:er,className:"text-gray-500 hover:text-gray-700",children:(0,t.jsx)(x.X,{className:"w-6 h-6"})})]}),(0,t.jsxs)("form",{onSubmit:et,className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["åˆ†ç±»åç§° ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"name",value:U.name,onChange:ee,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†ç±»æè¿°"}),(0,t.jsx)("textarea",{name:"description",value:U.description,onChange:ee,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",rows:2})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å›¾æ ‡"}),(0,t.jsx)("input",{type:"text",name:"icon",value:U.icon,onChange:ee,className:"w-full px-4 py-2 border border-gray-300 rounded-lg",placeholder:"å¦‚: ðŸ“¦"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æŽ’åº"}),(0,t.jsx)("input",{type:"number",name:"sort_order",value:U.sort_order,onChange:ee,className:"w-full px-4 py-2 border border-gray-300 rounded-lg"})]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("label",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"is_visible",checked:U.is_visible,onChange:ee,className:"rounded"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"å‰å°å¯è§"})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700",children:I?"æ›´æ–°åˆ†ç±»":"åˆ›å»ºåˆ†ç±»"}),(0,t.jsx)("button",{type:"button",onClick:er,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200",children:"å–æ¶ˆ"})]})]})]})}),(0,t.jsx)(d.default,{show:H.show,type:H.type,message:H.message,onClose:()=>D({...H,show:!1})})]})}e.s(["default",()=>g])}]);