(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,64740,e=>{"use strict";var t=e.i(71645),s=e.i(90499);let a=null;function l(e,r=!1){let[i,o]=(0,t.useState)(a||""),n=(0,s.useOptionalPageTitleContext)();(0,t.useEffect)(()=>{r&&n&&n.setTitle(e)},[e,r,n]),(0,t.useEffect)(()=>{a?o(a):(async()=>{try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.key]=t.value});let s=e.siteTitle||"";a=s,o(s)}}}catch(e){console.error("Failed to fetch site title:",e)}})()},[]),(0,t.useEffect)(()=>{let t=document.title;return r?"ä»ªè¡¨ç›˜"===e?document.title=`${i} - åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${i}åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${i}`,()=>{document.title=t}},[e,i,r])}e.s(["usePageTitle",()=>l])},40803,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(75254);let l=(0,a.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),r=(0,a.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var i=e.i(37727);function o({show:e,message:a,type:o,duration:n=3e3,onClose:c}){let[d,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){u(!0);let e=setTimeout(()=>{u(!1)},n);return()=>clearTimeout(e)}u(!1)},[e,n]),(0,s.useEffect)(()=>{if(!d&&e){let e=setTimeout(c,300);return()=>clearTimeout(e)}},[d,e,c]);let x=(()=>{switch(o){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:(0,t.jsx)(l,{className:"w-5 h-5 text-green-500"})};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:(0,t.jsx)(r,{className:"w-5 h-5 text-red-500"})};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:(0,t.jsx)(l,{className:"w-5 h-5 text-blue-500"})}}})();return(0,t.jsx)(t.Fragment,{children:d&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-[999999] min-w-[300px] max-w-md animate-slide-down",children:(0,t.jsxs)("div",{className:`${x.bg} border rounded-lg shadow-lg p-4 flex items-start gap-3`,children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:x.icon}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:`${x.text} text-sm font-medium`,children:a})}),(0,t.jsx)("button",{onClick:()=>{u(!1)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(i.X,{className:"w-4 h-4"})})]})})})}e.s(["default",()=>o],40803)},56909,e=>{"use strict";let t=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],56909)},44980,e=>{"use strict";var t=e.i(18050),s=e.i(71645),a=e.i(18566),l=e.i(98348),r=e.i(64740),i=e.i(40803),o=e.i(56909),n=e.i(81949),c=e.i(86034);function d(){(0,r.usePageTitle)("æ–‡æœ¬è®¾ç½®"),(0,a.useRouter)();let{user:e}=(0,l.useAuth)(),[d,u]=(0,s.useState)(!0),[x,m]=(0,s.useState)(!1),[g,b]=(0,s.useState)("page-texts"),[h,p]=(0,s.useState)({navigation:{title:"å¯¼èˆªåˆ—è¡¨",description:"æŽ¢ç´¢ç²¾é€‰çš„ç½‘ç«™å¯¼èˆª",browserTitle:"å¯¼èˆªåˆ—è¡¨"},services:{title:"æœåŠ¡ä¸šåŠ¡",description:"ä¸ºæ‚¨æä¾›ä¸“ä¸šçš„æœåŠ¡è§£å†³æ–¹æ¡ˆ",browserTitle:"æœåŠ¡ä¸šåŠ¡"},notes:{title:"ç¬”è®°åˆ—è¡¨",description:"æŽ¢ç´¢æ‰€æœ‰å·²å‘å¸ƒçš„ç¬”è®°å†…å®¹",browserTitle:"å…¨éƒ¨ç¬”è®°"},galleries:{title:"å›¾åº“åˆ—è¡¨",description:"æŽ¢ç´¢ç²¾å½©çš„å›¾ç‰‡åˆé›†",browserTitle:"å›¾åº“åˆ—è¡¨"},messages:{title:"è”ç³»æˆ‘ä»¬",description:"æœ‰ä»»ä½•é—®é¢˜éƒ½å¯ä»¥é€šè¿‡è¿™é‡Œè¿›è¡Œæäº¤ä½ çš„æƒ³æ³•ï¼",browserTitle:"ç•™è¨€æ¿"},promo:{title:"",description:"",browserTitle:""}}),[y,f]=(0,s.useState)({section1:"notes",section2:"navigation",enabledInBlogMode:!0}),[v,j]=(0,s.useState)({show:!1,type:"success",message:""});(0,s.useEffect)(()=>{N()},[]);let N=async()=>{try{let e=localStorage.getItem("token"),t=await n.default.get(`${(0,c.getApiUrl)()}/admin/settings`,{headers:{Authorization:`Bearer ${e}`}});if(t.data.success){let e=t.data.data,s=e.find(e=>"pageTexts"===e.key);if(s?.value)try{let e=JSON.parse(s.value);p({...h,...e})}catch(e){console.error("Failed to parse pageTexts:",e)}let a=e.find(e=>"homeContentSections"===e.key);if(a?.value)try{let e=JSON.parse(a.value);f({...y,...e})}catch(e){console.error("Failed to parse homeContentSections:",e)}}}catch(e){console.error("Failed to load settings:",e)}finally{u(!1)}},w=(e,t,s)=>{p({...h,[e]:{...h[e],[t]:s}})},k=async()=>{m(!0);try{let e=localStorage.getItem("token");(await n.default.post(`${(0,c.getApiUrl)()}/admin/settings/batch`,{settings:[{key:"pageTexts",value:JSON.stringify(h)}]},{headers:{Authorization:`Bearer ${e}`}})).data.success&&(j({show:!0,type:"success",message:"é¡µé¢æ–‡æœ¬è®¾ç½®ä¿å­˜æˆåŠŸï¼æ­£åœ¨åˆ·æ–°æ•°æ®..."}),setTimeout(()=>{N()},1e3))}catch(e){console.error("ä¿å­˜å¤±è´¥:",e),j({show:!0,type:"error",message:e.response?.data?.message||"ä¿å­˜å¤±è´¥"})}finally{m(!1)}},T=async()=>{if(y.section1===y.section2)return void j({show:!0,type:"error",message:"ä¸¤ä¸ªå†…å®¹åŒºåŸŸä¸èƒ½é€‰æ‹©ç›¸åŒçš„é¡µé¢"});m(!0);try{let e=localStorage.getItem("token");(await n.default.post(`${(0,c.getApiUrl)()}/admin/settings/batch`,{settings:[{key:"homeContentSections",value:JSON.stringify(y)}]},{headers:{Authorization:`Bearer ${e}`}})).data.success&&(j({show:!0,type:"success",message:"é¦–é¡µå†…å®¹é…ç½®ä¿å­˜æˆåŠŸï¼æ­£åœ¨åˆ·æ–°æ•°æ®..."}),setTimeout(()=>{N()},1e3))}catch(e){console.error("ä¿å­˜å¤±è´¥:",e),j({show:!0,type:"error",message:e.response?.data?.message||"ä¿å­˜å¤±è´¥"})}finally{m(!1)}},S=[{value:"notes",label:"ç¬”è®°åˆ—è¡¨"},{value:"navigation",label:"å¯¼èˆªåˆ—è¡¨"},{value:"services",label:"æœåŠ¡ä¸šåŠ¡"},{value:"galleries",label:"å›¾åº“åˆ—è¡¨"}];return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.default,{show:v.show,message:v.message,type:v.type,onClose:()=>j({...v,show:!1})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex space-x-4 border-b border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>b("page-texts"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"page-texts"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"é¡µé¢æ–‡æœ¬è®¾ç½®"}),(0,t.jsx)("button",{onClick:()=>b("home-content"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${"home-content"===g?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"é¦–é¡µå†…å®¹åˆ‡æ¢"})]}),"page-texts"===g&&(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"ðŸ“ åŠŸèƒ½è¯´æ˜Ž"}),(0,t.jsxs)("ul",{className:"space-y-1 text-blue-800",children:[(0,t.jsx)("li",{children:"â€¢ é¡µé¢æ ‡é¢˜ï¼šæ˜¾ç¤ºåœ¨é¡µé¢é¡¶éƒ¨çš„å¤§æ ‡é¢˜ï¼ˆtext-3xlæ ·å¼ï¼‰"}),(0,t.jsx)("li",{children:"â€¢ é¡µé¢æè¿°ï¼šæ˜¾ç¤ºåœ¨æ ‡é¢˜ä¸‹æ–¹çš„æè¿°æ–‡å­—ï¼ˆtext-text-secondaryæ ·å¼ï¼‰"}),(0,t.jsx)("li",{children:"â€¢ æµè§ˆå™¨æ ‡é¢˜ï¼šæ˜¾ç¤ºåœ¨æµè§ˆå™¨æ ‡ç­¾é¡µä¸Šçš„æ ‡é¢˜"})]})]}),[{key:"navigation",label:"å¯¼èˆªåˆ—è¡¨é¡µé¢",route:"/navigation"},{key:"services",label:"æœåŠ¡ä¸šåŠ¡é¡µé¢",route:"/services"},{key:"notes",label:"ç¬”è®°åˆ—è¡¨é¡µé¢",route:"/notes"},{key:"galleries",label:"å›¾åº“åˆ—è¡¨é¡µé¢",route:"/galleries"},{key:"messages",label:"ç•™è¨€åˆ—è¡¨é¡µé¢",route:"/messages"},{key:"promo",label:"å®˜ç½‘ä¸»é¢˜é¡µé¢",route:"/promo"}].map(({key:e,label:s,route:a})=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s}),(0,t.jsx)("a",{href:a,target:"_blank",className:"text-sm text-blue-600 hover:text-blue-800",children:"é¢„è§ˆé¡µé¢ â†’"})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["é¡µé¢æ ‡é¢˜ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:h[e].title,onChange:t=>w(e,"title",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥é¡µé¢æ ‡é¢˜"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["é¡µé¢æè¿° ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("textarea",{value:h[e].description,onChange:t=>w(e,"description",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",rows:2,placeholder:"è¯·è¾“å…¥é¡µé¢æè¿°"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["æµè§ˆå™¨æ ‡é¢˜ ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:h[e].browserTitle,onChange:t=>w(e,"browserTitle",t.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"è¯·è¾“å…¥æµè§ˆå™¨æ ‡ç­¾é¡µæ ‡é¢˜"})]})]})]},e)),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{onClick:k,disabled:x,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(o.Save,{className:"w-4 h-4"}),x?"ä¿å­˜ä¸­...":"ä¿å­˜è®¾ç½®"]})})]}),"home-content"===g&&(0,t.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,t.jsxs)("div",{className:"text-sm text-gray-600 bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("p",{className:"font-medium text-blue-900 mb-2",children:"ðŸ  åŠŸèƒ½è¯´æ˜Ž"}),(0,t.jsxs)("ul",{className:"space-y-1 text-blue-800",children:[(0,t.jsx)("li",{children:"â€¢ é¦–é¡µä¸‹æ–¹åŽŸæœ‰ä¸¤ä¸ªå†…å®¹åŒºåŸŸï¼ˆæ–‡å­—ç¢Žç‰‡/å¸¸ç”¨å¯¼èˆªï¼‰"}),(0,t.jsx)("li",{children:"â€¢ çŽ°åœ¨å¯ä»¥ä»Ž4ä¸ªé¡µé¢ä¸­ä»»é€‰2ä¸ªå±•ç¤º"}),(0,t.jsx)("li",{children:"â€¢ é»˜è®¤é€‰æ‹©ï¼šç¬”è®°åˆ—è¡¨ + å¯¼èˆªåˆ—è¡¨"}),(0,t.jsx)("li",{children:"â€¢ åšå®¢æ¨¡å¼ä¸‹ï¼Œå†…å®¹åˆ‡æ¢åŠŸèƒ½é»˜è®¤å¼€å¯"})]})]}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å†…å®¹åŒºåŸŸ 1 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("select",{value:y.section1,onChange:e=>f({...y,section1:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["å†…å®¹åŒºåŸŸ 2 ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("select",{value:y.section2,onChange:e=>f({...y,section2:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:S.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"pt-2",children:[(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",checked:y.enabledInBlogMode,onChange:e=>f({...y,enabledInBlogMode:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"åšå®¢æ¨¡å¼ä¸‹å¯ç”¨å†…å®¹åˆ‡æ¢"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"å‹¾é€‰åŽï¼Œåšå®¢æ¨¡å¼ä¸‹é¦–é¡µå°†æ˜¾ç¤ºé€‰æ‹©çš„å†…å®¹åŒºåŸŸ"})]})]}),(0,t.jsx)("div",{className:"flex justify-end pt-4",children:(0,t.jsxs)("button",{onClick:T,disabled:x,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,t.jsx)(o.Save,{className:"w-4 h-4"}),x?"ä¿å­˜ä¸­...":"ä¿å­˜é…ç½®"]})})]})]})})})]})}e.s(["default",()=>d])}]);