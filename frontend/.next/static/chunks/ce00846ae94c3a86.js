(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,49484,e=>{"use strict";var t=e.i(18050),r=e.i(71645);let a="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",s="WHMtYmxvZy4=",l=e=>{try{return atob(e)}catch{return""}};function o(){let[e,o]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>{let e,t;e=l(a),t=l(s),e.length>0&&t.includes("Xs-blog")&&(o(l(a)),i(l(s)),d(l("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{document.querySelector("[data-copyright]")},5e3);return()=>clearInterval(e)},[u]);let x=async()=>{try{if(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let t=e.split("=")[0].trim();document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),"caches"in window){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}"indexedDB"in window&&(await indexedDB.databases?.()||[]).forEach(e=>{e.name&&indexedDB.deleteDatabase(e.name)}),alert("y"),window.location.reload()}catch(e){alert("y"),window.location.reload()}};return u&&e?(0,t.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[(0,t.jsx)("span",{onDoubleClick:x,style:{cursor:"default"},children:e}),(0,t.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:n})]}):null}e.s(["default",()=>o])},26261,e=>{"use strict";var t=e.i(71645),r=e.i(95987);function a({forceNoIndex:e=!1,customTitle:a}){let{settings:s}=(0,r.useSettings)(),l="true"===s.allowSEO;return(0,t.useEffect)(()=>{if(a)document.title=a;else{let e=s.siteTitle||"",t=s.siteSubtitle||"";e&&(document.title=t?`${e} - ${t}`:e)}},[s.siteTitle,s.siteSubtitle,a]),(0,t.useEffect)(()=>{if(e||!l){let e=document.querySelector('meta[name="robots"]');e||((e=document.createElement("meta")).name="robots",document.head.appendChild(e)),e.content="noindex, nofollow, noarchive, nosnippet, noimageindex";let t=document.querySelector('meta[name="googlebot"]');t||((t=document.createElement("meta")).name="googlebot",document.head.appendChild(t)),t.content="noindex, nofollow";let r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');r||((r=document.createElement("meta")).httpEquiv="X-Robots-Tag",document.head.appendChild(r)),r.content="noindex, nofollow"}else{let e=document.querySelector('meta[name="robots"]'),t=document.querySelector('meta[name="googlebot"]'),r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');e&&e.remove(),t&&t.remove(),r&&r.remove()}},[e,l]),null}e.s(["default",()=>a])},50965,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>t],50965)},64659,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],64659)},96433,e=>{"use strict";var t=e.i(18050),r=e.i(95987),a=e.i(75157);function s({className:e=""}){let{settings:s}=(0,r.useSettings)(),l=s.backgroundImage||"",o=s.backgroundOpacity||"0.5";if(!l)return null;let n=(0,a.getApiBaseUrl)(),i=l.startsWith("http")?l:`${n}${l}`;return(0,t.jsx)("div",{className:`absolute inset-0 z-0 pointer-events-none ${e}`,style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(o)}})}e.s(["default",()=>s])},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let a=e.r(32061);function s({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new a.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function a(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return a}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return n}});let a=e.r(18050),s=e.r(74080),l=e.r(63599),o=e.r(9885);function n({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let a=t.reactLoadableManifest;for(let t of e){if(!a[t])continue;let e=a[t].files;r.push(...e)}}return 0===r.length?null:(0,a.jsx)(a.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,o.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,a.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,s.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return c}});let a=e.r(18050),s=e.r(71645),l=e.r(67585),o=e.r(52157);function n(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(n(()=>null)),loading:null,ssr:!0},c=function(e){let t={...i,...e},r=(0,s.lazy)(()=>t.loader().then(n)),c=t.loading;function d(e){let n=c?(0,a.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,d=i?s.Suspense:s.Fragment,u=t.ssr?(0,a.jsxs)(a.Fragment,{children:["undefined"==typeof window?(0,a.jsx)(o.PreloadChunks,{moduleIds:t.modules}):null,(0,a.jsx)(r,{...e})]}):(0,a.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,a.jsx)(r,{...e})});return(0,a.jsx)(d,{...i?{fallback:n}:{},children:u})}return d.displayName="LoadableComponent",d}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return s}});let a=e.r(55682)._(e.r(69093));function s(e,t){let r={};"function"==typeof e&&(r.loader=e);let s={...r,...t};return(0,a.default)({...s,modules:s.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},51975,e=>{"use strict";let t=(0,e.i(75254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],51975)},12882,e=>{"use strict";var t=e.i(18050),r=e.i(55436),a=e.i(37727),s=e.i(50965),l=e.i(51975),o=e.i(64659),n=e.i(71645),i=e.i(70703),c=e.i(9165),d=e.i(75157),u=e.i(49484),m=e.i(26261),x=e.i(96433);let b=(0,i.default)(()=>e.A(20753),{loadableGenerated:{modules:[16393]},ssr:!1,loading:()=>(0,t.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,t.jsx)("div",{className:"w-8 h-8 border-3 border-white/30 border-t-white rounded-full animate-spin"})})});function h(){let[e,i]=(0,n.useState)([]),[h,p]=(0,n.useState)([]),[f,g]=(0,n.useState)(null),[y,v]=(0,n.useState)(!1),[j,w]=(0,n.useState)(!0),[N,S]=(0,n.useState)(""),[C,k]=(0,n.useState)(!1),[T,P]=(0,n.useState)(null),[_,M]=(0,n.useState)({title:"",description:"",browserTitle:"",browserSubtitle:""}),[O,E]=(0,n.useState)(!1),$={themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:"true",showWapSidebar:"true",siteTitle:"Xs-Blog"},[R,A]=(0,n.useState)($);(0,n.useEffect)(()=>{q(),D(),B()},[f]),(0,n.useEffect)(()=>{if(!_.browserTitle)return;let e=_.browserTitle;if(f&&h.length>0){let t=h.find(e=>e.id===f);t&&(e=`${t.name} - ${_.browserTitle}`)}_.browserSubtitle&&(e=`${e} - ${_.browserSubtitle}`),document.title=e},[f,h,_.browserTitle,_.browserSubtitle]);let B=async()=>{try{let[e,t]=await Promise.all([(0,c.getSettings)(),(0,c.getPageText)("services")]);if(e.success&&e.data){let t={};e.data.forEach(e=>{t[e.key]=e.value}),A({themeType:t.themeType||"default",footerCopyright:t.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:t.showTopNavbar||"true",showWapSidebar:t.showWapSidebar||"true",siteTitle:t.siteTitle||"Xs-Blog"})}t.success&&t.data&&(M({title:t.data.title||"服务业务",description:t.data.description||"为您提供专业的服务解决方案",browserTitle:t.data.browserTitle||"服务业务",browserSubtitle:t.data.browserSubtitle||""}),E(!0))}catch(e){console.error("Failed to load settings:",e),E(!0)}},q=async()=>{try{w(!0);let e={};f&&(e.category_id=f);let t=(await (0,c.getServices)(e)).data;t&&t.services&&Array.isArray(t.services)?i(t.services):Array.isArray(t)?i(t):i([])}catch(e){console.error("Failed to fetch services:",e),i([])}finally{w(!1)}},D=async()=>{try{let e=(await (0,c.getServiceCategories)()).data;p(Array.isArray(e)?e:[])}catch(e){console.error("Failed to fetch categories:",e),p([])}},W=(0,n.useMemo)(()=>e.filter(e=>{if(!N.trim())return!0;let t=N.toLowerCase(),r=e.name?.toLowerCase().includes(t),a=e.description?.toLowerCase().includes(t),s=e.price?.toLowerCase().includes(t);return r||a||s}),[e,N]);R?.themeType,R?.showTopNavbar,R?.showWapSidebar;let X=N.trim()&&W.length>0,z=N.trim()&&0===W.length;return(0,t.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col hide-scrollbar",children:[(0,t.jsx)(m.default,{}),(0,t.jsx)(x.default,{}),(0,t.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"h-16"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:_.title}),(0,t.jsx)("p",{className:"text-text-secondary",children:_.description})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 mb-3",children:[h.length>0&&(0,t.jsxs)("div",{className:"relative md:w-48 flex-shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>v(!y),className:"w-full flex items-center justify-between px-4 py-3 bg-bg-secondary rounded-lg border border-border-primary hover:bg-bg-tertiary transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Tag,{className:"w-4 h-4 text-text-secondary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:null===f?"全部分类":h.find(e=>e.id===f)?.name||"全部分类"})]}),(0,t.jsx)(o.ChevronDown,{className:`w-4 h-4 text-text-tertiary transition-transform flex-shrink-0 ${y?"rotate-180":""}`})]}),y&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-bg-secondary rounded-lg border border-border-primary shadow-lg z-20",children:(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{g(null),v(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${null===f?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:"全部"}),h.map(e=>(0,t.jsxs)("button",{onClick:()=>{g(e.id),v(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${f===e.id?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:[e.icon&&(0,t.jsx)("span",{className:"mr-1.5",children:e.icon}),e.name]},e.id))]})})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center",children:C?(0,t.jsx)("div",{className:"w-64",children:(0,t.jsxs)("div",{className:"relative flex items-center",children:[(0,t.jsx)(r.Search,{className:"absolute left-3 top-0 bottom-0 my-auto w-4 h-4 text-text-tertiary pointer-events-none"}),(0,t.jsx)("input",{type:"text",placeholder:"搜索服务...",value:N,onChange:e=>S(e.target.value),className:"w-full h-[46px] pl-9 pr-9 bg-bg-secondary border border-border-primary rounded-lg text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off",autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>{S(""),k(!1)},className:"absolute right-3 top-0 bottom-0 my-auto w-5 h-5 flex items-center justify-center text-text-tertiary hover:text-text-primary transition-colors","aria-label":"关闭搜索",children:(0,t.jsx)(a.X,{className:"w-4 h-4"})})]})}):(0,t.jsx)("button",{type:"button",onClick:()=>k(!0),className:"flex items-center justify-center w-[46px] h-[46px] bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:bg-bg-tertiary hover:text-text-primary transition-all","aria-label":"搜索",children:(0,t.jsx)(r.Search,{className:"w-5 h-5"})})})]}),X&&(0,t.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm",style:{color:"var(--info-text)"},children:["搜索结果: 找到 ",W.length," 个相关服务",(0,t.jsxs)("span",{className:"font-medium ml-1",children:['"',N,'"']})]})})}),z&&(0,t.jsx)("div",{className:"p-4 bg-bg-tertiary rounded-xl border border-border-primary text-center",children:(0,t.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',N,'" 的服务']})})]}),j?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[...Array(12)].map((e,r)=>(0,t.jsxs)("div",{className:"bg-bg-secondary rounded-xl shadow-sm border border-border-primary overflow-hidden animate-pulse",children:[(0,t.jsx)("div",{className:"aspect-square bg-bg-tertiary"}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-3/4 mb-2"}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"h-5 bg-bg-tertiary rounded w-16"}),(0,t.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-12"})]})]})]},r))}):W.length>0?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:W.map((e,r)=>(0,t.jsxs)("div",{onClick:()=>{P(e)},className:"group bg-bg-secondary rounded-xl shadow-sm hover:shadow-xl hover:-translate-y-1 border border-border-primary transition-all duration-300 cursor-pointer overflow-hidden animate-fade-in",children:[(0,t.jsxs)("div",{className:"relative aspect-square bg-bg-tertiary overflow-hidden",children:[e.cover_image?(0,t.jsx)("img",{src:(0,d.getThumbnailUrl)((0,c.getImageUrl)(e.cover_image)),alt:e.name,loading:"lazy",decoding:"async",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:e=>{e.target.style.display="none"}}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(s.ShoppingBag,{className:"w-16 h-16 text-text-tertiary opacity-30"})}),e.is_recommended&&(0,t.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-semibold",style:{background:"linear-gradient(to right, var(--accent-gradient-from), var(--accent-gradient-to))",color:"var(--accent-text)"},children:"推荐"})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-text-primary group-hover:text-primary-500 transition-colors mb-2 line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-primary-600",children:[(0,t.jsx)("span",{className:"text-base font-normal mr-0.5",children:"¥"}),e.price]}),e.Category&&(0,t.jsxs)("span",{className:"text-xs text-text-tertiary px-2 py-0.5 bg-bg-tertiary rounded",children:[e.Category.icon&&(0,t.jsx)("span",{className:"mr-1",children:e.Category.icon}),e.Category.name]})]})]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(s.ShoppingBag,{className:"w-16 h-16 text-text-tertiary opacity-30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-text-secondary",children:"暂无服务"})]})]})]}),(0,t.jsxs)("footer",{className:"mt-auto border-t border-border-primary py-6 text-center text-sm text-text-tertiary",children:[(0,t.jsx)("p",{children:R.footerCopyright}),(0,t.jsx)(u.default,{})]}),(0,t.jsx)(b,{service:T,isOpen:!!T,onClose:()=>{P(null)}})]})}e.s(["default",()=>h])},20753,e=>{e.v(t=>Promise.all(["static/chunks/d0583c5b94fa6ce6.js","static/chunks/3c36fd3c77eed6cf.js"].map(t=>e.l(t))).then(()=>t(16393)))}]);