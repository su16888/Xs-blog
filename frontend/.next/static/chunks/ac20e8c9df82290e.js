(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,88653,e=>{"use strict";e.i(247167);var t=e.i(843476),r=e.i(271645),a=e.i(231178),s=e.i(947414),l=e.i(674008),o=e.i(821476),i=e.i(772846),n=r,c=e.i(737806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,i.isHTMLElement)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=r-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:a,anchorX:s,root:l}){let o=(0,n.useId)(),i=(0,n.useRef)(null),m=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:p}=(0,n.useContext)(c.MotionConfigContext),h=function(...e){return r.useCallback(function(...e){return t=>{let r=!1,a=e.map(e=>{let a=d(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():d(e[t],null)}}}}(...e),e)}(i,e?.ref);return(0,n.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:n,right:c}=m.current;if(a||!i.current||!e||!t)return;let d="left"===s?`left: ${n}`:`right: ${c}`;i.current.dataset.motionPopId=o;let u=document.createElement("style");p&&(u.nonce=p);let h=l??document.head;return h.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${r}px !important;
          }
        `),()=>{h.contains(u)&&h.removeChild(u)}},[a]),(0,t.jsx)(u,{isPresent:a,childRef:i,sizeRef:m,children:n.cloneElement(e,{ref:h})})}let p=({children:e,initial:a,isPresent:l,onExitComplete:i,custom:n,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let x=(0,s.useConstant)(h),g=(0,r.useId)(),f=!0,b=(0,r.useMemo)(()=>(f=!1,{id:g,initial:a,isPresent:l,custom:n,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;i&&i()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[l,x,i]);return c&&f&&(b={...b}),(0,r.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[l]),r.useEffect(()=>{l||x.size||!i||i()},[l]),"popLayout"===d&&(e=(0,t.jsx)(m,{isPresent:l,anchorX:u,root:p,children:e})),(0,t.jsx)(o.PresenceContext.Provider,{value:b,children:e})};function h(){return new Map}var x=e.i(464978);let g=e=>e.key||"";function f(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:o,initial:i=!0,onExitComplete:n,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:h})=>{let[b,y]=(0,x.usePresence)(u),v=(0,r.useMemo)(()=>f(e),[e]),w=u&&!b?[]:v.map(g),j=(0,r.useRef)(!0),N=(0,r.useRef)(v),C=(0,s.useConstant)(()=>new Map),[k,S]=(0,r.useState)(v),[T,E]=(0,r.useState)(v);(0,l.useIsomorphicLayoutEffect)(()=>{j.current=!1,N.current=v;for(let e=0;e<T.length;e++){let t=g(T[e]);w.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[T,w.length,w.join("-")]);let O=[];if(v!==k){let e=[...v];for(let t=0;t<T.length;t++){let r=T[t],a=g(r);w.includes(a)||(e.splice(t,0,r),O.push(r))}return"wait"===d&&O.length&&(e=O),E(f(e)),S(v),null}let{forceRender:P}=(0,r.useContext)(a.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:T.map(e=>{let r=g(e),a=(!u||!!b)&&(v===T||w.includes(r));return(0,t.jsx)(p,{isPresent:a,initial:(!j.current||!!i)&&void 0,custom:o,presenceAffectsLayout:c,mode:d,root:h,onExitComplete:a?void 0:()=>{if(!C.has(r))return;C.set(r,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(P?.(),E(N.current),u&&y?.(),n&&n())},anchorX:m,children:e},r)})})};e.s(["AnimatePresence",()=>b],88653)},664659,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],664659)},996433,e=>{"use strict";var t=e.i(843476),r=e.i(95987),a=e.i(975157);function s({className:e=""}){let{settings:s}=(0,r.useSettings)(),l=s.backgroundImage||"",o=s.backgroundOpacity||"0.5";if(!l)return null;let i=(0,a.getApiBaseUrl)(),n=l.startsWith("http")?l:`${i}${l}`;return(0,t.jsx)("div",{className:`absolute inset-0 z-0 pointer-events-none ${e}`,style:{backgroundImage:`url(${n})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(o)}})}e.s(["default",()=>s])},649484,e=>{"use strict";var t=e.i(843476),r=e.i(271645);let a="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",s="WHMtYmxvZy4=",l=e=>{try{return atob(e)}catch{return""}};function o(){let[e,o]=(0,r.useState)(""),[i,n]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>{let e,t;e=l(a),t=l(s),e.length>0&&t.includes("Xs-blog")&&(o(l(a)),n(l(s)),d(l("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{document.querySelector("[data-copyright]")},5e3);return()=>clearInterval(e)},[u]);let p=async()=>{try{if(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let t=e.split("=")[0].trim();document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),"caches"in window){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}"indexedDB"in window&&(await indexedDB.databases?.()||[]).forEach(e=>{e.name&&indexedDB.deleteDatabase(e.name)}),alert("y"),window.location.reload()}catch(e){alert("y"),window.location.reload()}};return u&&e?(0,t.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[(0,t.jsx)("span",{onDoubleClick:p,style:{cursor:"default"},children:e}),(0,t.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:i})]}):null}e.s(["default",()=>o])},426261,e=>{"use strict";var t=e.i(271645),r=e.i(95987);function a({forceNoIndex:e=!1,customTitle:a}){let{settings:s}=(0,r.useSettings)(),l="true"===s.allowSEO;return(0,t.useEffect)(()=>{if(a)document.title=a;else{let e=s.siteTitle||"",t=s.siteSubtitle||"";e&&(document.title=t?`${e} - ${t}`:e)}},[s.siteTitle,s.siteSubtitle,a]),(0,t.useEffect)(()=>{if(e||!l){let e=document.querySelector('meta[name="robots"]');e||((e=document.createElement("meta")).name="robots",document.head.appendChild(e)),e.content="noindex, nofollow, noarchive, nosnippet, noimageindex";let t=document.querySelector('meta[name="googlebot"]');t||((t=document.createElement("meta")).name="googlebot",document.head.appendChild(t)),t.content="noindex, nofollow";let r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');r||((r=document.createElement("meta")).httpEquiv="X-Robots-Tag",document.head.appendChild(r)),r.content="noindex, nofollow"}else{let e=document.querySelector('meta[name="robots"]'),t=document.querySelector('meta[name="googlebot"]'),r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');e&&e.remove(),t&&t.remove(),r&&r.remove()}},[e,l]),null}e.s(["default",()=>a])},809934,e=>{"use strict";var t=e.i(271645);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var a,s,l;a=e,s=t,l=r[t],s in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class l extends t.default.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})):this.reCalculateColumnCount()}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let r=1/0,a=t.default||2;for(let s in t){let l=parseInt(s);l>0&&e<=l&&l<r&&(r=l,a=t[s])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){let e=this.state.columnCount,r=Array(e),a=t.default.Children.toArray(this.props.children);for(let t=0;t<a.length;t++){let s=t%e;r[s]||(r[s]=[]),r[s].push(a[t])}return r}renderColumns(){let{column:e,columnAttrs:a={},columnClassName:l}=this.props,o=this.itemsInColumns(),i=`${100/o.length}%`,n=l;n&&"string"!=typeof n&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===n&&(n="my-masonry-grid_column"));let c=s(s(s({},e),a),{},{style:s(s({},a.style),{},{width:i}),className:n});return o.map((e,a)=>t.default.createElement("div",r({},c,{key:a}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:a,breakpointCols:s,columnClassName:l,columnAttrs:o,column:i,className:n}=e,c=function(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r,a,s={},l=Object.keys(e);for(a=0;a<l.length;a++)r=l[a],t.indexOf(r)>=0||(s[r]=e[r]);return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)r=l[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),d=n;return"string"!=typeof n&&(this.logDeprecated('The property "className" requires a string'),void 0===n&&(d="my-masonry-grid")),t.default.createElement("div",r({},c,{className:d}),this.renderColumns())}}l.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},e.s(["default",0,l])},463059,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],463059)},150965,e=>{"use strict";let t=(0,e.i(475254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>t],150965)},960862,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(846932),s=e.i(88653),l=e.i(37727),o=e.i(150965),i=e.i(463059);let n=(0,e.i(475254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var c=e.i(918789),d=e.i(209165);function u({service:e,isOpen:u,onClose:m}){let[p,h]=(0,r.useState)(!1);if(!e)return null;let x=e.show_order_button&&e.order_button_url;return(0,t.jsx)(s.AnimatePresence,{children:u&&(0,t.jsx)(a.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-3",onClick:m,children:(0,t.jsxs)(a.motion.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},transition:{type:"spring",duration:.4,bounce:.2},className:"bg-white dark:bg-gray-900 w-full max-w-[380px] rounded-2xl overflow-hidden shadow-2xl relative flex flex-col",style:{aspectRatio:"9/16",maxHeight:"calc(100vh - 24px)"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:m,className:"absolute top-3 right-3 z-30 w-8 h-8 flex items-center justify-center bg-black/30 hover:bg-black/50 backdrop-blur-sm rounded-full transition-all duration-200","aria-label":"关闭",children:(0,t.jsx)(l.X,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:`flex-1 overflow-y-auto overscroll-contain hide-scrollbar ${x?"pb-20":"pb-4"}`,children:[(0,t.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100 dark:bg-gray-800",children:[e.cover_image&&!p?(0,t.jsx)("img",{src:(0,d.getImageUrl)(e.cover_image),alt:e.name,className:"w-full h-full object-cover",onError:()=>h(!0)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,t.jsx)(o.ShoppingBag,{className:"w-20 h-20 text-gray-300 dark:text-gray-600"})}),e.is_recommended&&(0,t.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-1 bg-gradient-to-r from-orange-500 to-rose-500 text-white px-2.5 py-1 rounded-full text-[11px] font-medium shadow-lg",children:[(0,t.jsx)(n,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"精选推荐"})]}),e.Category&&(0,t.jsxs)("div",{className:"absolute top-3 right-12 flex items-center gap-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-2.5 py-1 rounded-full text-[11px] text-gray-600 dark:text-gray-300 shadow-sm",children:[e.Category.icon&&(0,t.jsx)("span",{children:e.Category.icon}),(0,t.jsx)("span",{children:e.Category.name})]})]}),(0,t.jsxs)("div",{className:"px-4 py-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white leading-snug mb-2",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,t.jsx)("span",{className:"text-rose-500 text-sm font-bold",children:"¥"}),(0,t.jsx)("span",{className:"text-rose-500 text-2xl font-bold tracking-tight",children:e.price})]})]}),e.specifications&&e.specifications.length>0&&(0,t.jsxs)("div",{className:"px-4 mb-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),e.spec_title||"服务规格"]})}),(0,t.jsx)("div",{className:"space-y-2",children:e.specifications.sort((e,t)=>e.sort_order-t.sort_order).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-2.5 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e.spec_name}),(0,t.jsx)("span",{className:"text-gray-900 dark:text-white text-sm font-medium",children:e.spec_value})]},e.id))})]}),e.content&&(0,t.jsxs)("div",{className:"px-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),"服务详情"]})}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 dark:text-gray-300 prose-headings:text-gray-900 dark:prose-headings:text-white prose-strong:text-gray-900 dark:prose-strong:text-white prose-a:text-violet-600 dark:prose-a:text-violet-400",children:(0,t.jsx)(c.default,{components:{h1:({node:e,...r})=>(0,t.jsx)("h1",{className:"text-base font-bold mt-4 mb-2 text-gray-900 dark:text-white",...r}),h2:({node:e,...r})=>(0,t.jsx)("h2",{className:"text-sm font-bold mt-3 mb-2 text-gray-900 dark:text-white",...r}),h3:({node:e,...r})=>(0,t.jsx)("h3",{className:"text-sm font-semibold mt-3 mb-1.5 text-gray-800 dark:text-gray-100",...r}),p:({node:e,...r})=>(0,t.jsx)("p",{className:"mb-3 leading-relaxed text-sm text-gray-600 dark:text-gray-300",...r}),ul:({node:e,...r})=>(0,t.jsx)("ul",{className:"list-disc list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...r}),ol:({node:e,...r})=>(0,t.jsx)("ol",{className:"list-decimal list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...r}),li:({node:e,...r})=>(0,t.jsx)("li",{className:"text-sm leading-relaxed",...r}),blockquote:({node:e,...r})=>(0,t.jsx)("blockquote",{className:"border-l-3 border-violet-500 pl-3 py-2 my-3 bg-violet-50 dark:bg-violet-900/20 rounded-r-lg text-sm italic",...r}),code:({node:e,inline:r,...a})=>r?(0,t.jsx)("code",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono text-violet-600 dark:text-violet-400",...a}):(0,t.jsx)("code",{className:"block p-3 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-x-auto text-xs font-mono",...a}),img:({node:e,...r})=>(0,t.jsx)("img",{className:"rounded-xl shadow-md my-3 max-w-full",loading:"lazy",...r}),a:({node:e,...r})=>(0,t.jsx)("a",{className:"text-violet-600 dark:text-violet-400 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",...r})},children:e.content})})]})]}),x&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white dark:from-gray-900 dark:via-gray-900 to-transparent pt-8",children:(0,t.jsxs)("a",{href:e.order_button_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200",children:[(0,t.jsx)("span",{className:"text-[15px]",children:e.order_button_text||"立即下单"}),(0,t.jsx)(i.ChevronRight,{className:"w-4 h-4"})]})})]})})})}e.s(["default",()=>u],960862)},751975,e=>{"use strict";let t=(0,e.i(475254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],751975)},727005,e=>{"use strict";var t=e.i(843476),r=e.i(846932),a=e.i(555436),s=e.i(37727),l=e.i(150965),o=e.i(751975),i=e.i(664659),n=e.i(271645),c=e.i(209165),d=e.i(649484),u=e.i(960862),m=e.i(809934),p=e.i(426261),h=e.i(996433);function x(){let[e,x]=(0,n.useState)([]),[g,f]=(0,n.useState)([]),[b,y]=(0,n.useState)(null),[v,w]=(0,n.useState)(!1),[j,N]=(0,n.useState)(!0),[C,k]=(0,n.useState)(""),[S,T]=(0,n.useState)(!1),[E,O]=(0,n.useState)(null),[P,A]=(0,n.useState)({title:"",description:"",browserTitle:"",browserSubtitle:""}),[D,M]=(0,n.useState)(!1),_={themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:"true",showWapSidebar:"true",siteTitle:"Xs-Blog"},[$,q]=(0,n.useState)(_);(0,n.useEffect)(()=>{I(),z(),R()},[b]),(0,n.useEffect)(()=>{if(!P.browserTitle)return;let e=P.browserTitle;if(b&&g.length>0){let t=g.find(e=>e.id===b);t&&(e=`${t.name} - ${P.browserTitle}`)}P.browserSubtitle&&(e=`${e} - ${P.browserSubtitle}`),document.title=e},[b,g,P.browserTitle,P.browserSubtitle]);let R=async()=>{try{let[e,t]=await Promise.all([(0,c.getSettings)(),(0,c.getPageText)("services")]);if(e.success&&e.data){let t={};e.data.forEach(e=>{t[e.key]=e.value}),q({themeType:t.themeType||"default",footerCopyright:t.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,showTopNavbar:t.showTopNavbar||"true",showWapSidebar:t.showWapSidebar||"true",siteTitle:t.siteTitle||"Xs-Blog"})}t.success&&t.data&&(A({title:t.data.title||"服务业务",description:t.data.description||"为您提供专业的服务解决方案",browserTitle:t.data.browserTitle||"服务业务",browserSubtitle:t.data.browserSubtitle||""}),M(!0))}catch(e){console.error("Failed to load settings:",e),M(!0)}},I=async()=>{try{N(!0);let e={};b&&(e.category_id=b);let t=(await (0,c.getServices)(e)).data;t&&t.services&&Array.isArray(t.services)?x(t.services):Array.isArray(t)?x(t):x([])}catch(e){console.error("Failed to fetch services:",e),x([])}finally{N(!1)}},z=async()=>{try{let e=(await (0,c.getServiceCategories)()).data;f(Array.isArray(e)?e:[])}catch(e){console.error("Failed to fetch categories:",e),f([])}},W=e.filter(e=>{if(!C.trim())return!0;let t=C.toLowerCase(),r=e.name?.toLowerCase().includes(t),a=e.description?.toLowerCase().includes(t),s=e.price?.toLowerCase().includes(t);return r||a||s});$?.themeType,$?.showTopNavbar,$?.showWapSidebar;let F=C.trim()&&W.length>0,X=C.trim()&&0===W.length;return(0,t.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col hide-scrollbar",children:[(0,t.jsx)(p.default,{}),(0,t.jsx)(h.default,{}),(0,t.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"h-16"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:P.title}),(0,t.jsx)("p",{className:"text-text-secondary",children:P.description})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 mb-3",children:[g.length>0&&(0,t.jsxs)("div",{className:"relative md:w-48 flex-shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>w(!v),className:"w-full flex items-center justify-between px-4 py-3 bg-bg-secondary rounded-lg border border-border-primary hover:bg-bg-tertiary transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(o.Tag,{className:"w-4 h-4 text-text-secondary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:null===b?"全部分类":g.find(e=>e.id===b)?.name||"全部分类"})]}),(0,t.jsx)(i.ChevronDown,{className:`w-4 h-4 text-text-tertiary transition-transform flex-shrink-0 ${v?"rotate-180":""}`})]}),v&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-bg-secondary rounded-lg border border-border-primary shadow-lg z-20",children:(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{y(null),w(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${null===b?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:"全部"}),g.map(e=>(0,t.jsxs)("button",{onClick:()=>{y(e.id),w(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${b===e.id?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:[e.icon&&(0,t.jsx)("span",{className:"mr-1.5",children:e.icon}),e.name]},e.id))]})})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center",children:S?(0,t.jsx)("div",{className:"w-64",children:(0,t.jsxs)("div",{className:"relative flex items-center",children:[(0,t.jsx)(a.Search,{className:"absolute left-3 top-0 bottom-0 my-auto w-4 h-4 text-text-tertiary pointer-events-none"}),(0,t.jsx)("input",{type:"text",placeholder:"搜索服务...",value:C,onChange:e=>k(e.target.value),className:"w-full h-[46px] pl-9 pr-9 bg-bg-secondary border border-border-primary rounded-lg text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off",autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>{k(""),T(!1)},className:"absolute right-3 top-0 bottom-0 my-auto w-5 h-5 flex items-center justify-center text-text-tertiary hover:text-text-primary transition-colors","aria-label":"关闭搜索",children:(0,t.jsx)(s.X,{className:"w-4 h-4"})})]})}):(0,t.jsx)("button",{type:"button",onClick:()=>T(!0),className:"flex items-center justify-center w-[46px] h-[46px] bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:bg-bg-tertiary hover:text-text-primary transition-all","aria-label":"搜索",children:(0,t.jsx)(a.Search,{className:"w-5 h-5"})})})]}),F&&(0,t.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm",style:{color:"var(--info-text)"},children:["搜索结果: 找到 ",W.length," 个相关服务",(0,t.jsxs)("span",{className:"font-medium ml-1",children:['"',C,'"']})]})})}),X&&(0,t.jsx)("div",{className:"p-4 bg-bg-tertiary rounded-xl border border-border-primary text-center",children:(0,t.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',C,'" 的服务']})})]}),j?(0,t.jsx)(m.default,{breakpointCols:{default:6,1536:6,1280:5,1024:4,768:3,640:2},className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:[...Array(12)].map((e,r)=>(0,t.jsxs)("div",{className:"bg-bg-secondary rounded-xl shadow-sm border border-border-primary overflow-hidden mb-4 animate-pulse",children:[(0,t.jsx)("div",{className:"aspect-square bg-bg-tertiary"}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-3/4 mb-2"}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsx)("div",{className:"h-5 bg-bg-tertiary rounded w-16"}),(0,t.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-12"})]})]})]},r))}):W.length>0?(0,t.jsx)(m.default,{breakpointCols:{default:6,1536:6,1280:5,1024:4,768:3,640:2},className:"flex -ml-4 w-auto",columnClassName:"pl-4 bg-clip-padding",children:W.map((e,a)=>(0,t.jsxs)(r.motion.div,{onClick:()=>{O(e)},className:"group bg-bg-secondary rounded-xl shadow-sm hover:shadow-xl hover:-translate-y-1 border border-border-primary transition-all duration-300 cursor-pointer overflow-hidden mb-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},children:[(0,t.jsxs)("div",{className:"relative aspect-square bg-bg-tertiary overflow-hidden",children:[e.cover_image?(0,t.jsx)("img",{src:(0,c.getImageUrl)(e.cover_image),alt:e.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300",onError:e=>{e.target.style.display="none"}}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,t.jsx)(l.ShoppingBag,{className:"w-16 h-16 text-text-tertiary opacity-30"})}),e.is_recommended&&(0,t.jsx)("div",{className:"absolute top-2 right-2 px-2 py-1 rounded text-xs font-semibold",style:{background:"linear-gradient(to right, var(--accent-gradient-from), var(--accent-gradient-to))",color:"var(--accent-text)"},children:"推荐"})]}),(0,t.jsxs)("div",{className:"p-3",children:[(0,t.jsx)("h3",{className:"text-base font-semibold text-text-primary group-hover:text-primary-500 transition-colors mb-2 line-clamp-1",children:e.name}),(0,t.jsxs)("div",{className:"flex items-baseline justify-between",children:[(0,t.jsxs)("span",{className:"text-lg font-bold text-primary-600",children:[(0,t.jsx)("span",{className:"text-base font-normal mr-0.5",children:"¥"}),e.price]}),e.Category&&(0,t.jsxs)("span",{className:"text-xs text-text-tertiary px-2 py-0.5 bg-bg-tertiary rounded",children:[e.Category.icon&&(0,t.jsx)("span",{className:"mr-1",children:e.Category.icon}),e.Category.name]})]})]})]},e.id))}):(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(l.ShoppingBag,{className:"w-16 h-16 text-text-tertiary opacity-30 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-text-secondary",children:"暂无服务"})]})]})]}),(0,t.jsxs)("footer",{className:"mt-auto border-t border-border-primary py-6 text-center text-sm text-text-tertiary",children:[(0,t.jsx)("p",{children:$.footerCopyright}),(0,t.jsx)(d.default,{})]}),(0,t.jsx)(u.default,{service:E,isOpen:!!E,onClose:()=>{O(null)}})]})}e.s(["default",()=>x])}]);