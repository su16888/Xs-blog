(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[184],{74782:function(e,t,s){Promise.resolve().then(s.bind(s,58042))},58042:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var a=s(57437),r=s(77906),l=s(96362),o=s(73247),i=s(32489),n=s(86595),c=s(2265),d=s(33182),m=s(24953),x=s(58326),h=s(71837);function u(){var e;let[t,s]=(0,c.useState)({showRecommended:!1,recommended:[],categories:[]}),[u,p]=(0,c.useState)(!1),[g,y]=(0,c.useState)(!1),[f,b]=(0,c.useState)(null),[v,j]=(0,c.useState)(""),N={themeType:"default",footerCopyright:"\xa9 ".concat(new Date().getFullYear()," 个人主页. All rights reserved."),showTopNavbar:"true",showWapSidebar:"true"},[w,C]=(0,c.useState)(N);(0,c.useEffect)(()=>{S()},[]),(0,c.useEffect)(()=>{document.title="导航列表 - Xs-Blog"},[]);let S=async()=>{try{await Promise.all([T(),k()])}catch(e){console.error("Failed to load data:",e)}finally{p(!1)}},T=async()=>{try{let e=await (0,h.Gw4)();if(e.success&&e.data){let t={};e.data.forEach(e=>{t[e.key]=e.value}),C({themeType:t.themeType||"default",footerCopyright:t.footerCopyright||"\xa9 ".concat(new Date().getFullYear()," 个人主页. All rights reserved."),showTopNavbar:t.showTopNavbar||"true",showWapSidebar:t.showWapSidebar||"true"})}}catch(e){console.error("Failed to load settings:",e)}},k=async()=>{try{let e=await (0,h.YxK)();e.success&&e.data&&s(e.data)}catch(e){console.error("Failed to fetch navigation data:",e),s({showRecommended:!1,recommended:[],categories:[]})}},_=e=>{b(e),y(!0)},E=e=>{if(!v.trim())return e;let t=v.toLowerCase();return e.filter(e=>{var s;let a=e.name.toLowerCase().includes(t),r=null===(s=e.description)||void 0===s?void 0:s.toLowerCase().includes(t);return a||r})},Z=(e,t,s)=>(0,a.jsx)(r.E.button,{onClick:()=>_(e),className:"group block p-3 bg-bg-secondary rounded-lg shadow-sm hover:shadow-lg hover:-translate-y-0.5 border border-border-primary transition-all duration-300 cursor-pointer text-left w-full",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.03*t},children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[e.logo?(0,a.jsx)("div",{className:"w-10 h-10 mb-2 rounded-md overflow-hidden flex items-center justify-center",children:(0,a.jsx)("img",{src:(0,d.qm)(e.logo),alt:e.name,className:"w-full h-full object-cover"})}):(0,a.jsx)("div",{className:"w-10 h-10 mb-2 rounded-md bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white font-semibold text-base shadow-sm",children:e.name[0]}),(0,a.jsxs)("div",{className:"relative flex flex-col items-center mb-1",children:[(0,a.jsx)("h3",{className:"font-medium text-xs text-text-primary group-hover:text-primary-500 transition-colors",children:e.name}),(0,a.jsx)(l.Z,{className:"w-3 h-3 text-primary-500 opacity-0 group-hover:opacity-100 transition-opacity absolute -right-4 top-1/2 transform -translate-y-1/2"})]}),e.description&&(0,a.jsx)("p",{className:"text-[10px] text-text-tertiary line-clamp-2 text-center leading-relaxed",children:e.description})]})},"site-".concat(void 0!==s?"".concat(s,"-"):"").concat(t)),W=(null==w?void 0:w.themeType)==="blog",F=(null==w?void 0:w.showTopNavbar)!=="false",L=(null==w?void 0:w.showWapSidebar)!=="false",R=E((null==t?void 0:t.recommended)||[]),A=((null==t?void 0:t.categories)||[]).map(e=>({...e,sites:E(e.sites)})).filter(e=>e.sites.length>0),D=R.length>0||A.length>0,O=v.trim()&&D,X=v.trim()&&!D;return(0,a.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col",children:[W?(0,a.jsx)(x.Z,{showWapSidebar:L}):F?(0,a.jsx)(x.Z,{showWapSidebar:L}):null,(0,a.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(W||F)&&(0,a.jsx)("div",{className:"h-16"}),(0,a.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:"导航列表"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"探索精选的网站导航"})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault()},children:(0,a.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[(0,a.jsx)(o.Z,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-text-tertiary"}),(0,a.jsx)("input",{type:"text",placeholder:"搜索导航站点...",value:v,onChange:e=>j(e.target.value),className:"w-full pl-12 pr-12 py-3 bg-bg-secondary border border-border-primary rounded-xl text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off"}),v&&(0,a.jsx)("button",{type:"button",onClick:()=>{j("")},className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-text-tertiary hover:text-text-primary transition-colors","aria-label":"清空搜索",children:(0,a.jsx)(i.Z,{className:"w-5 h-5"})})]})})}),O&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-blue-50/50 rounded-xl border border-blue-200/50 max-w-2xl mx-auto",children:(0,a.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,a.jsxs)("span",{className:"text-sm text-blue-700",children:["搜索结果: 找到 ",R.length+A.reduce((e,t)=>e+t.sites.length,0)," 个相关网站",(0,a.jsxs)("span",{className:"font-medium ml-1",children:['"',v,'"']})]})})}),X&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-gray-50/50 rounded-xl border border-gray-200/50 text-center max-w-2xl mx-auto",children:(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:['没有找到包含 "',v,'" 的网站']})}),(null==t?void 0:t.showRecommended)&&R.length>0&&(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5 mb-4",children:[(0,a.jsx)(n.Z,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),(0,a.jsx)("h2",{className:"text-lg font-bold text-text-primary",children:"导航推荐"})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:R.map((e,t)=>Z(e,t))})]}),A.map((e,t)=>(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1.5",children:[e.category.icon&&(0,a.jsx)("span",{className:"text-lg",children:e.category.icon}),(0,a.jsx)("h2",{className:"text-lg font-bold text-text-primary",children:e.category.name})]}),e.category.description&&(0,a.jsx)("p",{className:"text-xs text-text-secondary mt-1",children:e.category.description})]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3",children:e.sites.map((e,s)=>Z(e,s,t))})]},"category-".concat(t))),!(null==t?void 0:t.showRecommended)&&0===((null==t?void 0:null===(e=t.categories)||void 0===e?void 0:e.length)||0)&&(0,a.jsxs)("div",{className:"text-center py-16 text-text-tertiary",children:[(0,a.jsx)("p",{className:"text-lg",children:"暂无导航数据"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:"请在后台添加导航分类和站点"})]})]}),(0,a.jsxs)("footer",{className:"text-center text-sm relative z-10 mt-12 py-6",children:[(0,a.jsx)("div",{className:"text-text-tertiary",dangerouslySetInnerHTML:{__html:w.footerCopyright}}),(0,a.jsxs)("p",{className:"mt-2 text-text-tertiary text-xs",children:["Architectural driver is based on"," ",(0,a.jsx)("a",{href:"https://github.com/su16888/Xs-blog",target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",children:"Xs-blog."})]})]})]}),(0,a.jsx)(m.Z,{isOpen:g,onClose:()=>{y(!1),setTimeout(()=>{b(null)},300)},site:f,logoUrl:(null==f?void 0:f.logo)?(0,d.qm)(f.logo):void 0})]})}}},function(e){e.O(0,[660,278,833,543,811,351,744],function(){return e(e.s=74782)}),_N_E=e.O()}]);