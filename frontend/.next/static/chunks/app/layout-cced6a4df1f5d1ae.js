(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{44634:function(e,t,a){Promise.resolve().then(a.t.bind(a,14811,23)),Promise.resolve().then(a.t.bind(a,2778,23)),Promise.resolve().then(a.bind(a,77166)),Promise.resolve().then(a.bind(a,3356)),Promise.resolve().then(a.bind(a,71711)),Promise.resolve().then(a.bind(a,69734))},77166:function(e,t,a){"use strict";a.d(t,{default:function(){return b}});var n=a(57437),r=a(99376),o=a(69853),l=a(2265),i=a(85929),s=a(97226),c=a(69734);function d(){let{theme:e,setTheme:t}=(0,c.F)(),[a,r]=(0,l.useState)(!0),[o,d]=(0,l.useState)(!1),[u,h]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{h(!0)},[]),u)?(0,n.jsxs)("div",{className:"fixed bottom-20 right-8 z-[9998] transition-all duration-300 ".concat(a?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,n.jsxs)("button",{onClick:()=>{t("black"===e?"white":"black")},onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),className:"\n          w-14 h-14 rounded-full shadow-lg border-2 transition-all duration-300\n          flex items-center justify-center relative overflow-hidden\n          hover:scale-110 active:scale-95\n          ".concat("black"===e?"bg-white text-black border-white hover:bg-gray-100":"bg-black text-white border-black hover:bg-gray-800","\n        "),"aria-label":"切换主题",children:[(0,n.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ".concat("black"===e?"opacity-0":"opacity-100"),children:(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-black"})}),(0,n.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ".concat("black"===e?"opacity-100":"opacity-0"),children:(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white to-gray-100"})}),(0,n.jsx)("div",{className:"relative z-10 transition-transform duration-300",children:"black"===e?(0,n.jsx)(i.Z,{className:"w-6 h-6"}):(0,n.jsx)(s.Z,{className:"w-6 h-6"})}),o&&(0,n.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-primary-500 animate-pulse"})]}),o&&(0,n.jsx)("div",{className:"\n          absolute bottom-full right-0 mb-2 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap\n          transition-all duration-200 shadow-lg\n          ".concat("black"===e?"bg-white text-black border border-gray-200":"bg-black text-white border border-gray-700","\n        "),children:"black"===e?"切换到白色主题":"切换到黑色主题"})]}):null}var u=a(22135);function h(){let{theme:e}=(0,c.F)(),[t,a]=(0,l.useState)(!1),[r,o]=(0,l.useState)(!1),[i,s]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{s(!0)},[]),(0,l.useEffect)(()=>{let e=()=>{a(window.scrollY>300)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),i)?(0,n.jsxs)("div",{className:"fixed bottom-36 right-8 z-[9998] transition-all duration-300 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),children:[(0,n.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),className:"\n          w-14 h-14 rounded-full shadow-lg border-2 transition-all duration-300\n          flex items-center justify-center relative overflow-hidden\n          hover:scale-110 active:scale-95\n          ".concat("black"===e?"bg-white text-black border-white hover:bg-gray-100":"bg-black text-white border-black hover:bg-gray-800","\n        "),"aria-label":"回到顶部",children:[(0,n.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ".concat("black"===e?"opacity-0":"opacity-100"),children:(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-gray-800 to-black"})}),(0,n.jsx)("div",{className:"absolute inset-0 transition-opacity duration-300 ".concat("black"===e?"opacity-100":"opacity-0"),children:(0,n.jsx)("div",{className:"w-full h-full bg-gradient-to-br from-white to-gray-100"})}),(0,n.jsx)("div",{className:"relative z-10 transition-transform duration-300",children:(0,n.jsx)(u.Z,{className:"w-6 h-6"})}),r&&(0,n.jsx)("div",{className:"absolute inset-0 rounded-full border-2 border-primary-500 animate-pulse"})]}),r&&(0,n.jsx)("div",{className:"\n          absolute bottom-full right-0 mb-2 px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap\n          transition-all duration-200 shadow-lg\n          ".concat("black"===e?"bg-white text-black border border-gray-200":"bg-black text-white border border-gray-700","\n        "),children:"回到顶部"})]}):null}function b(){let e=(0,r.usePathname)();return(0,o.Jh)(e)?null:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d,{}),(0,n.jsx)(h,{})]})}},3356:function(e,t,a){"use strict";a.d(t,{default:function(){return l}});var n=a(2265),r=a(71837),o=a(33182);function l(e){let{onPreloadComplete:t}=e,[a,l]=(0,n.useState)(!1);(0,n.useEffect)(()=>{i()},[]);let i=async()=>{try{var e;let a=await (0,r.Gw4)(),n={};a.success&&a.data&&a.data.forEach(e=>{n[e.key]=e.value});let i=await (0,r.AiP)(),s=await r.ZPm.get("/social-links?visible=true"),c=Array.isArray(null===(e=s.data)||void 0===e?void 0:e.data)?s.data.data.filter(e=>e.show_in_profile).slice(0,4):[],d=[];n.favicon&&d.push("".concat(n.favicon,"?v=").concat(Date.now())),n.blogLogo&&d.push((0,r.Jn$)(n.blogLogo)),(null==i?void 0:i.avatar)&&d.push((0,r.Jn$)(i.avatar)),c.forEach(e=>{e.icon&&""!==e.icon.trim()&&d.push("".concat((0,o.qm)(e.icon),"?v=").concat(e.updated_at||Date.now())),e.qrcode&&""!==e.qrcode.trim()&&d.push((0,o.qm)(e.qrcode))});try{JSON.parse(n.blogNavLinks||"[]").forEach(e=>{e.icon&&d.push((0,r.Jn$)(e.icon))})}catch(e){}n.backgroundImage&&d.push((0,o.qm)(n.backgroundImage));let u=[...new Set(d.filter(Boolean))].map(e=>new Promise(t=>{let a=new Image;a.onload=()=>{t()},a.onerror=()=>{t()},a.src=e}));await Promise.allSettled(u),l(!0),null==t||t()}catch(e){l(!0),null==t||t()}};return null}},71711:function(e,t,a){"use strict";a.d(t,{default:function(){return c}});var n=a(57437),r=a(2265),o=a(99376),l=a(33182);let i=["/admins/dashboard","/admins/login"],s=e=>{try{return atob(e)}catch(e){return""}};function c(e){let{children:t}=e,a=(0,o.usePathname)(),[c,d]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),[b,m]=(0,r.useState)(!1),f=i.some(e=>null==a?void 0:a.startsWith(e));return((0,r.useEffect)(()=>{if(!f){d(!0);return}let e=async()=>{try{let e=await (0,l.wz)(window.location.href,{method:"HEAD",cache:"no-store"}).catch(()=>null);if(!e||!e.ok){m(!0),d(!0),h(!0);return}let t=await (0,l.wz)("/api/system/integrity",{method:"GET",cache:"no-store",headers:{Accept:"application/json"}});if(!t.ok){d(!1),h(!0);return}let a=await t.json(),n=!0===a.s;d(n),h(!0),m(!1),n||(document.body.style.pointerEvents="none")}catch(e){m(!0),d(!0),h(!0)}};e();let t=setInterval(e,6e5);return()=>{clearInterval(t),document.body.style.pointerEvents="auto"}},[f,a]),u&&u&&!1===c)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{style:{filter:"blur(8px)",pointerEvents:"none",userSelect:"none"},children:t}),(0,n.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-[99999] p-4",style:{pointerEvents:"auto"},children:(0,n.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl animate-fadeIn",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,n.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,n.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"程序错误"}),(0,n.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"代码安全审核失败！"}),(0,n.jsx)("a",{href:s("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw=="),target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"访问仓库"})]})})})]}):(0,n.jsx)(n.Fragment,{children:t})}},2778:function(){}},function(e){e.O(0,[698,461,660,278,833,351,744],function(){return e(e.s=44634)}),_N_E=e.O()}]);