(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61],{89518:function(e,s,a){Promise.resolve().then(a.bind(a,28931))},28931:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return c}});var t=a(57437),r=a(2265),l=a(99376),n=a(71837),d=a(69853),i=a(20441),o=a(45024);function c(){(0,i.T)("登录");let e=(0,l.useRouter)(),[s,a]=(0,r.useState)({username:"",password:""}),[c,m]=(0,r.useState)(""),[u,x]=(0,r.useState)(!1),h=async a=>{a.preventDefault(),m(""),x(!0);try{let a=await (0,n.x4y)(s.username,s.password);try{localStorage.setItem("token",a.token),localStorage.setItem("user",JSON.stringify(a.user))}catch(e){console.warn("无法保存登录信息到 localStorage:",e)}e.push((0,d.V9)("dashboard"))}catch(e){var t,r;console.error("Login error:",e),m((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||e.message||"登录失败，请重试")}finally{x(!1)}},b=e=>{a({...s,[e.target.name]:e.target.value})};return(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50",children:(0,t.jsxs)("div",{className:"max-w-md w-full mx-4 flex flex-col",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-8 animate-fade-in",children:[(0,t.jsx)("div",{className:"text-center mb-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"XS-BLOG管理后台"})}),c&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-700 rounded-md text-sm",children:c}),(0,t.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"用户名"}),(0,t.jsx)("input",{id:"username",name:"username",type:"text",required:!0,value:s.username,onChange:b,className:"input",placeholder:"请输入用户名",disabled:u})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"密码"}),(0,t.jsx)("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:b,className:"input",placeholder:"请输入密码",disabled:u})]}),(0,t.jsx)("button",{type:"submit",disabled:u,className:"w-full btn btn-primary disabled:opacity-50 disabled:cursor-not-allowed",children:u?"登录中...":"登录"})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("a",{href:"/",className:"text-sm text-primary-600 hover:text-primary-700 transition-colors",children:"← 返回首页"})})]}),(0,t.jsx)("div",{className:"mt-12",children:(0,t.jsx)(o.Z,{})})]})})}}},function(e){e.O(0,[660,278,351,744],function(){return e(e.s=89518)}),_N_E=e.O()}]);