(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,340803,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(846932),a=e.i(88653),i=e.i(475254);let n=(0,i.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),l=(0,i.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var o=e.i(37727);function c({show:e,message:i,type:c,duration:d=3e3,onClose:m}){let[x,u]=(0,s.useState)(!1);(0,s.useEffect)(()=>{if(e){u(!0);let e=setTimeout(()=>{u(!1)},d);return()=>clearTimeout(e)}u(!1)},[e,d]),(0,s.useEffect)(()=>{if(!x&&e){let e=setTimeout(m,300);return()=>clearTimeout(e)}},[x,e,m]);let p=(()=>{switch(c){case"success":return{bg:"bg-green-50 border-green-200",text:"text-green-800",icon:(0,t.jsx)(n,{className:"w-5 h-5 text-green-500"})};case"error":return{bg:"bg-red-50 border-red-200",text:"text-red-800",icon:(0,t.jsx)(l,{className:"w-5 h-5 text-red-500"})};default:return{bg:"bg-blue-50 border-blue-200",text:"text-blue-800",icon:(0,t.jsx)(n,{className:"w-5 h-5 text-blue-500"})}}})();return(0,t.jsx)(a.AnimatePresence,{children:x&&(0,t.jsx)(r.motion.div,{initial:{opacity:0,y:-20,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.9},transition:{duration:.2},className:"fixed top-4 right-4 z-[999999] min-w-[300px] max-w-md",children:(0,t.jsxs)("div",{className:`${p.bg} border rounded-lg shadow-lg p-4 flex items-start gap-3`,children:[(0,t.jsx)("div",{className:"flex-shrink-0 mt-0.5",children:p.icon}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)("p",{className:`${p.text} text-sm font-medium`,children:i})}),(0,t.jsx)("button",{onClick:()=>{u(!1)},className:"flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors",children:(0,t.jsx)(o.X,{className:"w-4 h-4"})})]})})})}e.s(["default",()=>c],340803)},88653,e=>{"use strict";e.i(247167);var t=e.i(843476),s=e.i(271645),r=e.i(231178),a=e.i(947414),i=e.i(674008),n=e.i(821476),l=e.i(772846),o=s,c=e.i(737806);function d(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class m extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,l.isHTMLElement)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x({children:e,isPresent:r,anchorX:a,root:i}){let n=(0,o.useId)(),l=(0,o.useRef)(null),x=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=(0,o.useContext)(c.MotionConfigContext),p=function(...e){return s.useCallback(function(...e){return t=>{let s=!1,r=e.map(e=>{let r=d(e,t);return s||"function"!=typeof r||(s=!0),r});if(s)return()=>{for(let t=0;t<r.length;t++){let s=r[t];"function"==typeof s?s():d(e[t],null)}}}}(...e),e)}(l,e?.ref);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:s,left:o,right:c}=x.current;if(r||!l.current||!e||!t)return;let d="left"===a?`left: ${o}`:`right: ${c}`;l.current.dataset.motionPopId=n;let m=document.createElement("style");u&&(m.nonce=u);let p=i??document.head;return p.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${t}px !important;
            ${d}px !important;
            top: ${s}px !important;
          }
        `),()=>{p.contains(m)&&p.removeChild(m)}},[r]),(0,t.jsx)(m,{isPresent:r,childRef:l,sizeRef:x,children:o.cloneElement(e,{ref:p})})}let u=({children:e,initial:r,isPresent:i,onExitComplete:l,custom:o,presenceAffectsLayout:c,mode:d,anchorX:m,root:u})=>{let h=(0,a.useConstant)(p),g=(0,s.useId)(),y=!0,f=(0,s.useMemo)(()=>(y=!1,{id:g,initial:r,isPresent:i,custom:o,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;l&&l()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[i,h,l]);return c&&y&&(f={...f}),(0,s.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[i]),s.useEffect(()=>{i||h.size||!l||l()},[i]),"popLayout"===d&&(e=(0,t.jsx)(x,{isPresent:i,anchorX:m,root:u,children:e})),(0,t.jsx)(n.PresenceContext.Provider,{value:f,children:e})};function p(){return new Map}var h=e.i(464978);let g=e=>e.key||"";function y(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let f=({children:e,custom:n,initial:l=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:m=!1,anchorX:x="left",root:p})=>{let[f,b]=(0,h.usePresence)(m),j=(0,s.useMemo)(()=>y(e),[e]),N=m&&!f?[]:j.map(g),v=(0,s.useRef)(!0),w=(0,s.useRef)(j),k=(0,a.useConstant)(()=>new Map),[_,C]=(0,s.useState)(j),[S,L]=(0,s.useState)(j);(0,i.useIsomorphicLayoutEffect)(()=>{v.current=!1,w.current=j;for(let e=0;e<S.length;e++){let t=g(S[e]);N.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[S,N.length,N.join("-")]);let $=[];if(j!==_){let e=[...j];for(let t=0;t<S.length;t++){let s=S[t],r=g(s);N.includes(r)||(e.splice(t,0,s),$.push(s))}return"wait"===d&&$.length&&(e=$),L(y(e)),C(j),null}let{forceRender:A}=(0,s.useContext)(r.LayoutGroupContext);return(0,t.jsx)(t.Fragment,{children:S.map(e=>{let s=g(e),r=(!m||!!f)&&(j===S||N.includes(s));return(0,t.jsx)(u,{isPresent:r,initial:(!v.current||!!l)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,root:p,onExitComplete:r?void 0:()=>{if(!k.has(s))return;k.set(s,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(A?.(),L(w.current),m&&b?.(),o&&o())},anchorX:x,children:e},s)})})};e.s(["AnimatePresence",()=>f],88653)},964740,e=>{"use strict";var t=e.i(271645),s=e.i(690499);let r=null;function a(e,i=!1){let[n,l]=(0,t.useState)(r||""),o=(0,s.useOptionalPageTitleContext)();(0,t.useEffect)(()=>{i&&o&&o.setTitle(e)},[e,i,o]),(0,t.useEffect)(()=>{r?l(r):(async()=>{try{let e=await fetch("/api/settings");if(e.ok){let t=await e.json();if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.key]=t.value});let s=e.siteTitle||"";r=s,l(s)}}}catch(e){console.error("Failed to fetch site title:",e)}})()},[]),(0,t.useEffect)(()=>{let t=document.title;return i?"ä»ªè¡¨ç›˜"===e?document.title=`${n} - åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${n}åŽå°ç®¡ç†ç³»ç»Ÿ`:document.title=`${e} - ${n}`,()=>{document.title=t}},[e,n,i])}e.s(["usePageTitle",()=>a])},13802,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(618566),a=e.i(557951),i=e.i(209165),n=e.i(964740),l=e.i(340803);function o(){(0,n.usePageTitle)("ç½‘ç«™å¯¼èˆªç®¡ç†",!0),(0,r.useRouter)();let{user:e}=(0,a.useAuth)(),[o,c]=(0,s.useState)([]),[d,m]=(0,s.useState)([]),[x,u]=(0,s.useState)(!0),[p,h]=(0,s.useState)("sites"),[g,y]=(0,s.useState)(null),[f,b]=(0,s.useState)(!1),[j,N]=(0,s.useState)({name:"",link:"",description:"",logo:"",sort_order:0,display_type:"both",category_id:null,is_recommended:!1}),[v,w]=(0,s.useState)(null),[k,_]=(0,s.useState)(!1),[C,S]=(0,s.useState)({name:"",description:"",icon:"",sort_order:0,is_visible:!0}),[L,$]=(0,s.useState)(""),[A,E]=(0,s.useState)(!1),[P,T]=(0,s.useState)({show:!1,type:"success",message:""});(0,s.useEffect)(()=>{F()},[]);let F=async()=>{try{await Promise.all([R(),I()])}catch(e){console.error("åŠ è½½ç½‘ç«™å¯¼èˆªæ•°æ®å¤±è´¥:",e)}finally{u(!1)}},R=async()=>{try{let e=await (0,i.getAdminSites)();if(e.success){let t=Array.isArray(e.data)?e.data:[];c(t)}}catch(e){T({show:!0,type:"error",message:"åŠ è½½ç½‘ç«™å¯¼èˆªå¤±è´¥"}),c([])}},I=async()=>{try{let e=await (0,i.getAdminNavigationCategories)();if(e.success){let t=Array.isArray(e.data)?e.data:[];m(t)}}catch(e){console.error("åŠ è½½å¯¼èˆªåˆ†ç±»å¤±è´¥:",e),m([])}},M=(0,s.useMemo)(()=>{if(!L.trim())return o;let e=L.toLowerCase();return o.filter(t=>t.name.toLowerCase().includes(e)||t.link.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e))},[o,L]),z=e=>{let{name:t,value:s,type:r}=e.target,a=e.target.checked,i=s;"checkbox"===r?i=a:"sort_order"===t?i=parseInt(s)||0:"category_id"===t&&(i=""===s?null:parseInt(s)),N({...j,[t]:i})},U=async e=>{let t=e.target.files?.[0];if(t){E(!0);try{let e=await (0,i.uploadSiteLogo)(t);e.success&&(N({...j,logo:e.data.url}),T({show:!0,type:"success",message:"Logoä¸Šä¼ æˆåŠŸ"}))}catch(e){T({show:!0,type:"error",message:e.response?.data?.message||"Logoä¸Šä¼ å¤±è´¥"})}finally{E(!1)}}},q=async()=>{if(j.logo&&j.logo.startsWith("/uploads/"))try{await (0,i.deleteSiteLogo)(j.logo)}catch(e){console.error("åˆ é™¤ç½‘ç«™Logoæ–‡ä»¶å¤±è´¥:",e)}N({...j,logo:""}),T({show:!0,type:"success",message:"Logoåˆ é™¤æˆåŠŸ"})},B=async e=>{e.preventDefault();try{g?.id?(await (0,i.updateAdminSite)(g.id,j)).success&&(T({show:!0,type:"success",message:"ç½‘ç«™æ›´æ–°æˆåŠŸ"}),await R(),H()):(await (0,i.createAdminSite)(j)).success&&(T({show:!0,type:"success",message:"ç½‘ç«™æ·»åŠ æˆåŠŸ"}),await R(),H())}catch(e){T({show:!0,type:"error",message:e.response?.data?.message||"æ“ä½œå¤±è´¥"})}},D=async e=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªç½‘ç«™å—ï¼Ÿ"))try{(await (0,i.deleteAdminSite)(e)).success&&(T({show:!0,type:"success",message:"ç½‘ç«™åˆ é™¤æˆåŠŸ"}),await R())}catch(e){T({show:!0,type:"error",message:e.response?.data?.message||"åˆ é™¤å¤±è´¥"})}},H=()=>{N({name:"",link:"",description:"",logo:"",sort_order:0,display_type:"both",category_id:null,is_recommended:!1}),y(null),b(!1)},O=e=>{let{name:t,value:s,type:r}=e.target,a=e.target.checked,i=s;"checkbox"===r?i=a:"sort_order"===t&&(i=parseInt(s)||0),S({...C,[t]:i})},W=async e=>{if(e.preventDefault(),!C.name.trim())return void T({show:!0,type:"error",message:"åˆ†ç±»åç§°ä¸èƒ½ä¸ºç©º"});try{v?.id?(await (0,i.updateAdminNavigationCategory)(v.id,C)).success&&(T({show:!0,type:"success",message:"åˆ†ç±»æ›´æ–°æˆåŠŸ"}),await I(),G()):(await (0,i.createAdminNavigationCategory)(C)).success&&(T({show:!0,type:"success",message:"åˆ†ç±»æ·»åŠ æˆåŠŸ"}),await I(),G())}catch(e){T({show:!0,type:"error",message:e.response?.data?.message||"æ“ä½œå¤±è´¥"})}},X=async e=>{if(confirm("ç¡®å®šè¦åˆ é™¤è¿™ä¸ªåˆ†ç±»å—ï¼Ÿå¦‚æžœæœ‰ç«™ç‚¹ä½¿ç”¨æ­¤åˆ†ç±»ï¼Œå°†æ— æ³•åˆ é™¤ã€‚"))try{(await (0,i.deleteAdminNavigationCategory)(e)).success&&(T({show:!0,type:"success",message:"åˆ†ç±»åˆ é™¤æˆåŠŸ"}),await I())}catch(e){T({show:!0,type:"error",message:e.response?.data?.message||"åˆ é™¤å¤±è´¥"})}},G=()=>{S({name:"",description:"",icon:"",sort_order:0,is_visible:!0}),w(null),_(!1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.default,{show:P.show,message:P.message,type:P.type,onClose:()=>T({...P,show:!1})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("div",{className:"mb-6 border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,t.jsx)("button",{onClick:()=>h("sites"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"sites"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"ç½‘ç«™å¯¼èˆªç®¡ç†"}),(0,t.jsx)("button",{onClick:()=>h("categories"),className:`py-4 px-1 border-b-2 font-medium text-sm ${"categories"===p?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"å¯¼èˆªåˆ†ç±»ç®¡ç†"})]})}),"sites"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("button",{onClick:()=>b(!f),className:"btn btn-primary",children:f?"å–æ¶ˆ":"+ æ·»åŠ ç½‘ç«™"})}),f&&(0,t.jsxs)("div",{className:"card mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:g?"ç¼–è¾‘ç½‘ç«™":"æ·»åŠ ç½‘ç«™"}),(0,t.jsxs)("form",{onSubmit:B,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"ç½‘ç«™åç§°"}),(0,t.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:j.name,onChange:z,className:"input",placeholder:"ä¾‹å¦‚ï¼šGitHub"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"ç½‘ç«™åœ°å€"}),(0,t.jsx)("input",{id:"link",name:"link",type:"url",required:!0,value:j.link,onChange:z,className:"input",placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"æè¿° (å¯é€‰)"}),(0,t.jsx)("textarea",{id:"description",name:"description",rows:3,value:j.description,onChange:z,className:"input",placeholder:"ç®€å•æè¿°è¿™ä¸ªç½‘ç«™..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"logo",className:"block text-sm font-medium text-gray-700 mb-2",children:"Logo (å¯é€‰)"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[j.logo&&(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-16 flex items-center justify-center bg-gray-50 rounded border border-gray-200",children:(0,t.jsx)("img",{src:(0,i.getImageUrl)(j.logo),alt:"Logo",className:"max-w-full max-h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!j.logo&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"file",id:"logoInput",accept:"image/*",onChange:U,disabled:A,className:"hidden"}),(0,t.jsx)("label",{htmlFor:"logoInput",className:`px-4 py-2 bg-blue-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-blue-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${A?"opacity-50 cursor-not-allowed":""}`,children:A?"ä¸Šä¼ ä¸­...":"é€‰æ‹©æ–‡ä»¶"})]}),(0,t.jsx)("input",{id:"logo",name:"logo",type:"text",value:j.logo,onChange:z,placeholder:"Logo URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),j.logo&&(0,t.jsx)("button",{type:"button",onClick:q,className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md text-xs whitespace-nowrap",children:"åˆ é™¤"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"ä¸Šä¼ Logoå›¾ç‰‡æˆ–è¾“å…¥è‡ªå®šä¹‰URL"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"category_id",className:"block text-sm font-medium text-gray-700 mb-2",children:"å¯¼èˆªåˆ†ç±»"}),(0,t.jsxs)("select",{id:"category_id",name:"category_id",value:j.category_id||"",onChange:z,className:"input",children:[(0,t.jsx)("option",{value:"",children:"æœªåˆ†ç±»"}),d.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.icon?`${e.icon} `:"",e.name]},e.id))]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"é€‰æ‹©å¯¼èˆªæ‰€å±žçš„åˆ†ç±»ï¼Œæœªé€‰æ‹©åˆ™ä¸ä¼šåœ¨å‰å°åˆ†ç±»å±•ç¤ºä¸­æ˜¾ç¤º"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"sort_order",className:"block text-sm font-medium text-gray-700 mb-2",children:"æŽ’åº (å¯é€‰)"}),(0,t.jsx)("input",{id:"sort_order",name:"sort_order",type:"number",value:j.sort_order,onChange:z,className:"input",placeholder:"0"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"å±•ç¤ºä½ç½®"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"display_type",value:"frontend",checked:"frontend"===j.display_type,onChange:z,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"å‰å°å±•ç¤º"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"display_type",value:"backend",checked:"backend"===j.display_type,onChange:z,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"åŽå°å±•ç¤º"})]}),(0,t.jsxs)("label",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"display_type",value:"both",checked:"both"===j.display_type,onChange:z,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"å‰åŽå°éƒ½å±•ç¤º"})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{id:"is_recommended",name:"is_recommended",type:"checkbox",checked:j.is_recommended,onChange:z,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("label",{htmlFor:"is_recommended",className:"ml-2 text-sm font-medium text-gray-700",children:'æŽ¨èå¯¼èˆªï¼ˆå‹¾é€‰åŽä¼šåœ¨"å¯¼èˆªæŽ¨è"åŒºå—ä¸­æ˜¾ç¤ºï¼‰'})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:g?"æ›´æ–°":"æ·»åŠ "}),(0,t.jsx)("button",{type:"button",onClick:H,className:"btn btn-secondary",children:"å–æ¶ˆ"})]})]})]}),o.length>0&&(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("input",{type:"text",placeholder:"æœç´¢ç½‘ç«™åç§°ã€é“¾æŽ¥æˆ–æè¿°...",value:L,onChange:e=>$(e.target.value),className:"input w-full"})}),(0,t.jsxs)("div",{className:"card",children:[(0,t.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["å·²æ·»åŠ çš„ç½‘ç«™",L&&M.length>0&&(0,t.jsxs)("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(æ‰¾åˆ° ",M.length," ä¸ªç»“æžœ)"]})]}),0===o.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-8",children:"è¿˜æ²¡æœ‰æ·»åŠ ä»»ä½•ç½‘ç«™"}):0===M.length?(0,t.jsxs)("p",{className:"text-gray-500 text-center py-8",children:['æ²¡æœ‰æ‰¾åˆ°åŒ¹é… "',L,'" çš„ç½‘ç«™']}):(0,t.jsx)("div",{className:"divide-y divide-gray-200",children:M.map(e=>{let s,r;return(0,t.jsxs)("div",{className:"flex items-start justify-between py-4 first:pt-0 last:pb-0",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),void 0!==e.sort_order&&(0,t.jsxs)("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 rounded",children:["æŽ’åº: ",e.sort_order]}),(0,t.jsx)("span",{className:`text-xs px-2 py-1 rounded ${"frontend"===(s=e.display_type||(!1===e.is_frontend_visible?"backend":"both"))?"bg-purple-100 text-purple-700":"backend"===s?"bg-gray-100 text-gray-700":"bg-green-100 text-green-700"}`,children:"frontend"===(r=e.display_type||(!1===e.is_frontend_visible?"backend":"both"))?"å‰å°":"backend"===r?"åŽå°":"å‰åŽå°"})]}),(0,t.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary-600 hover:underline",children:e.link}),e.description&&(0,t.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,t.jsx)("button",{onClick:()=>{let t;return y(e),t=e.display_type||"both",void(!e.display_type&&void 0!==e.is_frontend_visible&&(t=e.is_frontend_visible?"both":"backend"),N({name:e.name,link:e.link,description:e.description||"",logo:e.logo||"",sort_order:e.sort_order||0,display_type:t,category_id:e.category_id||null,is_recommended:e.is_recommended||!1}),b(!0))},className:"btn btn-secondary text-sm",children:"ç¼–è¾‘"}),(0,t.jsx)("button",{onClick:()=>e.id&&D(e.id),className:"btn bg-red-600 hover:bg-red-700 text-white text-sm",children:"åˆ é™¤"})]})]},e.id)})})]})]}),"categories"===p&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("button",{onClick:()=>_(!k),className:"btn btn-primary",children:k?"å–æ¶ˆ":"+ æ·»åŠ åˆ†ç±»"})}),k&&(0,t.jsxs)("div",{className:"card mb-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4",children:v?"ç¼–è¾‘åˆ†ç±»":"æ·»åŠ åˆ†ç±»"}),(0,t.jsxs)("form",{onSubmit:W,className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["åˆ†ç±»åç§° ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",name:"name",value:C.name,onChange:O,className:"input",placeholder:"ä¾‹å¦‚ï¼šå¼€å‘å·¥å…·",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†ç±»æè¿°"}),(0,t.jsx)("textarea",{name:"description",value:C.description,onChange:O,rows:3,className:"input",placeholder:"åˆ†ç±»çš„è¯¦ç»†æè¿°"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"åˆ†ç±»å›¾æ ‡"}),(0,t.jsx)("input",{type:"text",name:"icon",value:C.icon,onChange:O,className:"input",placeholder:"ä¾‹å¦‚ï¼šðŸ’» æˆ– emoji è¡¨æƒ…"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"å¯ä»¥ä½¿ç”¨ emoji è¡¨æƒ…ä½œä¸ºå›¾æ ‡"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"æŽ’åºé¡ºåº"}),(0,t.jsx)("input",{type:"number",name:"sort_order",value:C.sort_order,onChange:O,className:"input",placeholder:"æ•°å­—è¶Šå°è¶Šé å‰"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",name:"is_visible",checked:C.is_visible,onChange:O,className:"w-4 h-4 text-primary-600 bg-gray-100 border-gray-300 rounded focus:ring-primary-500 focus:ring-2"}),(0,t.jsx)("label",{className:"ml-2 text-sm font-medium text-gray-700",children:"å‰ç«¯å¯è§"})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:v?"æ›´æ–°":"æ·»åŠ "}),(0,t.jsx)("button",{type:"button",onClick:G,className:"btn btn-secondary",children:"å–æ¶ˆ"})]})]})]}),(0,t.jsxs)("div",{className:"card overflow-hidden",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4 px-6 pt-6",children:"åˆ†ç±»åˆ—è¡¨"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"å›¾æ ‡"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"åç§°"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æè¿°"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æŽ’åº"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"çŠ¶æ€"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"æ“ä½œ"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===d.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,className:"px-6 py-4 text-center text-gray-500",children:"æš‚æ— åˆ†ç±»æ•°æ®"})}):d.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-2xl",children:e.icon||"ðŸ“"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,t.jsx)("td",{className:"px-6 py-4",children:(0,t.jsx)("div",{className:"text-sm text-gray-500 max-w-xs truncate",children:e.description||"-"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.sort_order}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${e.is_visible?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:e.is_visible?"å¯è§":"éšè—"})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,t.jsx)("button",{onClick:()=>{w(e),S({name:e.name,description:e.description||"",icon:e.icon||"",sort_order:e.sort_order||0,is_visible:void 0===e.is_visible||e.is_visible}),_(!0)},className:"text-primary-600 hover:text-primary-900 mr-4",children:"ç¼–è¾‘"}),(0,t.jsx)("button",{onClick:()=>e.id&&X(e.id),className:"text-red-600 hover:text-red-900",children:"åˆ é™¤"})]})]},e.id))})]})})]})]})]})})]})}e.s(["default",()=>o])}]);