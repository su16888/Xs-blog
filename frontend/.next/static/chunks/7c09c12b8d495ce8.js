(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,40433,e=>{"use strict";let t=(0,e.i(75254).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);e.s(["Pin",()=>t],40433)},63059,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],63059)},73375,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],73375)},73708,e=>{"use strict";let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);e.s(["Image",()=>t],73708)},50965,e=>{"use strict";let t=(0,e.i(75254).default)("shopping-bag",[["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}],["path",{d:"M3.103 6.034h17.794",key:"awc11p"}],["path",{d:"M3.4 5.467a2 2 0 0 0-.4 1.2V20a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6.667a2 2 0 0 0-.4-1.2l-2-2.667A2 2 0 0 0 17 2H7a2 2 0 0 0-1.6.8z",key:"o988cm"}]]);e.s(["ShoppingBag",()=>t],50965)},70273,8464,e=>{"use strict";let t=(0,e.i(75254).default)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);e.s(["Star",()=>t],70273);var a=e.i(18050),s=e.i(46932),r=e.i(88653),l=e.i(37727),i=e.i(78917),o=e.i(71689),n=e.i(71645);function d({isOpen:e,onClose:t,site:d,logoUrl:c}){return((0,n.useEffect)(()=>{let a=e=>{"Escape"===e.key&&t()};return e&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[e,t]),d)?(0,a.jsx)(r.AnimatePresence,{children:e&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:t,className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:(0,a.jsxs)(s.motion.div,{initial:{scale:.95,opacity:0,y:15},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:15},transition:{type:"spring",damping:30,stiffness:400},onClick:e=>e.stopPropagation(),className:"bg-bg-primary rounded-2xl shadow-2xl max-w-md w-full overflow-hidden relative",children:[(0,a.jsx)("button",{onClick:t,className:"absolute top-3 right-3 p-1.5 rounded-lg bg-bg-secondary hover:bg-bg-tertiary transition-colors z-10","aria-label":"关闭",children:(0,a.jsx)(l.X,{className:"w-4 h-4 text-text-secondary"})}),(0,a.jsxs)("div",{className:"p-6 text-center",children:[(0,a.jsx)("div",{className:"mb-5 flex justify-center",children:c?(0,a.jsx)("div",{className:"w-20 h-20 rounded-xl overflow-hidden shadow-md",children:(0,a.jsx)("img",{src:c,alt:d.name,className:"w-full h-full object-cover"})}):(0,a.jsx)("div",{className:"w-20 h-20 rounded-xl flex items-center justify-center text-primary-500 font-bold text-3xl",children:d.name[0]})}),(0,a.jsx)("h2",{className:"text-xl font-bold text-text-primary mb-2.5",children:d.name}),d.description&&(0,a.jsx)("p",{className:"text-text-secondary text-sm mb-6 leading-relaxed",children:d.description}),(0,a.jsxs)("div",{className:"flex gap-2.5",children:[(0,a.jsxs)("button",{onClick:t,className:"flex-1 px-4 py-2.5 rounded-lg bg-bg-secondary text-text-primary hover:bg-bg-tertiary transition-all duration-200 font-medium text-sm flex items-center justify-center gap-2",children:[(0,a.jsx)(o.ArrowLeft,{className:"w-3.5 h-3.5"}),"返回"]}),(0,a.jsxs)("button",{onClick:()=>{window.open(d.link,"_blank","noopener,noreferrer"),t()},className:"flex-1 px-4 py-2.5 rounded-lg bg-primary-500 text-white hover:bg-primary-600 transition-all duration-200 font-medium text-sm flex items-center justify-center gap-2",children:["进入网站",(0,a.jsx)(i.ExternalLink,{className:"w-3.5 h-3.5"})]})]})]})]})})})}):null}e.s(["default",()=>d],8464)},60862,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(46932),r=e.i(88653),l=e.i(37727),i=e.i(50965),o=e.i(63059);let n=(0,e.i(75254).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);var d=e.i(18789),c=e.i(9165);function x({service:e,isOpen:x,onClose:m}){let[h,u]=(0,a.useState)(!1);if(!e)return null;let g=e.show_order_button&&e.order_button_url;return(0,t.jsx)(r.AnimatePresence,{children:x&&(0,t.jsx)(s.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-md z-50 flex items-center justify-center p-3",onClick:m,children:(0,t.jsxs)(s.motion.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},transition:{type:"spring",duration:.4,bounce:.2},className:"bg-white dark:bg-gray-900 w-full max-w-[380px] rounded-2xl overflow-hidden shadow-2xl relative flex flex-col",style:{aspectRatio:"9/16",maxHeight:"calc(100vh - 24px)"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("button",{onClick:m,className:"absolute top-3 right-3 z-30 w-8 h-8 flex items-center justify-center bg-black/30 hover:bg-black/50 backdrop-blur-sm rounded-full transition-all duration-200","aria-label":"关闭",children:(0,t.jsx)(l.X,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("div",{className:`flex-1 overflow-y-auto overscroll-contain hide-scrollbar ${g?"pb-20":"pb-4"}`,children:[(0,t.jsxs)("div",{className:"relative w-full aspect-square bg-gray-100 dark:bg-gray-800",children:[e.cover_image&&!h?(0,t.jsx)("img",{src:(0,c.getImageUrl)(e.cover_image),alt:e.name,className:"w-full h-full object-cover",onError:()=>u(!0)}):(0,t.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-violet-500/20 to-fuchsia-500/20",children:(0,t.jsx)(i.ShoppingBag,{className:"w-20 h-20 text-gray-300 dark:text-gray-600"})}),e.is_recommended&&(0,t.jsxs)("div",{className:"absolute top-3 left-3 flex items-center gap-1 bg-gradient-to-r from-orange-500 to-rose-500 text-white px-2.5 py-1 rounded-full text-[11px] font-medium shadow-lg",children:[(0,t.jsx)(n,{className:"w-3 h-3"}),(0,t.jsx)("span",{children:"精选推荐"})]}),e.Category&&(0,t.jsxs)("div",{className:"absolute top-3 right-12 flex items-center gap-1 bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm px-2.5 py-1 rounded-full text-[11px] text-gray-600 dark:text-gray-300 shadow-sm",children:[e.Category.icon&&(0,t.jsx)("span",{children:e.Category.icon}),(0,t.jsx)("span",{children:e.Category.name})]})]}),(0,t.jsxs)("div",{className:"px-4 py-4",children:[(0,t.jsx)("h2",{className:"text-lg font-bold text-gray-900 dark:text-white leading-snug mb-2",children:e.name}),e.description&&(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-sm leading-relaxed mb-3",children:e.description}),(0,t.jsxs)("div",{className:"flex items-baseline gap-0.5",children:[(0,t.jsx)("span",{className:"text-rose-500 text-sm font-bold",children:"¥"}),(0,t.jsx)("span",{className:"text-rose-500 text-2xl font-bold tracking-tight",children:e.price})]})]}),e.specifications&&e.specifications.length>0&&(0,t.jsxs)("div",{className:"px-4 mb-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),e.spec_title||"服务规格"]})}),(0,t.jsx)("div",{className:"space-y-2",children:e.specifications.sort((e,t)=>e.sort_order-t.sort_order).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between py-2.5 px-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[(0,t.jsx)("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:e.spec_name}),(0,t.jsx)("span",{className:"text-gray-900 dark:text-white text-sm font-medium",children:e.spec_value})]},e.id))})]}),e.content&&(0,t.jsxs)("div",{className:"px-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-3",children:(0,t.jsxs)("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[(0,t.jsx)("span",{className:"w-1 h-4 bg-gradient-to-b from-violet-500 to-fuchsia-500 rounded-full"}),"服务详情"]})}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none text-gray-600 dark:text-gray-300 prose-headings:text-gray-900 dark:prose-headings:text-white prose-strong:text-gray-900 dark:prose-strong:text-white prose-a:text-violet-600 dark:prose-a:text-violet-400",children:(0,t.jsx)(d.default,{components:{h1:({node:e,...a})=>(0,t.jsx)("h1",{className:"text-base font-bold mt-4 mb-2 text-gray-900 dark:text-white",...a}),h2:({node:e,...a})=>(0,t.jsx)("h2",{className:"text-sm font-bold mt-3 mb-2 text-gray-900 dark:text-white",...a}),h3:({node:e,...a})=>(0,t.jsx)("h3",{className:"text-sm font-semibold mt-3 mb-1.5 text-gray-800 dark:text-gray-100",...a}),p:({node:e,...a})=>(0,t.jsx)("p",{className:"mb-3 leading-relaxed text-sm text-gray-600 dark:text-gray-300",...a}),ul:({node:e,...a})=>(0,t.jsx)("ul",{className:"list-disc list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...a}),ol:({node:e,...a})=>(0,t.jsx)("ol",{className:"list-decimal list-outside ml-4 mb-3 space-y-1.5 text-sm text-gray-600 dark:text-gray-300",...a}),li:({node:e,...a})=>(0,t.jsx)("li",{className:"text-sm leading-relaxed",...a}),blockquote:({node:e,...a})=>(0,t.jsx)("blockquote",{className:"border-l-3 border-violet-500 pl-3 py-2 my-3 bg-violet-50 dark:bg-violet-900/20 rounded-r-lg text-sm italic",...a}),code:({node:e,inline:a,...s})=>a?(0,t.jsx)("code",{className:"px-1.5 py-0.5 bg-gray-100 dark:bg-gray-800 rounded text-xs font-mono text-violet-600 dark:text-violet-400",...s}):(0,t.jsx)("code",{className:"block p-3 bg-gray-100 dark:bg-gray-800 rounded-lg overflow-x-auto text-xs font-mono",...s}),img:({node:e,...a})=>(0,t.jsx)("img",{className:"rounded-xl shadow-md my-3 max-w-full",loading:"lazy",...a}),a:({node:e,...a})=>(0,t.jsx)("a",{className:"text-violet-600 dark:text-violet-400 hover:underline font-medium",target:"_blank",rel:"noopener noreferrer",...a})},children:e.content})})]})]}),g&&(0,t.jsx)("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-white via-white dark:from-gray-900 dark:via-gray-900 to-transparent pt-8",children:(0,t.jsxs)("a",{href:e.order_button_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full bg-gradient-to-r from-violet-600 to-fuchsia-600 hover:from-violet-500 hover:to-fuchsia-500 text-white py-3.5 rounded-xl font-semibold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 transform hover:scale-[1.02] active:scale-[0.98] transition-all duration-200",children:[(0,t.jsx)("span",{className:"text-[15px]",children:e.order_button_text||"立即下单"}),(0,t.jsx)(o.ChevronRight,{className:"w-4 h-4"})]})})]})})})}e.s(["default",()=>x],60862)},70756,e=>{"use strict";let t=(0,e.i(75254).default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>t],70756)},86536,77705,e=>{"use strict";var t=e.i(75254);let a=(0,t.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>a],86536);let s=(0,t.default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>s],77705)},46848,e=>{"use strict";var t=e.i(18050),a=e.i(71645),s=e.i(74080),r=e.i(46932),l=e.i(88653),i=e.i(37727),o=e.i(73375),n=e.i(63059),d=e.i(75254);let c=(0,d.default)("zoom-in",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),x=(0,d.default)("zoom-out",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);var m=e.i(40160),h=e.i(70756),u=e.i(86536),g=e.i(77705),p=e.i(9165),b=e.i(75157);function y({galleryId:e,isOpen:d,onClose:y}){let[f,k]=(0,a.useState)(null),[j,v]=(0,a.useState)(0),[w,N]=(0,a.useState)(!0),[C,_]=(0,a.useState)(null),[L,M]=(0,a.useState)(1),[z,S]=(0,a.useState)(!1),[B,E]=(0,a.useState)(""),[$,A]=(0,a.useState)(""),[H,W]=(0,a.useState)(!1),[T,V]=(0,a.useState)(!1),[P,F]=(0,a.useState)(null),[q,R]=(0,a.useState)(null);(0,a.useEffect)(()=>{d&&e&&U()},[d,e]),(0,a.useEffect)(()=>(d?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[d]),(0,a.useEffect)(()=>{if(!d)return;let e=e=>{"Escape"===e.key?y():"ArrowLeft"===e.key?X():"ArrowRight"===e.key?O():"+"===e.key||"="===e.key?D():"-"===e.key&&J()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[d,j,L,f]);let U=async t=>{N(!0),_(null);try{let a=await (0,p.getGallery)(e,t);a.success?(k(a.data),S(!1),A("")):a.requirePassword?S(!0):_(a.message||"加载图册失败")}catch(e){e.response?.status===401?e.response?.data?.requirePassword?S(!0):(S(!0),A("密码错误")):_("加载图册失败")}finally{N(!1)}},I=async e=>{if(e.preventDefault(),!B.trim())return void A("请输入密码");V(!0),A("");try{await U(B)}catch(e){}finally{V(!1)}},O=()=>{f&&0!==f.images.length&&(v(e=>(e+1)%f.images.length),M(1))},X=()=>{f&&0!==f.images.length&&(v(e=>(e-1+f.images.length)%f.images.length),M(1))},D=()=>{M(e=>Math.min(e+.25,3))},J=()=>{M(e=>Math.max(e-.25,.5))},K=()=>{M(1),v(0),k(null),S(!1),E(""),A(""),y()};if(!d)return null;let G=(0,t.jsx)(l.AnimatePresence,{children:(0,t.jsx)(r.motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[99999] flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:K,children:(0,t.jsxs)("div",{className:"relative w-full h-full flex flex-col",onClick:e=>e.stopPropagation(),onTouchStart:e=>{R(null),F(e.targetTouches[0].clientX)},onTouchMove:e=>{R(e.targetTouches[0].clientX)},onTouchEnd:()=>{if(!P||!q)return;let e=P-q;e>50?O():e<-50&&X()},children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 z-10 bg-gradient-to-b from-black/80 to-transparent p-4",children:(0,t.jsxs)("div",{className:"flex items-center justify-between max-w-7xl mx-auto",children:[(0,t.jsx)("div",{className:"w-10"}),(0,t.jsx)("div",{className:"flex-1 flex justify-center",children:!w&&!z&&f&&f.images.length>1&&(0,t.jsx)("div",{className:"bg-black/50 backdrop-blur-sm rounded-full px-4 py-2",children:(0,t.jsxs)("span",{className:"text-white text-sm font-medium",children:[j+1," / ",f.images.length]})})}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!w&&!z&&f&&f.images.length>0&&(0,t.jsx)("button",{onClick:()=>{if(!f||0===f.images.length)return;let e=f.images[j],t=(0,b.getFileUrl)(e.path),a=document.createElement("a");a.href=t,a.download=e.filename,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:"下载当前图片",children:(0,t.jsx)(m.Download,{className:"w-5 h-5 text-white"})}),!z&&(0,t.jsx)("button",{onClick:K,className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",title:"关闭",children:(0,t.jsx)(i.X,{className:"w-5 h-5 text-white"})})]})]})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[w&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-white border-t-transparent mb-4"}),(0,t.jsx)("p",{className:"text-white",children:"加载中..."})]}),C&&(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-red-400 text-lg mb-4",children:C}),(0,t.jsx)("button",{onClick:K,className:"px-6 py-2 bg-white/10 hover:bg-white/20 text-white rounded-lg transition-colors",children:"关闭"})]}),z&&(0,t.jsxs)(r.motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.2},className:"w-full max-w-sm bg-bg-secondary rounded-xl p-5 shadow-xl border border-border-primary relative",children:[(0,t.jsx)("button",{onClick:K,className:"absolute top-4 right-4 p-1.5 text-text-tertiary hover:text-text-primary hover:bg-bg-tertiary rounded-lg transition-colors",title:"关闭",disabled:T,children:(0,t.jsx)(i.X,{className:"w-5 h-5"})}),(0,t.jsxs)("div",{className:"text-center mb-5",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-primary-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,t.jsx)(h.Lock,{className:"w-6 h-6 text-primary-600"})}),(0,t.jsx)("h3",{className:"text-base font-bold text-text-primary mb-1",children:"需要密码访问"}),(0,t.jsx)("p",{className:"text-xs text-text-tertiary",children:"请输入密码查看图册内容"})]}),(0,t.jsxs)("form",{onSubmit:I,className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:H?"text":"password",name:"gallery-access-password",value:B,onChange:e=>{E(e.target.value),A("")},placeholder:"请输入密码",className:`w-full px-3 py-2.5 pr-10 text-sm border ${$?"border-red-500":"border-border-primary"} rounded-lg bg-bg-tertiary text-text-primary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent`,autoFocus:!0,autoComplete:"off",disabled:T}),(0,t.jsx)("button",{type:"button",onClick:()=>W(!H),className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-tertiary hover:text-text-primary transition-colors",children:H?(0,t.jsx)(g.EyeOff,{className:"w-4 h-4"}):(0,t.jsx)(u.Eye,{className:"w-4 h-4"})})]}),$&&(0,t.jsx)("p",{className:"mt-1.5 text-xs text-red-500",children:$})]}),(0,t.jsx)("button",{type:"submit",className:"w-full px-3 py-2 text-sm bg-primary-500 text-white rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",disabled:T||!B,children:T?"验证中...":"确认"})]})]}),!w&&!C&&!z&&f&&f.images.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"h-20"}),(0,t.jsxs)("div",{className:"relative flex-shrink-0 px-4 lg:px-24",children:[(0,t.jsx)(r.motion.img,{src:(0,b.getFileUrl)(f.images[j].path),alt:f.images[j].filename,className:"max-w-full object-contain mx-auto",style:{transform:`scale(${L})`,transition:"transform 0.3s ease-out",maxHeight:"calc(100vh - 320px)",maxWidth:"100%"},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}},j),f.images.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:X,className:"absolute left-2 lg:-left-16 top-1/2 -translate-y-1/2 p-3 bg-black/20 hover:bg-black/40 rounded-full transition-colors backdrop-blur-sm",title:"上一张 (←)",children:(0,t.jsx)(o.ChevronLeft,{className:"w-6 h-6 text-white/60"})}),(0,t.jsx)("button",{onClick:O,className:"absolute right-2 lg:-right-16 top-1/2 -translate-y-1/2 p-3 bg-black/20 hover:bg-black/40 rounded-full transition-colors backdrop-blur-sm",title:"下一张 (→)",children:(0,t.jsx)(n.ChevronRight,{className:"w-6 h-6 text-white/60"})})]})]}),(0,t.jsx)("div",{className:"h-20"})]}),!w&&!C&&!z&&f&&0===f.images.length&&(0,t.jsxs)("div",{className:"text-center text-white",children:[(0,t.jsx)("p",{className:"text-lg mb-4",children:"该图册暂无图片"}),(0,t.jsx)("button",{onClick:K,className:"px-6 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:"关闭"})]})]}),!w&&!C&&!z&&f&&f.images.length>0&&(0,t.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 z-10",children:[(0,t.jsx)("div",{className:"flex justify-center pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-1.5 bg-black/50 backdrop-blur-sm rounded-full px-3 py-1.5",children:[(0,t.jsx)("button",{onClick:J,className:"p-1 hover:bg-white/10 rounded-full transition-colors",title:"缩小",children:(0,t.jsx)(x,{className:"w-4 h-4 text-white"})}),(0,t.jsxs)("span",{className:"text-white text-xs min-w-[50px] text-center font-medium",children:[Math.round(100*L),"%"]}),(0,t.jsx)("button",{onClick:D,className:"p-1 hover:bg-white/10 rounded-full transition-colors",title:"放大",children:(0,t.jsx)(c,{className:"w-4 h-4 text-white"})})]})}),f.images.length>1&&(0,t.jsx)("div",{className:"bg-gradient-to-t from-black/80 to-transparent p-4",children:(0,t.jsx)("div",{className:"flex justify-center max-w-7xl mx-auto",children:(0,t.jsx)("div",{className:"flex gap-2 overflow-x-auto scrollbar-thin scrollbar-thumb-white/20 scrollbar-track-transparent",children:f.images.map((e,a)=>(0,t.jsx)("button",{onClick:()=>{v(a),M(1)},className:`flex-shrink-0 w-16 h-16 rounded-lg overflow-hidden border-2 transition-all ${a===j?"border-primary-500 opacity-100":"border-white/20 opacity-50 hover:opacity-75"}`,children:(0,t.jsx)("img",{src:(0,b.getFileUrl)(e.path),alt:e.filename,className:"w-full h-full object-cover"})},e.id))})})})]})]})})});return(0,s.createPortal)(G,document.body)}e.s(["default",()=>y],46848)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},40160,e=>{"use strict";let t=(0,e.i(75254).default)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);e.s(["Download",()=>t],40160)},78917,e=>{"use strict";let t=(0,e.i(75254).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],78917)},71689,e=>{"use strict";let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);e.s(["ArrowLeft",()=>t],71689)},1513,e=>{"use strict";var t=e.i(18050),a=e.i(71645);function s({disk:e}){let[s,r]=(0,a.useState)(!1);return(0,t.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 dark:from-gray-800 dark:to-gray-900 rounded-xl p-4 shadow-lg border border-gray-200 dark:border-gray-700",children:[(0,t.jsx)("div",{className:"text-center mb-3",children:(0,t.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white leading-tight",children:e.title})}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 sm:gap-4 mb-3 flex-wrap",children:[e.file_size&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-gray-600 dark:text-gray-400",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsx)("span",{children:e.file_size})]}),e.extract_code&&(0,t.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"提取码:"}),(0,t.jsx)("span",{className:"text-xs font-mono font-bold text-purple-600 dark:text-purple-400 bg-purple-50 dark:bg-purple-900/30 px-1.5 py-0.5 rounded border border-purple-200 dark:border-purple-700",children:e.extract_code}),(0,t.jsx)("button",{onClick:()=>{var t;return t=e.extract_code,void(navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3))},className:"px-1.5 py-0.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded transition-colors flex items-center gap-1",children:s?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"已复制"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"复制"})]})})]})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("button",{onClick:()=>{e.download_url&&window.open(e.download_url,"_blank")},disabled:!e.download_url,className:"px-4 py-1.5 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 disabled:from-gray-400 disabled:to-gray-500 text-white rounded-lg transition-all shadow-md hover:shadow-lg disabled:cursor-not-allowed text-xs sm:text-sm font-medium flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})}),(0,t.jsx)("span",{children:"下载资源"})]})})]})}function r({disks:e}){let[r,l]=(0,a.useState)(0);return e&&0!==e.length?1===e.length?(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(s,{disk:e[0]})}):(0,t.jsxs)("div",{className:"w-full",children:[(0,t.jsx)("div",{className:"flex justify-center gap-2 mb-3 overflow-x-auto",children:e.map((e,a)=>(0,t.jsx)("button",{onClick:()=>l(a),className:`px-3 py-1.5 rounded-lg text-xs font-medium whitespace-nowrap transition-all ${a===r?"bg-blue-600 text-white shadow-md":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:e.disk_name},e.id))}),(0,t.jsx)("div",{className:"overflow-hidden rounded-xl",children:(0,t.jsx)("div",{className:"flex transition-transform duration-300 ease-out",style:{transform:`translateX(-${100*r}%)`},children:e.map(e=>(0,t.jsx)("div",{className:"w-full flex-shrink-0",children:(0,t.jsx)(s,{disk:e})},e.id))})}),e.length>1&&(0,t.jsx)("div",{className:"flex justify-center gap-1.5 mt-3",children:e.map((e,a)=>(0,t.jsx)("button",{onClick:()=>l(a),className:`transition-all duration-200 rounded-full ${a===r?"w-4 h-1.5 bg-blue-600":"w-1.5 h-1.5 bg-gray-300 dark:bg-gray-600 hover:bg-gray-400"}`,"aria-label":`切换到第 ${a+1} 个网盘`},a))})]}):null}var l=e.i(75157);function i({isOpen:e,onClose:s,noteId:i,isAdmin:o=!1,password:n}){let[d,c]=(0,a.useState)([]),[x,m]=(0,a.useState)(!1),[h,u]=(0,a.useState)(!1),[g,p]=(0,a.useState)(null),[b,y]=(0,a.useState)({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""});(0,a.useEffect)(()=>{e&&i&&f()},[e,i]);let f=async()=>{m(!0);try{let e=o?`/api/admin/notes/${i}/disks`:`/api/notes/${i}/disks`;!o&&n&&(e+=`?password=${encodeURIComponent(n)}`);let t={};if(o){let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e),m(!1);return}e&&(t.Authorization=`Bearer ${e}`)}let a=await (0,l.safeFetch)(e,{headers:t}),s=await a.json();s.success&&c(s.data)}catch(e){console.error("获取网盘列表失败:",e)}finally{m(!1)}},k=async e=>{e.preventDefault();try{let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let t=o?`/api/admin/notes/${i}/disks`:`/api/notes/${i}/disks`,a=await (0,l.safeFetch)(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(b)});(await a.json()).success&&(y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""}),u(!1),f())}catch(e){console.error("添加网盘失败:",e)}},j=async e=>{if(e.preventDefault(),g)try{let e=null;try{e=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let t=o?`/api/admin/notes/${i}/disks/${g.id}`:`/api/notes/${i}/disks/${g.id}`,a=await (0,l.safeFetch)(t,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(b)});(await a.json()).success&&(y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""}),u(!1),p(null),f())}catch(e){console.error("更新网盘失败:",e)}},v=async e=>{if(confirm("确定要删除这个网盘吗？"))try{let t=null;try{t=localStorage.getItem("token")}catch(e){console.error("无法访问 localStorage:",e);return}let a=o?`/api/admin/notes/${i}/disks/${e}`:`/api/notes/${i}/disks/${e}`,s=await (0,l.safeFetch)(a,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});(await s.json()).success&&f()}catch(e){console.error("删除网盘失败:",e)}};return e?(0,t.jsx)("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm p-4",onClick:s,children:(0,t.jsxs)("div",{className:`bg-white dark:bg-gray-900 rounded-xl shadow-2xl w-full ${o?"max-w-md max-h-[85vh] overflow-hidden flex flex-col":"max-w-sm md:scale-[1.15] md:origin-center"}`,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-2.5 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),(0,t.jsx)("h2",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"网盘资源"})]}),(0,t.jsx)("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 p-1 rounded transition-colors",children:(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsxs)("div",{className:`p-4 ${o?"overflow-y-auto flex-1":""}`,children:[x?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 py-4",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,t.jsx)("p",{className:"text-gray-500 dark:text-gray-400 text-xs",children:"加载中..."})]}):o||0!==d.length?!o&&d.length>0?(0,t.jsx)(r,{disks:d}):null:(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-4",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-300 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,t.jsx)("p",{className:"text-gray-400 text-xs",children:"暂无网盘资源"})]}),o&&(0,t.jsxs)("div",{className:"mt-3 sm:mt-4",children:[h?(0,t.jsxs)("form",{onSubmit:g?j:k,className:"space-y-3 sm:space-y-4 bg-gradient-to-br from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 pb-2 sm:pb-3 border-b border-gray-300 dark:border-gray-600",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-md bg-blue-600 flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,t.jsx)("h3",{className:"text-sm sm:text-base font-bold text-gray-900 dark:text-white",children:g?"编辑网盘信息":"添加新网盘"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),"网盘名称",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:b.disk_name,onChange:e=>y({...b,disk_name:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：百度网盘、阿里云盘"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"资源标题",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",required:!0,value:b.title,onChange:e=>y({...b,title:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：高级网页设计教程.pdf"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 sm:gap-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),(0,t.jsx)("span",{className:"hidden sm:inline",children:"文件"}),"大小"]}),(0,t.jsx)("input",{type:"text",value:b.file_size,onChange:e=>y({...b,file_size:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"如：150MB"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"提取码"]}),(0,t.jsx)("input",{type:"text",value:b.extract_code,onChange:e=>y({...b,extract_code:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all font-mono",placeholder:"如：1234"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300 mb-1 sm:mb-1.5 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"下载链接"]}),(0,t.jsx)("input",{type:"url",value:b.download_url,onChange:e=>y({...b,download_url:e.target.value}),className:"w-full px-3 py-2 text-sm border-2 border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white focus:border-blue-500 dark:focus:border-blue-500 focus:ring-1 focus:ring-blue-200 dark:focus:ring-blue-900 transition-all",placeholder:"https://"})]}),(0,t.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,t.jsxs)("button",{type:"submit",className:"flex-1 py-2 px-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg transition-all shadow-md hover:shadow-lg text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),g?"更新":"添加"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>{u(!1),p(null),y({disk_name:"",title:"",file_size:"",extract_code:"",download_url:""})},className:"flex-1 py-2 px-3 bg-gray-300 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-white rounded-lg transition-all text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]})]}):(0,t.jsxs)("button",{onClick:()=>u(!0),className:"w-full py-2 sm:py-2.5 px-3 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-lg sm:rounded-xl transition-all shadow-md hover:shadow-lg text-sm font-medium flex items-center justify-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"添加网盘"]}),o&&d.length>0&&!h&&(0,t.jsxs)("div",{className:"mt-3 sm:mt-4 space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1.5 mb-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,t.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-700 dark:text-gray-300",children:"管理网盘"})]}),d.map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-3 bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:shadow-sm transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"w-7 h-7 sm:w-8 sm:h-8 rounded-md bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0",children:(0,t.jsx)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-600 dark:text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})})}),(0,t.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,t.jsx)("p",{className:"text-xs sm:text-sm font-semibold text-gray-900 dark:text-white truncate",children:e.title}),(0,t.jsx)("p",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400 truncate",children:e.disk_name})]})]}),(0,t.jsxs)("div",{className:"flex gap-1.5 ml-2",children:[(0,t.jsx)("button",{onClick:()=>{p(e),y({disk_name:e.disk_name,title:e.title,file_size:e.file_size||"",extract_code:e.extract_code||"",download_url:e.download_url||""}),u(!0)},className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-blue-600 hover:bg-blue-700 text-white text-xs rounded-md transition-colors font-medium",children:"编辑"}),(0,t.jsx)("button",{onClick:()=>v(e.id),className:"px-2 sm:px-3 py-1 sm:py-1.5 bg-red-600 hover:bg-red-700 text-white text-xs rounded-md transition-colors font-medium",children:"删除"})]})]},e.id))]})]})]}),!o&&(0,t.jsx)("div",{className:"px-4 py-2 border-t border-gray-100 dark:border-gray-800",children:(0,t.jsx)("p",{className:"text-[10px] text-center text-gray-400",children:"如发现资源失效请反馈"})})]})}):null}e.s(["default",()=>i],1513)}]);