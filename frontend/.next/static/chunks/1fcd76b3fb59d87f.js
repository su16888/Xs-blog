(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,652,(e,t,r)=>{var o,n,i,a,s,l,c,d,h,p,u,m,g,x,f,v=!1;function b(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(m=/\b(iPhone|iP[ao]d)/.exec(e),g=/\b(iP[ao]d)/.exec(e),p=/Android/i.exec(e),x=/FBAN\/\w+;/i.exec(e),f=/Mobile/i.exec(e),u=!!/Win64/.exec(e),t){(o=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN)&&document&&document.documentMode&&(o=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);l=b?parseFloat(b[1])+4:o,n=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,s=(a=t[4]?parseFloat(t[4]):NaN)&&(t=/(?:Chrome\/(\d+\.\d+))/.exec(e))&&t[1]?parseFloat(t[1]):NaN}else o=n=i=s=a=NaN;if(r){if(r[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);c=!y||parseFloat(y[1].replace("_","."))}else c=!1;d=!!r[2],h=!!r[3]}else c=d=h=!1}}var y={ie:function(){return b()||o},ieCompatibilityMode:function(){return b()||l>o},ie64:function(){return y.ie()&&u},firefox:function(){return b()||n},opera:function(){return b()||i},webkit:function(){return b()||a},safari:function(){return y.webkit()},chrome:function(){return b()||s},windows:function(){return b()||d},osx:function(){return b()||c},linux:function(){return b()||h},iphone:function(){return b()||m},mobile:function(){return b()||m||g||p||f},nativeApp:function(){return b()||x},android:function(){return b()||p},ipad:function(){return b()||g}};t.exports=y},10316,(e,t,r)=>{"use strict";var o=!!("undefined"!=typeof window&&window.document&&window.document.createElement);t.exports={canUseDOM:o,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:o&&!!(window.addEventListener||window.attachEvent),canUseViewport:o&&!!window.screen,isInWorker:!o}},33418,(e,t,r)=>{"use strict";var o,n=e.r(10316);n.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),t.exports=function(e,t){if(!n.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,i=r in document;if(!i){var a=document.createElement("div");a.setAttribute(r,"return;"),i="function"==typeof a[r]}return!i&&o&&"wheel"===e&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}},52545,(e,t,r)=>{"use strict";var o=e.r(652),n=e.r(33418);function i(e){var t=0,r=0,o=0,n=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),o=10*t,n=10*r,"deltaY"in e&&(n=e.deltaY),"deltaX"in e&&(o=e.deltaX),(o||n)&&e.deltaMode&&(1==e.deltaMode?(o*=40,n*=40):(o*=800,n*=800)),o&&!t&&(t=o<1?-1:1),n&&!r&&(r=n<1?-1:1),{spinX:t,spinY:r,pixelX:o,pixelY:n}}i.getEventType=function(){return o.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},t.exports=i},99733,(e,t,r)=>{t.exports=e.r(52545)},53133,e=>{"use strict";var t=e.i(18050),r=e.i(71645),o=e.i(18566),n=e.i(98348),i=e.i(9165),a=e.i(64740),s=e.i(40803),l=function(e,t){return(l=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)},c=function(){return(c=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},d=("function"==typeof SuppressedError&&SuppressedError,e.i(99733));function h(e,t,r,o,n){void 0===n&&(n=0);var i=v(t.width,t.height,n),a=i.width,s=i.height;return{x:p(e.x,a,r.width,o),y:p(e.y,s,r.height,o)}}function p(e,t,r,o){var n=t*o/2-r/2;return b(e,-n,n)}function u(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function m(e,t){return 180*Math.atan2(t.y-e.y,t.x-e.x)/Math.PI}function g(e,t){return Math.min(e,Math.max(0,t))}function x(e,t){return t}function f(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function v(e,t,r){var o=r*Math.PI/180;return{width:Math.abs(Math.cos(o)*e)+Math.abs(Math.sin(o)*t),height:Math.abs(Math.sin(o)*e)+Math.abs(Math.cos(o)*t)}}function b(e,t,r){return Math.min(Math.max(e,t),r)}function y(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(e){return"string"==typeof e&&!!(e.length>0)}).join(" ").trim()}var w=function(e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=o}function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.cropperRef=r.createRef(),t.imageRef=r.createRef(),t.videoRef=r.createRef(),t.containerPosition={x:0,y:0},t.containerRef=null,t.styleRef=null,t.containerRect=null,t.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},t.dragStartPosition={x:0,y:0},t.dragStartCrop={x:0,y:0},t.gestureZoomStart=0,t.gestureRotationStart=0,t.isTouching=!1,t.lastPinchDistance=0,t.lastPinchRotation=0,t.rafDragTimeout=null,t.rafPinchTimeout=null,t.wheelTimer=null,t.currentDoc="undefined"!=typeof document?document:null,t.currentWindow="undefined"!=typeof window?window:null,t.resizeObserver=null,t.previousCropSize=null,t.isInitialized=!1,t.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},t.initResizeObserver=function(){if(void 0!==window.ResizeObserver&&t.containerRef){var e=!0;t.resizeObserver=new window.ResizeObserver(function(r){if(e){e=!1;return}t.computeSizes()}),t.resizeObserver.observe(t.containerRef)}},t.preventZoomSafari=function(e){return e.preventDefault()},t.cleanEvents=function(){t.currentDoc&&(t.currentDoc.removeEventListener("mousemove",t.onMouseMove),t.currentDoc.removeEventListener("mouseup",t.onDragStopped),t.currentDoc.removeEventListener("touchmove",t.onTouchMove),t.currentDoc.removeEventListener("touchend",t.onDragStopped),t.currentDoc.removeEventListener("gesturechange",t.onGestureChange),t.currentDoc.removeEventListener("gestureend",t.onGestureEnd),t.currentDoc.removeEventListener("scroll",t.onScroll))},t.clearScrollEvent=function(){t.containerRef&&t.containerRef.removeEventListener("wheel",t.onWheel),t.wheelTimer&&clearTimeout(t.wheelTimer)},t.onMediaLoad=function(){var e=t.computeSizes();e&&(t.previousCropSize=e,t.emitCropData(),t.setInitialCrop(e),t.isInitialized=!0),t.props.onMediaLoaded&&t.props.onMediaLoaded(t.mediaSize)},t.setInitialCrop=function(e){if(t.props.initialCroppedAreaPercentages){var r,o,n,i,a,s,l,c=(r=t.props.initialCroppedAreaPercentages,o=t.mediaSize,n=t.props.rotation,i=t.props.minZoom,a=t.props.maxZoom,s=v(o.width,o.height,n),{crop:{x:(l=b(e.width/s.width*(100/r.width),i,a))*s.width/2-e.width/2-s.width*l*(r.x/100),y:l*s.height/2-e.height/2-s.height*l*(r.y/100)},zoom:l}),d=c.crop,h=c.zoom;t.props.onCropChange(d),t.props.onZoomChange&&t.props.onZoomChange(h)}else if(t.props.initialCroppedAreaPixels){var p,u,m,g,x,f,y,w,j,C=(p=t.props.initialCroppedAreaPixels,u=t.mediaSize,m=t.props.rotation,g=t.props.minZoom,x=t.props.maxZoom,void 0===m&&(m=0),f=v(u.naturalWidth,u.naturalHeight,m),w=b((y=u.width>u.height?u.width/u.naturalWidth:u.height/u.naturalHeight,e.height>e.width?e.height/(p.height*y):e.width/(p.width*y)),g,x),j=e.height>e.width?e.height/p.height:e.width/p.width,{crop:{x:((f.width-p.width)/2-p.x)*j,y:((f.height-p.height)/2-p.y)*j},zoom:w}),d=C.crop,h=C.zoom;t.props.onCropChange(d),t.props.onZoomChange&&t.props.onZoomChange(h)}},t.computeSizes=function(){var e,r,o,n,i,a,s=t.imageRef.current||t.videoRef.current;if(s&&t.containerRef){t.containerRect=t.containerRef.getBoundingClientRect(),t.saveContainerPosition();var l,d,h,p,u,m,g,x,f,b,y,w=t.containerRect.width/t.containerRect.height,j=(null==(e=t.imageRef.current)?void 0:e.naturalWidth)||(null==(r=t.videoRef.current)?void 0:r.videoWidth)||0,C=(null==(o=t.imageRef.current)?void 0:o.naturalHeight)||(null==(n=t.videoRef.current)?void 0:n.videoHeight)||0,N=s.offsetWidth<j||s.offsetHeight<C,S=j/C,k=void 0;if(N)switch(t.state.mediaObjectFit){default:case"contain":k=w>S?{width:t.containerRect.height*S,height:t.containerRect.height}:{width:t.containerRect.width,height:t.containerRect.width/S};break;case"horizontal-cover":k={width:t.containerRect.width,height:t.containerRect.width/S};break;case"vertical-cover":k={width:t.containerRect.height*S,height:t.containerRect.height}}else k={width:s.offsetWidth,height:s.offsetHeight};t.mediaSize=c(c({},k),{naturalWidth:j,naturalHeight:C}),t.props.setMediaSize&&t.props.setMediaSize(t.mediaSize);var z=t.props.cropSize?t.props.cropSize:(l=t.mediaSize.width,d=t.mediaSize.height,h=t.containerRect.width,p=t.containerRect.height,u=t.props.aspect,void 0===(m=t.props.rotation)&&(m=0),x=(g=v(l,d,m)).width,f=g.height,(b=Math.min(x,h))>(y=Math.min(f,p))*u?{width:y*u,height:y}:{width:b,height:b/u});return((null==(i=t.state.cropSize)?void 0:i.height)!==z.height||(null==(a=t.state.cropSize)?void 0:a.width)!==z.width)&&t.props.onCropSizeChange&&t.props.onCropSizeChange(z),t.setState({cropSize:z},t.recomputeCropPosition),t.props.setCropSize&&t.props.setCropSize(z),z}},t.saveContainerPosition=function(){if(t.containerRef){var e=t.containerRef.getBoundingClientRect();t.containerPosition={x:e.left,y:e.top}}},t.onMouseDown=function(e){t.currentDoc&&(e.preventDefault(),t.currentDoc.addEventListener("mousemove",t.onMouseMove),t.currentDoc.addEventListener("mouseup",t.onDragStopped),t.saveContainerPosition(),t.onDragStart(o.getMousePoint(e)))},t.onMouseMove=function(e){return t.onDrag(o.getMousePoint(e))},t.onScroll=function(e){t.currentDoc&&(e.preventDefault(),t.saveContainerPosition())},t.onTouchStart=function(e){!t.currentDoc||(t.isTouching=!0,(!t.props.onTouchRequest||t.props.onTouchRequest(e))&&(t.currentDoc.addEventListener("touchmove",t.onTouchMove,{passive:!1}),t.currentDoc.addEventListener("touchend",t.onDragStopped),t.saveContainerPosition(),2===e.touches.length?t.onPinchStart(e):1===e.touches.length&&t.onDragStart(o.getTouchPoint(e.touches[0]))))},t.onTouchMove=function(e){e.preventDefault(),2===e.touches.length?t.onPinchMove(e):1===e.touches.length&&t.onDrag(o.getTouchPoint(e.touches[0]))},t.onGestureStart=function(e){t.currentDoc&&(e.preventDefault(),t.currentDoc.addEventListener("gesturechange",t.onGestureChange),t.currentDoc.addEventListener("gestureend",t.onGestureEnd),t.gestureZoomStart=t.props.zoom,t.gestureRotationStart=t.props.rotation)},t.onGestureChange=function(e){if(e.preventDefault(),!t.isTouching){var r=o.getMousePoint(e),n=t.gestureZoomStart-1+e.scale;if(t.setNewZoom(n,r,{shouldUpdatePosition:!0}),t.props.onRotationChange){var i=t.gestureRotationStart+e.rotation;t.props.onRotationChange(i)}}},t.onGestureEnd=function(e){t.cleanEvents()},t.onDragStart=function(e){var r,o;t.dragStartPosition={x:e.x,y:e.y},t.dragStartCrop=c({},t.props.crop),null==(o=(r=t.props).onInteractionStart)||o.call(r)},t.onDrag=function(e){var r=e.x,o=e.y;t.currentWindow&&(t.rafDragTimeout&&t.currentWindow.cancelAnimationFrame(t.rafDragTimeout),t.rafDragTimeout=t.currentWindow.requestAnimationFrame(function(){if(t.state.cropSize&&void 0!==r&&void 0!==o){var e=r-t.dragStartPosition.x,n=o-t.dragStartPosition.y,i={x:t.dragStartCrop.x+e,y:t.dragStartCrop.y+n},a=t.props.restrictPosition?h(i,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):i;t.props.onCropChange(a)}}))},t.onDragStopped=function(){var e,r;t.isTouching=!1,t.cleanEvents(),t.emitCropData(),null==(r=(e=t.props).onInteractionEnd)||r.call(e)},t.onWheel=function(e){if(t.currentWindow&&(!t.props.onWheelRequest||t.props.onWheelRequest(e))){e.preventDefault();var r=o.getMousePoint(e),n=(0,d.default)(e).pixelY,i=t.props.zoom-n*t.props.zoomSpeed/200;t.setNewZoom(i,r,{shouldUpdatePosition:!0}),t.state.hasWheelJustStarted||t.setState({hasWheelJustStarted:!0},function(){var e,r;return null==(r=(e=t.props).onInteractionStart)?void 0:r.call(e)}),t.wheelTimer&&clearTimeout(t.wheelTimer),t.wheelTimer=t.currentWindow.setTimeout(function(){return t.setState({hasWheelJustStarted:!1},function(){var e,r;return null==(r=(e=t.props).onInteractionEnd)?void 0:r.call(e)})},250)}},t.getPointOnContainer=function(e,r){var o=e.x,n=e.y;if(!t.containerRect)throw Error("The Cropper is not mounted");return{x:t.containerRect.width/2-(o-r.x),y:t.containerRect.height/2-(n-r.y)}},t.getPointOnMedia=function(e){var r=e.x,o=e.y,n=t.props,i=n.crop,a=n.zoom;return{x:(r+i.x)/a,y:(o+i.y)/a}},t.setNewZoom=function(e,r,o){var n=(void 0===o?{}:o).shouldUpdatePosition;if(t.state.cropSize&&t.props.onZoomChange){var i=b(e,t.props.minZoom,t.props.maxZoom);if(void 0===n||n){var a=t.getPointOnContainer(r,t.containerPosition),s=t.getPointOnMedia(a),l={x:s.x*i-a.x,y:s.y*i-a.y},c=t.props.restrictPosition?h(l,t.mediaSize,t.state.cropSize,i,t.props.rotation):l;t.props.onCropChange(c)}t.props.onZoomChange(i)}},t.getCropData=function(){var e,r,o,n,i,a,s,l,d,p,u,m,f,b,y;return t.state.cropSize?(e=t.props.restrictPosition?h(t.props.crop,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):t.props.crop,r=t.mediaSize,o=t.state.cropSize,n=t.getAspect(),i=t.props.zoom,a=t.props.rotation,s=t.props.restrictPosition,void 0===a&&(a=0),void 0===s&&(s=!0),l=s?g:x,d=v(r.width,r.height,a),p=v(r.naturalWidth,r.naturalHeight,a),u={x:l(100,((d.width-o.width/i)/2-e.x/i)/d.width*100),y:l(100,((d.height-o.height/i)/2-e.y/i)/d.height*100),width:l(100,o.width/d.width*100/i),height:l(100,o.height/d.height*100/i)},m=Math.round(l(p.width,u.width*p.width/100)),f=Math.round(l(p.height,u.height*p.height/100)),b=p.width>=p.height*n?{width:Math.round(f*n),height:f}:{width:m,height:Math.round(m/n)},y=c(c({},b),{x:Math.round(l(p.width-b.width,u.x*p.width/100)),y:Math.round(l(p.height-b.height,u.y*p.height/100))}),{croppedAreaPercentages:u,croppedAreaPixels:y}):null},t.emitCropData=function(){var e=t.getCropData();if(e){var r=e.croppedAreaPercentages,o=e.croppedAreaPixels;t.props.onCropComplete&&t.props.onCropComplete(r,o),t.props.onCropAreaChange&&t.props.onCropAreaChange(r,o)}},t.emitCropAreaChange=function(){var e=t.getCropData();if(e){var r=e.croppedAreaPercentages,o=e.croppedAreaPixels;t.props.onCropAreaChange&&t.props.onCropAreaChange(r,o)}},t.recomputeCropPosition=function(){if(t.state.cropSize){var e,r,o=t.props.crop;if(t.isInitialized&&(null==(e=t.previousCropSize)?void 0:e.width)&&(null==(r=t.previousCropSize)?void 0:r.height)&&(Math.abs(t.previousCropSize.width-t.state.cropSize.width)>1e-6||Math.abs(t.previousCropSize.height-t.state.cropSize.height)>1e-6)){var n=t.state.cropSize.width/t.previousCropSize.width,i=t.state.cropSize.height/t.previousCropSize.height;o={x:t.props.crop.x*n,y:t.props.crop.y*i}}var a=t.props.restrictPosition?h(o,t.mediaSize,t.state.cropSize,t.props.zoom,t.props.rotation):o;t.previousCropSize=t.state.cropSize,t.props.onCropChange(a),t.emitCropData()}},t.onKeyDown=function(e){var r,o,n=t.props,i=n.crop,a=n.onCropChange,s=n.keyboardStep,l=n.zoom,d=n.rotation,p=s;if(t.state.cropSize){e.shiftKey&&(p*=.2);var u=c({},i);switch(e.key){case"ArrowUp":u.y-=p,e.preventDefault();break;case"ArrowDown":u.y+=p,e.preventDefault();break;case"ArrowLeft":u.x-=p,e.preventDefault();break;case"ArrowRight":u.x+=p,e.preventDefault();break;default:return}t.props.restrictPosition&&(u=h(u,t.mediaSize,t.state.cropSize,l,d)),e.repeat||null==(o=(r=t.props).onInteractionStart)||o.call(r),a(u)}},t.onKeyUp=function(e){var r,o;switch(e.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":e.preventDefault();break;default:return}t.emitCropData(),null==(o=(r=t.props).onInteractionEnd)||o.call(r)},t}return l(o,e),o.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t),o.prototype.componentDidMount=function(){this.currentDoc&&this.currentWindow&&(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),void 0===window.ResizeObserver&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=".reactEasyCrop_Container {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: hidden;\n  user-select: none;\n  touch-action: none;\n  cursor: move;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.reactEasyCrop_Image,\n.reactEasyCrop_Video {\n  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */\n}\n\n.reactEasyCrop_Contain {\n  max-width: 100%;\n  max-height: 100%;\n  margin: auto;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n.reactEasyCrop_Cover_Horizontal {\n  width: 100%;\n  height: auto;\n}\n.reactEasyCrop_Cover_Vertical {\n  width: auto;\n  height: 100%;\n}\n\n.reactEasyCrop_CropArea {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  box-sizing: border-box;\n  box-shadow: 0 0 0 9999em;\n  color: rgba(0, 0, 0, 0.5);\n  overflow: hidden;\n}\n\n.reactEasyCrop_CropAreaRound {\n  border-radius: 50%;\n}\n\n.reactEasyCrop_CropAreaGrid::before {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 0;\n  bottom: 0;\n  left: 33.33%;\n  right: 33.33%;\n  border-top: 0;\n  border-bottom: 0;\n}\n\n.reactEasyCrop_CropAreaGrid::after {\n  content: ' ';\n  box-sizing: border-box;\n  position: absolute;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  top: 33.33%;\n  bottom: 33.33%;\n  left: 0;\n  right: 0;\n  border-left: 0;\n  border-right: 0;\n}\n",this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},o.prototype.componentWillUnmount=function(){var e,t;this.currentDoc&&this.currentWindow&&(void 0===window.ResizeObserver&&this.currentWindow.removeEventListener("resize",this.computeSizes),null==(e=this.resizeObserver)||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&(null==(t=this.styleRef.parentNode)||t.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},o.prototype.componentDidUpdate=function(e){e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect||e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():(null==(t=e.cropSize)?void 0:t.height)!==(null==(r=this.props.cropSize)?void 0:r.height)||(null==(o=e.cropSize)?void 0:o.width)!==(null==(n=this.props.cropSize)?void 0:n.width)?this.computeSizes():((null==(i=e.crop)?void 0:i.x)!==(null==(a=this.props.crop)?void 0:a.x)||(null==(s=e.crop)?void 0:s.y)!==(null==(l=this.props.crop)?void 0:l.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&(null==(c=this.videoRef.current)||c.load());var t,r,o,n,i,a,s,l,c,d=this.getObjectFit();d!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:d},this.computeSizes)},o.prototype.getAspect=function(){var e=this.props,t=e.cropSize,r=e.aspect;return t?t.width/t.height:r},o.prototype.getObjectFit=function(){var e,t,r,o;if("cover"===this.props.objectFit){if((this.imageRef.current||this.videoRef.current)&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var n=this.containerRect.width/this.containerRect.height;return((null==(e=this.imageRef.current)?void 0:e.naturalWidth)||(null==(t=this.videoRef.current)?void 0:t.videoWidth)||0)/((null==(r=this.imageRef.current)?void 0:r.naturalHeight)||(null==(o=this.videoRef.current)?void 0:o.videoHeight)||0)<n?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},o.prototype.onPinchStart=function(e){var t=o.getTouchPoint(e.touches[0]),r=o.getTouchPoint(e.touches[1]);this.lastPinchDistance=u(t,r),this.lastPinchRotation=m(t,r),this.onDragStart(f(t,r))},o.prototype.onPinchMove=function(e){var t=this;if(this.currentDoc&&this.currentWindow){var r=o.getTouchPoint(e.touches[0]),n=o.getTouchPoint(e.touches[1]),i=f(r,n);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var e=u(r,n),o=t.props.zoom*(e/t.lastPinchDistance);t.setNewZoom(o,i,{shouldUpdatePosition:!1}),t.lastPinchDistance=e;var a=m(r,n),s=t.props.rotation+(a-t.lastPinchRotation);t.props.onRotationChange&&t.props.onRotationChange(s),t.lastPinchRotation=a})}},o.prototype.render=function(){var e,t=this,o=this.props,n=o.image,i=o.video,a=o.mediaProps,s=o.cropperProps,l=o.transform,d=o.crop,h=d.x,p=d.y,u=o.rotation,m=o.zoom,g=o.cropShape,x=o.showGrid,f=o.roundCropAreaPixels,v=o.style,b=v.containerStyle,w=v.cropAreaStyle,j=v.mediaStyle,C=o.classes,N=C.containerClassName,S=C.cropAreaClassName,k=C.mediaClassName,z=null!=(e=this.state.mediaObjectFit)?e:this.getObjectFit();return r.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(e){return t.containerRef=e},"data-testid":"container",style:b,className:y("reactEasyCrop_Container",N)},n?r.createElement("img",c({alt:"",className:y("reactEasyCrop_Image","contain"===z&&"reactEasyCrop_Contain","horizontal-cover"===z&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===z&&"reactEasyCrop_Cover_Vertical",k)},a,{src:n,ref:this.imageRef,style:c(c({},j),{transform:l||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(u,"deg) scale(").concat(m,")")}),onLoad:this.onMediaLoad})):i&&r.createElement("video",c({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:y("reactEasyCrop_Video","contain"===z&&"reactEasyCrop_Contain","horizontal-cover"===z&&"reactEasyCrop_Cover_Horizontal","vertical-cover"===z&&"reactEasyCrop_Cover_Vertical",k)},a,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:c(c({},j),{transform:l||"translate(".concat(h,"px, ").concat(p,"px) rotate(").concat(u,"deg) scale(").concat(m,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(e){return r.createElement("source",c({key:e.src},e))})),this.state.cropSize&&r.createElement("div",c({ref:this.cropperRef,style:c(c({},w),{width:f?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:f?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:y("reactEasyCrop_CropArea","round"===g&&"reactEasyCrop_CropAreaRound",x&&"reactEasyCrop_CropAreaGrid",S)},s)))},o.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:3,minZoom:1,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:1},o.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},o}(r.Component);async function j(e,t){let r=await new Promise((t,r)=>{let o=new Image;o.addEventListener("load",()=>t(o)),o.addEventListener("error",e=>r(e)),o.src=e}),o=document.createElement("canvas"),n=o.getContext("2d");if(!n)throw Error("无法获取canvas上下文");return o.width=t.width,o.height=t.height,n.drawImage(r,t.x,t.y,t.width,t.height,0,0,t.width,t.height),new Promise((e,t)=>{o.toBlob(r=>{r?e(r):t(Error("Canvas为空"))},"image/jpeg",.95)})}function C({image:e,onComplete:o,onCancel:n,aspectRatio:i=1}){let[a,s]=(0,r.useState)({x:0,y:0}),[l,c]=(0,r.useState)(1),[d,h]=(0,r.useState)(null),[p,u]=(0,r.useState)(!1),m=(0,r.useCallback)((e,t)=>{h(t)},[]),g=(0,r.useCallback)(async()=>{if(d)try{u(!0);let t=await j(e,d);o(t)}catch(e){console.error("裁剪失败:",e)}finally{u(!1)}},[e,d,o]);return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:(0,t.jsxs)("div",{className:"relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 w-full max-w-2xl mx-4",children:[(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"裁剪图片"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"拖动图片调整位置，滚动鼠标缩放"})]}),(0,t.jsx)("div",{className:"relative w-full h-96 bg-gray-100 dark:bg-gray-700 rounded-lg overflow-hidden",children:(0,t.jsx)(w,{image:e,crop:a,zoom:l,aspect:i,onCropChange:s,onZoomChange:c,onCropComplete:m,cropShape:1===i?"round":"rect"})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"缩放"}),(0,t.jsx)("input",{type:"range",min:1,max:3,step:.1,value:l,onChange:e=>c(Number(e.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700"})]}),(0,t.jsxs)("div",{className:"flex gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:n,className:"flex-1 px-4 py-3 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors font-medium",disabled:p,children:"取消"}),(0,t.jsx)("button",{onClick:g,disabled:p,className:"flex-1 px-4 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:p?"处理中...":"完成裁剪"})]})]})})}var N=e.i(86034),S=e.i(75157);function k(){(0,a.usePageTitle)("个人资料",!0);let e=(0,o.useRouter)(),{user:l}=(0,n.useAuth)(),[c,d]=(0,r.useState)({name:"",title:"",bio:"",location:"",avatar:"",website:"",website_title:""}),[h,p]=(0,r.useState)(!0),[u,m]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(!1),[w,j]=(0,r.useState)(null),[k,z]=(0,r.useState)({show:!1,type:"success",message:""}),[R,M]=(0,r.useState)([]),[L,D]=(0,r.useState)(null),[P,E]=(0,r.useState)(!1),[A,_]=(0,r.useState)({platform:"",account:"",link:"",icon:"",qrcode:"",show_in_profile:!1,is_visible:!0}),[W,F]=(0,r.useState)(!1),[T,O]=(0,r.useState)(!1);(0,r.useEffect)(()=>{I()},[]);let I=async()=>{try{let e=await (0,i.getAdminProfile)();d({name:e?.name||"",title:e?.title||"",bio:e?.bio||"",location:e?.location||"",avatar:e?.avatar||"",website:e?.website||"",website_title:e?.website_title||""}),await V()}catch(e){console.error("加载个人资料失败:",e)}finally{p(!1)}},U=e=>{d({...c,[e.target.name]:e.target.value})},B=async e=>{let t=e.target.files?.[0];if(!t)return;if(!t.type.startsWith("image/"))return void z({show:!0,type:"error",message:"请选择图片文件"});let r=new FileReader;r.onload=()=>{j(r.result),y(!0)},r.readAsDataURL(t),e.target.value=""},q=async e=>{y(!1),x(!0);try{let t=new File([e],"avatar.jpg",{type:"image/jpeg"}),r=await (0,i.uploadAdminAvatar)(t);r.success&&(d({...c,avatar:r.data.avatar}),z({show:!0,type:"success",message:"头像上传成功"}))}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"头像上传失败"})}finally{x(!1),j(null)}},Z=async()=>{v(!0);try{(await (0,i.deleteAdminAvatar)()).success&&(d({...c,avatar:""}),z({show:!0,type:"success",message:"头像删除成功"}))}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"头像删除失败"})}finally{v(!1)}},H=async e=>{e.preventDefault(),m(!0);try{await (0,i.updateAdminProfile)(c),z({show:!0,type:"success",message:"个人资料更新成功"})}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"更新失败"})}finally{m(!1)}},V=async()=>{try{let e=await (0,i.getAdminSocialLinks)();if(e.success){let t=Array.isArray(e.data)?e.data:[];M(t)}}catch(e){console.error("Failed to load social links:",e),M([])}},G=e=>{_({...A,[e.target.name]:e.target.value})},X=async e=>{e.preventDefault();try{L?.id?(await (0,i.updateAdminSocialLink)(L.id,A)).success&&(z({show:!0,type:"success",message:"社交链接更新成功"}),await V(),Y()):(await (0,i.createAdminSocialLink)(A)).success&&(z({show:!0,type:"success",message:"社交链接添加成功"}),await V(),Y())}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"操作失败"})}},K=async e=>{if(confirm("确定要删除这个社交链接吗？"))try{(await (0,i.deleteAdminSocialLink)(e)).success&&(z({show:!0,type:"success",message:"社交链接删除成功"}),await V())}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"删除失败"})}},Y=()=>{_({platform:"",account:"",link:"",icon:"",qrcode:"",show_in_profile:!1,is_visible:!0}),D(null),E(!1)},J=async e=>{let t=e.target.files?.[0];if(t){F(!0);try{let r=await (0,i.uploadAdminSocialLinkIcon)(t);r.success&&(_({...A,icon:r.data.url}),z({show:!0,type:"success",message:"图标上传成功"}),e.target.value="")}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"图标上传失败"})}finally{F(!1)}}},$=async e=>{let t=e.target.files?.[0];if(t){O(!0);try{let r=await (0,i.uploadAdminSocialLinkQRCode)(t);r.success&&(_({...A,qrcode:r.data.url}),z({show:!0,type:"success",message:"二维码上传成功"}),e.target.value="")}catch(e){z({show:!0,type:"error",message:e.response?.data?.message||"二维码上传失败"})}finally{O(!1)}}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.default,{show:k.show,message:k.message,type:k.type,onClose:()=>z({...k,show:!1})}),(0,t.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,t.jsxs)("form",{onSubmit:H,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"头像设置"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人头像"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[c.avatar&&(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-50 border-4 border-white shadow-lg ring-2 ring-blue-100",children:(0,t.jsx)("img",{src:(0,i.getImageUrl)(c.avatar),alt:"Avatar",className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-10 transition-all duration-200"})]})}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[!c.avatar&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"file",id:"avatarInput",accept:"image/*",onChange:B,disabled:g,className:"hidden"}),(0,t.jsxs)("label",{htmlFor:"avatarInput",className:`px-4 py-2.5 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-blue-600 hover:to-blue-700 hover:shadow-lg text-sm cursor-pointer whitespace-nowrap flex items-center gap-2 ${g?"opacity-50 cursor-not-allowed":""}`,children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),g?"上传中...":"选择文件"]})]}),(0,t.jsx)("input",{type:"text",name:"avatar",value:c.avatar,onChange:U,placeholder:"或输入图片URL地址",className:"flex-1 px-4 py-2.5 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 bg-white placeholder-gray-400"}),c.avatar&&(0,t.jsxs)("button",{type:"button",onClick:Z,disabled:f,className:"flex-shrink-0 px-4 py-2.5 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-red-600 hover:to-red-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed text-sm whitespace-nowrap flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),f?"删除中...":"删除"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"支持 jpg、png、gif、webp 格式，或输入自定义URL"]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"基本信息"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人基本信息"})]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"姓名"]}),(0,t.jsx)("input",{id:"name",name:"name",type:"text",value:c.name,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"你的名字"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),"职位/头衔"]}),(0,t.jsx)("input",{id:"title",name:"title",type:"text",value:c.title,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"例如：全栈开发工程师"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h7"})}),"个人简介"]}),(0,t.jsx)("textarea",{id:"bio",name:"bio",rows:4,value:c.bio,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 resize-none",placeholder:"介绍一下自己..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsxs)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"所在地"]}),(0,t.jsx)("input",{id:"location",name:"location",type:"text",value:c.location,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200",placeholder:"例如：北京"})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"社交信息"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"设置您的个人网站信息"})]})]}),(0,t.jsxs)("div",{className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"website",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),"个人网站链接"]}),(0,t.jsx)("input",{id:"website",name:"website",type:"url",value:c.website,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"https://example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"website_title",className:"block text-sm font-medium text-gray-700 mb-2 flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})}),"网站显示标题"]}),(0,t.jsx)("input",{id:"website_title",name:"website_title",type:"text",value:c.website_title,onChange:U,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200",placeholder:"例如：我的博客"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2 flex items-center gap-1.5",children:[(0,t.jsx)("svg",{className:"w-4 h-4 text-purple-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"如果不填写，将显示网站链接本身"]})]})]})]}),(0,t.jsxs)("div",{className:"flex gap-4 pt-4 border-t border-gray-200",children:[(0,t.jsxs)("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-blue-600 hover:to-blue-700 hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),u?"保存中...":"保存更改"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>e.push((0,N.getAdminRoute)("dashboard")),className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-lg font-medium transition-all duration-300 hover:bg-gray-200 flex items-center justify-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"取消"]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"社交链接管理"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"添加和管理您的社交媒体链接"})]})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsxs)("button",{type:"button",onClick:()=>E(!P),className:"px-4 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg flex items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),P?"取消":"添加社交链接"]})}),P&&(0,t.jsxs)("div",{className:"mb-6 p-5 bg-gradient-to-br from-gray-50 to-gray-100 rounded-xl border border-gray-200",children:[(0,t.jsx)("h3",{className:"text-base font-semibold mb-4 text-gray-900",children:L?"编辑社交链接":"添加社交链接"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-700 mb-2",children:"平台名称"}),(0,t.jsx)("input",{id:"platform",name:"platform",type:"text",required:!0,value:A.platform,onChange:G,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"例如：GitHub, Twitter, LinkedIn"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"account",className:"block text-sm font-medium text-gray-700 mb-2",children:"账号/用户名"}),(0,t.jsx)("input",{id:"account",name:"account",type:"text",required:!0,value:A.account,onChange:G,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"例如：yourusername"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"link",className:"block text-sm font-medium text-gray-700 mb-2",children:"链接地址 (可选)"}),(0,t.jsx)("input",{id:"link",name:"link",type:"url",value:A.link,onChange:G,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200",placeholder:"https://..."})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"icon",className:"block text-sm font-medium text-gray-700 mb-2",children:"图标 (可选)"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[A.icon&&(0,t.jsx)("div",{className:"flex-shrink-0 w-16 h-16 flex items-center justify-center bg-white rounded border border-gray-200",children:(0,t.jsx)("img",{src:(0,i.getImageUrl)(A.icon),alt:"图标",className:"max-w-full max-h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!A.icon&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"file",id:"iconInput",accept:".jpg,.jpeg,.png,.gif,.webp,.svg",onChange:J,disabled:W,className:"hidden"}),(0,t.jsx)("label",{htmlFor:"iconInput",className:`px-4 py-2 bg-orange-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-orange-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${W?"opacity-50 cursor-not-allowed":""}`,children:W?"上传中...":"选择文件"})]}),(0,t.jsx)("input",{id:"icon",name:"icon",type:"text",value:A.icon,onChange:G,placeholder:"图标 URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),A.icon&&(0,t.jsx)("button",{type:"button",onClick:()=>{_({...A,icon:""}),z({show:!0,type:"success",message:"图标删除成功"})},className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md text-xs whitespace-nowrap",children:"删除"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"支持 jpg、png、gif、webp、svg 格式"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"qrcode",className:"block text-sm font-medium text-gray-700 mb-2",children:"二维码图片 (可选)"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"上传二维码后，前台点击社交链接将显示二维码弹窗，不会跳转URL"}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[A.qrcode&&(0,t.jsx)("div",{className:"flex-shrink-0 w-20 h-20 flex items-center justify-center bg-white rounded border border-gray-200",children:(0,t.jsx)("img",{src:(0,i.getImageUrl)(A.qrcode),alt:"二维码",className:"w-full h-full object-contain"})}),(0,t.jsxs)("div",{className:"flex-1 flex items-center gap-3",children:[!A.qrcode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"file",id:"qrcodeInput",accept:".jpg,.jpeg,.png,.gif,.webp,.svg",onChange:$,disabled:T,className:"hidden"}),(0,t.jsx)("label",{htmlFor:"qrcodeInput",className:`px-4 py-2 bg-orange-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-orange-600 hover:shadow-md text-xs cursor-pointer whitespace-nowrap ${T?"opacity-50 cursor-not-allowed":""}`,children:T?"上传中...":"选择文件"})]}),(0,t.jsx)("input",{id:"qrcode",name:"qrcode",type:"text",value:A.qrcode,onChange:G,placeholder:"二维码图片 URL",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-200 bg-white placeholder-gray-400"})]}),A.qrcode&&(0,t.jsx)("button",{type:"button",onClick:()=>{_({...A,qrcode:""}),z({show:!0,type:"success",message:"二维码删除成功"})},className:"flex-shrink-0 px-3 py-2 bg-red-500 text-white rounded-lg font-medium transition-all duration-300 hover:bg-red-600 hover:shadow-md text-xs whitespace-nowrap",children:"删除"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"支持 jpg、png、gif、webp、svg 格式"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",id:"show_in_profile",name:"show_in_profile",checked:A.show_in_profile||!1,onChange:e=>_({...A,show_in_profile:e.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"在个人资料卡片中显示（最多显示6个），博客模式下建议只选择4个！"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"勾选后，此社交链接将显示在博客主题的个人资料卡片下方，图标会根据数量自动调整大小和间距"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"checkbox",id:"is_visible",name:"is_visible",checked:void 0===A.is_visible||A.is_visible,onChange:e=>_({...A,is_visible:e.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"前台可见"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"取消勾选后，此社交链接将不会在前台显示，仅在后台管理中可见"})]}),(0,t.jsxs)("div",{className:"flex space-x-4",children:[(0,t.jsx)("button",{type:"button",onClick:e=>{e.preventDefault(),X(e)},className:"px-6 py-2.5 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg font-medium transition-all duration-300 hover:from-orange-600 hover:to-orange-700 hover:shadow-lg",children:L?"更新":"添加"}),(0,t.jsx)("button",{type:"button",onClick:Y,className:"px-6 py-2.5 bg-gray-100 text-gray-700 rounded-lg font-medium transition-all duration-300 hover:bg-gray-200",children:"取消"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-base font-semibold mb-4 text-gray-900",children:"已添加的社交链接"}),0===R.length?(0,t.jsx)("p",{className:"text-gray-500 text-center py-8 bg-gray-50 rounded-lg",children:"还没有添加任何社交链接"}):(0,t.jsx)("div",{className:"space-y-3",children:R.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg border border-gray-200 hover:border-orange-300 transition-all",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1 mr-3",children:[(0,t.jsx)("button",{type:"button",onClick:async()=>{if(0===r)return;let e=[...R],t=e[r];e[r]=e[r-1],e[r-1]=t,M(e);try{let t=e.map((e,t)=>({id:e.id,sort_order:t}));await (0,S.safeFetch)("/api/admin/social-links/sort/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({sortData:t})})}catch(e){console.error("Failed to update sort order:",e)}},disabled:0===r,className:"p-1 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"上移",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 15l7-7 7 7"})})}),(0,t.jsx)("button",{type:"button",onClick:async()=>{if(r===R.length-1)return;let e=[...R],t=e[r];e[r]=e[r+1],e[r+1]=t,M(e);try{let t=e.map((e,t)=>({id:e.id,sort_order:t}));await (0,S.safeFetch)("/api/admin/social-links/sort/update",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({sortData:t})})}catch(e){console.error("Failed to update sort order:",e)}},disabled:r===R.length-1,className:"p-1 text-gray-600 hover:text-orange-600 hover:bg-orange-50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"下移",children:(0,t.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.platform}),e.show_in_profile&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-orange-100 text-orange-700 rounded-full",children:"显示在资料卡"}),!1===e.is_visible&&(0,t.jsx)("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-600 rounded-full",children:"前台隐藏"})]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["账号：",e.account]}),e.link&&(0,t.jsx)("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-orange-600 hover:underline",children:e.link})]}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{D(e),_({platform:e.platform,account:e.account,link:e.link||"",icon:e.icon||"",qrcode:e.qrcode||"",show_in_profile:e.show_in_profile||!1,is_visible:void 0===e.is_visible||e.is_visible}),E(!0)},className:"px-3 py-1.5 bg-white text-gray-700 border border-gray-300 rounded-lg text-sm font-medium transition-all duration-300 hover:bg-gray-50 hover:border-gray-400",children:"编辑"}),(0,t.jsx)("button",{type:"button",onClick:()=>e.id&&K(e.id),className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium transition-all duration-300",children:"删除"})]})]},e.id))})]})]})]})})}),b&&w&&(0,t.jsx)(C,{image:w,onComplete:q,onCancel:()=>{y(!1),j(null)},aspectRatio:1})]})}e.s(["default",()=>k],53133)}]);