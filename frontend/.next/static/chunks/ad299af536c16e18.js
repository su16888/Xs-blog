(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,996433,e=>{"use strict";var t=e.i(843476),r=e.i(95987),a=e.i(975157);function o({className:e=""}){let{settings:o}=(0,r.useSettings)(),s=o.backgroundImage||"",l=o.backgroundOpacity||"0.5";if(!s)return null;let n=(0,a.getApiBaseUrl)(),i=s.startsWith("http")?s:`${n}${s}`;return(0,t.jsx)("div",{className:`absolute inset-0 z-0 pointer-events-none ${e}`,style:{backgroundImage:`url(${i})`,backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",opacity:parseFloat(l)}})}e.s(["default",()=>o])},157164,e=>{"use strict";var t=e.i(843476),r=e.i(271645);let a="QXJjaGl0ZWN0dXJhbCBkcml2ZXIgaXMgYmFzZWQgb24g",o="WHMtYmxvZy4=",s=e=>{try{return atob(e)}catch{return""}};function l(){let[e,l]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(""),[u,m]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=setTimeout(()=>{let e,t;e=s(a),t=s(o),e.length>0&&t.includes("Xs-blog")&&(l(s(a)),i(s(o)),d(s("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw==")),m(!0))},100);return()=>clearTimeout(e)},[]),(0,r.useEffect)(()=>{let e=setInterval(()=>{document.querySelector("[data-copyright]")},5e3);return()=>clearInterval(e)},[u]);let p=async()=>{try{if(localStorage.clear(),sessionStorage.clear(),document.cookie.split(";").forEach(e=>{let t=e.split("=")[0].trim();document.cookie=`${t}=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/`}),"caches"in window){let e=await caches.keys();await Promise.all(e.map(e=>caches.delete(e)))}"indexedDB"in window&&(await indexedDB.databases?.()||[]).forEach(e=>{e.name&&indexedDB.deleteDatabase(e.name)}),alert("清理成功全部数据！"),window.location.reload()}catch(e){alert("清理成功全部数据！"),window.location.reload()}};return u&&e?(0,t.jsxs)("div",{"data-copyright":"true",className:"text-[10px] md:text-xs text-gray-500 text-center select-none",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},onContextMenu:e=>e.preventDefault(),children:[(0,t.jsx)("span",{onDoubleClick:p,style:{cursor:"default"},children:e}),(0,t.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"text-primary-500 hover:text-primary-600 transition-colors",style:{userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none"},children:n})]}):null}e.s(["default",()=>l])},426261,e=>{"use strict";var t=e.i(271645),r=e.i(95987);function a({forceNoIndex:e=!1,customTitle:a}){let{settings:o}=(0,r.useSettings)(),s="true"===o.allowSEO;return(0,t.useEffect)(()=>{if(a)document.title=a;else{let e=o.siteTitle||"",t=o.siteSubtitle||"";e&&(document.title=t?`${e} - ${t}`:e)}},[o.siteTitle,o.siteSubtitle,a]),(0,t.useEffect)(()=>{if(e||!s){let e=document.querySelector('meta[name="robots"]');e||((e=document.createElement("meta")).name="robots",document.head.appendChild(e)),e.content="noindex, nofollow, noarchive, nosnippet, noimageindex";let t=document.querySelector('meta[name="googlebot"]');t||((t=document.createElement("meta")).name="googlebot",document.head.appendChild(t)),t.content="noindex, nofollow";let r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');r||((r=document.createElement("meta")).httpEquiv="X-Robots-Tag",document.head.appendChild(r)),r.content="noindex, nofollow"}else{let e=document.querySelector('meta[name="robots"]'),t=document.querySelector('meta[name="googlebot"]'),r=document.querySelector('meta[http-equiv="X-Robots-Tag"]');e&&e.remove(),t&&t.remove(),r&&r.remove()}},[e,s]),null}e.s(["default",()=>a])},75505,e=>{"use strict";let t=(0,e.i(475254).default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);e.s(["FolderOpen",()=>t],75505)},503116,e=>{"use strict";let t=(0,e.i(475254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],503116)},840433,e=>{"use strict";let t=(0,e.i(475254).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);e.s(["Pin",()=>t],840433)},809934,e=>{"use strict";var t=e.i(271645);function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){var a,o,s;a=e,o=t,s=r[t],o in a?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}class s extends t.default.Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame(()=>{this.reCalculateColumnCount()})):this.reCalculateColumnCount()}reCalculateColumnCount(){let e=window&&window.innerWidth||1/0,t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let r=1/0,a=t.default||2;for(let o in t){let s=parseInt(o);s>0&&e<=s&&s<r&&(r=s,a=t[o])}a=Math.max(1,parseInt(a)||1),this.state.columnCount!==a&&this.setState({columnCount:a})}itemsInColumns(){let e=this.state.columnCount,r=Array(e),a=t.default.Children.toArray(this.props.children);for(let t=0;t<a.length;t++){let o=t%e;r[o]||(r[o]=[]),r[o].push(a[t])}return r}renderColumns(){let{column:e,columnAttrs:a={},columnClassName:s}=this.props,l=this.itemsInColumns(),n=`${100/l.length}%`,i=s;i&&"string"!=typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===i&&(i="my-masonry-grid_column"));let c=o(o(o({},e),a),{},{style:o(o({},a.style),{},{width:n}),className:i});return l.map((e,a)=>t.default.createElement("div",r({},c,{key:a}),e))}logDeprecated(e){console.error("[Masonry]",e)}render(){let e=this.props,{children:a,breakpointCols:o,columnClassName:s,columnAttrs:l,column:n,className:i}=e,c=function(e,t){if(null==e)return{};var r,a,o=function(e,t){if(null==e)return{};var r,a,o={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]),d=i;return"string"!=typeof i&&(this.logDeprecated('The property "className" requires a string'),void 0===i&&(d="my-masonry-grid")),t.default.createElement("div",r({},c,{className:d}),this.renderColumns())}}s.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0},e.s(["default",0,s])},664659,e=>{"use strict";let t=(0,e.i(475254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],664659)},751975,e=>{"use strict";let t=(0,e.i(475254).default)("tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);e.s(["Tag",()=>t],751975)},99189,e=>{"use strict";var t=e.i(843476),r=e.i(846932),a=e.i(555436),o=e.i(37727),s=e.i(503116),l=e.i(840433),n=e.i(751975),i=e.i(75505),c=e.i(664659),d=e.i(271645),u=e.i(618566),m=e.i(209165),p=e.i(975157),g=e.i(157164),h=e.i(809934),x=e.i(426261),b=e.i(996433);let y=(0,p.getApiBaseUrl)(),f=e=>{let t=new Date(e),r=t.getFullYear(),a=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),l=String(t.getMinutes()).padStart(2,"0");return`${r}-${a}-${o} ${s}:${l}`},v=(e,t)=>e.length<=t?e:e.substring(0,t)+"...",w=e=>{if(!e)return"";let t=e;return(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace(/!\[([^\]]*)\]\(([^)]+)\)/g,"")).replace(/!\[([^\]]*)\]\[([^\]]+)\]/g,"")).replace(/!\[([^\]]+)\]/g,"")).replace(/!\s*\[/g,"")).replace(/```[\s\S]*?```/g,"")).replace(/`([^`]+)`/g,"$1")).replace(/`/g,"")).replace(/^#{1,6}\s+/gm,"")).replace(/\*\*([^\*]+)\*\*/g,"$1")).replace(/__([^_]+)__/g,"$1")).replace(/\*([^\*]+)\*/g,"$1")).replace(/_([^_]+)_/g,"$1")).replace(/~~([^~]+)~~/g,"$1")).replace(/^[\s]*[-*+]\s+/gm,"")).replace(/^[\s]*\d+\.\s+/gm,"")).replace(/^>\s+/gm,"")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,"$1")).replace(/\|.*\|/g,"")).replace(/^\s*[-*_]{3,}\s*$/gm,"")).replace(/\s+/g," ").replace(/\n{3,}/g,"\n\n").replace(/\n\s*\n/g,"\n\n").trim()};function C(){let e=(0,u.useRouter)(),p=(0,u.useSearchParams)(),[C,j]=(0,d.useState)([]),[N,k]=(0,d.useState)([]),[S,T]=(0,d.useState)([]),[$,O]=(0,d.useState)("all"),[P,E]=(0,d.useState)("all"),[D,A]=(0,d.useState)(!1),[L,M]=(0,d.useState)(!1),[_,F]=(0,d.useState)(!1),[I,q]=(0,d.useState)(""),[W,z]=(0,d.useState)(!1),[R,H]=(0,d.useState)(1),[U,X]=(0,d.useState)(1),[B,Y]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=()=>{Y(window.innerWidth>=768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let Z={themeType:"default",footerCopyright:`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,noteLayoutColumns:"1",showNoteCover:"true",defaultNoteCover:"",avatarShape:"circle",showTopNavbar:"true",showWapSidebar:"true",showNoteTags:"true",showNoteCategories:"true"},[J,V]=(0,d.useState)(Z),[G,K]=(0,d.useState)({title:"",description:"",browserTitle:"",browserSubtitle:""}),[Q,ee]=(0,d.useState)(!1);(0,d.useEffect)(()=>{let e=p.get("category"),t=p.get("tag");e&&O(e),t&&E(t)},[p]),(0,d.useEffect)(()=>{er(),ea(),eo(),et()},[R,$,P]),(0,d.useEffect)(()=>{if(!G.browserTitle)return;let e=G.browserTitle;"all"!==$?e=`${$} - ${G.browserTitle}`:"all"!==P&&(e=`${P} - ${G.browserTitle}`),G.browserSubtitle&&(e=`${e} - ${G.browserSubtitle}`),document.title=e},[$,P,G.browserTitle,G.browserSubtitle]);let et=async()=>{try{let[e,t]=await Promise.all([(0,m.getSettings)(),(0,m.getPageText)("notes")]);if(e.success&&e.data){let t={};e.data.forEach(e=>{t[e.key]=e.value}),V({themeType:t.themeType||"default",footerCopyright:t.footerCopyright||`\xa9 ${new Date().getFullYear()} 个人主页. All rights reserved.`,noteLayoutColumns:t.noteLayoutColumns||"1",showNoteCover:t.showNoteCover||"true",defaultNoteCover:t.defaultNoteCover||"",avatarShape:t.avatarShape||"circle",showTopNavbar:t.showTopNavbar||"true",showWapSidebar:t.showWapSidebar||"true",showNoteTags:!t.showNoteTags||"true"===t.showNoteTags,showNoteCategories:!t.showNoteCategories||"true"===t.showNoteCategories})}t.success&&t.data&&(K({title:t.data.title||"全部笔记",description:t.data.description||"探索所有已发布的笔记内容",browserTitle:t.data.browserTitle||"全部笔记",browserSubtitle:t.data.browserSubtitle||""}),ee(!0))}catch(e){console.error("Failed to load settings:",e),ee(!0)}},er=async()=>{try{let e={is_published:!0,page:R,limit:12};"all"!==$&&(e.category=$),"all"!==P&&(e.tag=P);let t=await m.default.get("/notes",{params:e}),r=t.data?.data,a=Array.isArray(r?.notes)?r.notes:[];j(a),X(r?.pagination?.totalPages||1)}catch(e){console.error("Failed to fetch notes:",e),j([])}finally{F(!1)}},ea=async()=>{try{let e=await m.default.get("/notes/categories/list"),t=e.data?.data;k(Array.isArray(t)?t:[])}catch(e){console.error("Failed to fetch categories:",e),k([])}},eo=async()=>{try{let e=await m.default.get("/notes/tags/stats"),t=e.data?.data;T(Array.isArray(t)?t.map(e=>e.name):[])}catch(e){console.error("Failed to fetch tags:",e),T([])}},es=C.filter(e=>{if(!I.trim())return!0;let t=I.toLowerCase(),r=e.title?.toLowerCase().includes(t),a=w(e.content).toLowerCase().includes(t),o=e.category?.toLowerCase().includes(t),s=e.Tags?.some(e=>e.name.toLowerCase().includes(t))||e.tags?.toLowerCase().includes(t);return r||a||o||s}),el=new Map(N.map(e=>[e.name,e])),en=parseInt(J?.noteLayoutColumns)||1,ei=1===en||(2===en||3===en)&&B,ec=(!!B||!(en>=2))&&(!B||4!==en)&&(J?.showNoteTags||J?.showNoteCategories),ed=(!!B||!(en>=2))&&(!B||4!==en);J?.themeType,J?.showTopNavbar,J?.showWapSidebar;let eu=I.trim()&&es.length>0,em=I.trim()&&0===es.length;return(0,t.jsxs)("main",{className:"min-h-screen bg-bg-primary relative flex flex-col hide-scrollbar",children:[(0,t.jsx)(x.default,{}),(0,t.jsx)(b.default,{}),(0,t.jsxs)("div",{className:"relative z-0 flex-1 flex flex-col",children:[(0,t.jsx)("div",{className:"h-16"}),(0,t.jsxs)("div",{className:"container mx-auto px-4 max-w-6xl py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-text-primary mb-2",children:G.title}),(0,t.jsx)("p",{className:"text-text-secondary",children:G.description})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3 mb-3",children:[N.length>0&&(0,t.jsxs)("div",{className:"relative md:w-48 flex-shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>{A(!D),M(!1)},className:"w-full flex items-center justify-between px-4 py-3 bg-bg-secondary rounded-lg border border-border-primary hover:bg-bg-tertiary transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(i.FolderOpen,{className:"w-4 h-4 text-text-secondary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:"all"===$?"全部分类":$})]}),(0,t.jsx)(c.ChevronDown,{className:`w-4 h-4 text-text-tertiary transition-transform flex-shrink-0 ${D?"rotate-180":""}`})]}),D&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-bg-secondary rounded-lg border border-border-primary shadow-lg z-20",children:(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{O("all"),H(1),A(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"all"===$?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:"全部"}),N.map(e=>(0,t.jsxs)("button",{onClick:()=>{O(e.name),H(1),A(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${$===e.name?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:[e.icon&&(0,t.jsx)("span",{className:"mr-1.5",children:e.icon}),e.name]},e.id||e.name))]})})]}),S.length>0&&(0,t.jsxs)("div",{className:"relative md:w-48 flex-shrink-0",children:[(0,t.jsxs)("button",{onClick:()=>{M(!L),A(!1)},className:"w-full flex items-center justify-between px-4 py-3 bg-bg-secondary rounded-lg border border-border-primary hover:bg-bg-tertiary transition-all",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.Tag,{className:"w-4 h-4 text-text-secondary"}),(0,t.jsx)("span",{className:"text-sm font-medium text-text-primary truncate",children:"all"===P?"全部标签":P})]}),(0,t.jsx)(c.ChevronDown,{className:`w-4 h-4 text-text-tertiary transition-transform flex-shrink-0 ${L?"rotate-180":""}`})]}),L&&(0,t.jsx)("div",{className:"absolute top-full left-0 right-0 mt-2 p-3 bg-bg-secondary rounded-lg border border-border-primary shadow-lg z-20",children:(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,t.jsx)("button",{onClick:()=>{E("all"),H(1),M(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${"all"===P?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:"全部"}),S.slice(0,10).map(e=>(0,t.jsx)("button",{onClick:()=>{E(e),H(1),M(!1)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${P===e?"bg-primary-500 text-white shadow-md":"bg-bg-tertiary text-text-secondary hover:bg-bg-primary border border-border-primary"}`,children:e},e))]})})]}),(0,t.jsx)("div",{className:"hidden md:flex items-center",children:W?(0,t.jsx)("div",{className:"w-64",children:(0,t.jsxs)("div",{className:"relative flex items-center",children:[(0,t.jsx)(a.Search,{className:"absolute left-3 top-0 bottom-0 my-auto w-4 h-4 text-text-tertiary pointer-events-none"}),(0,t.jsx)("input",{type:"text",placeholder:"搜索笔记...",value:I,onChange:e=>q(e.target.value),className:"w-full h-[46px] pl-9 pr-9 bg-bg-secondary border border-border-primary rounded-lg text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all",autoComplete:"off",autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>{q(""),z(!1)},className:"absolute right-3 top-0 bottom-0 my-auto w-5 h-5 flex items-center justify-center text-text-tertiary hover:text-text-primary transition-colors","aria-label":"关闭搜索",children:(0,t.jsx)(o.X,{className:"w-4 h-4"})})]})}):(0,t.jsx)("button",{type:"button",onClick:()=>z(!0),className:"flex items-center justify-center w-[46px] h-[46px] bg-bg-secondary border border-border-primary rounded-lg text-text-secondary hover:bg-bg-tertiary hover:text-text-primary transition-all","aria-label":"搜索",children:(0,t.jsx)(a.Search,{className:"w-5 h-5"})})})]}),eu&&(0,t.jsx)("div",{className:"p-4 rounded-xl border",style:{backgroundColor:"var(--info-bg)",borderColor:"var(--info-border)"},children:(0,t.jsx)("div",{className:"flex items-center justify-center gap-2",children:(0,t.jsxs)("span",{className:"text-sm",style:{color:"var(--info-text)"},children:["搜索结果: 找到 ",es.length," 条相关笔记",(0,t.jsxs)("span",{className:"font-medium ml-1",children:['"',I,'"']})]})})}),em&&(0,t.jsx)("div",{className:"p-4 bg-bg-tertiary rounded-xl border border-border-primary text-center",children:(0,t.jsxs)("span",{className:"text-sm text-text-tertiary",children:['没有找到包含 "',I,'" 的笔记']})})]}),es.length>0?(0,t.jsx)(h.default,{breakpointCols:{default:parseInt(J?.noteLayoutColumns)||1,1536:parseInt(J?.noteLayoutColumns)||1,1280:4===parseInt(J?.noteLayoutColumns)?3:parseInt(J?.noteLayoutColumns)||1,1024:parseInt(J?.noteLayoutColumns)>=3?2:parseInt(J?.noteLayoutColumns)||1,768:parseInt(J?.noteLayoutColumns)>1?2:1,640:parseInt(J?.noteLayoutColumns)>1?2:1},className:"flex -ml-3 w-auto",columnClassName:"pl-3 bg-clip-padding",children:es.map((a,o)=>{let n=(a.cover_image||J?.defaultNoteCover||"").startsWith("http")?a.cover_image||J?.defaultNoteCover:`${y}${a.cover_image||J?.defaultNoteCover}`;return(0,t.jsx)(r.motion.div,{onClick:()=>{e.push(`/note/${a.id}`)},className:"group block rounded-lg shadow-sm hover:shadow-lg hover:-translate-y-0.5 border bg-bg-secondary border-border-primary transition-all duration-300 cursor-pointer overflow-hidden mb-3",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*o},children:ei?(0,t.jsxs)("div",{className:"flex gap-3 items-stretch p-3",children:[(a.cover_image||J?.defaultNoteCover)&&J?.showNoteCover==="true"&&(0,t.jsx)("div",{className:"flex-shrink-0 w-24 h-24 rounded-md overflow-hidden bg-bg-tertiary",children:(0,t.jsx)("img",{src:n,alt:a.title||"封面图",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.style.display="none"}})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-center min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-start gap-2 mb-1",children:[a.title&&(0,t.jsx)("h3",{className:"text-base font-semibold text-text-primary line-clamp-1 flex-1 transition-colors",children:a.title}),a.is_pinned&&(0,t.jsx)("div",{className:"flex-shrink-0 px-1.5 py-0.5 rounded text-[10px] font-semibold flex items-center gap-0.5",style:{background:"linear-gradient(to right, var(--pinned-gradient-from), var(--pinned-gradient-to))",color:"var(--pinned-text)"},children:(0,t.jsx)(l.Pin,{className:"w-2.5 h-2.5 fill-current"})})]}),ed&&(0,t.jsx)("p",{className:"text-xs text-text-secondary line-clamp-2 mb-2 leading-relaxed",children:a.summary||(a.content?v(w(a.content),80):"暂无内容")}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap text-[10px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-text-tertiary",children:[(0,t.jsx)(s.Clock,{className:"w-2.5 h-2.5"}),(0,t.jsx)("span",{children:f(a.published_at||a.created_at)})]}),ec&&J?.showNoteCategories&&a.category&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors",onClick:e=>{e.stopPropagation(),O(a.category),H(1)},children:[el.get(a.category)?.icon&&(0,t.jsx)("span",{className:"mr-0.5",children:el.get(a.category)?.icon}),a.category]}),ec&&J?.showNoteTags&&a.Tags&&a.Tags.length>0&&(0,t.jsxs)(t.Fragment,{children:[a.Tags.slice(0,2).map(e=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full font-medium cursor-pointer transition-opacity",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},onMouseEnter:t=>{e.color||(t.currentTarget.style.backgroundColor="var(--tag-hover-bg)")},onMouseLeave:t=>{e.color||(t.currentTarget.style.backgroundColor="var(--tag-bg)")},onClick:t=>{t.stopPropagation(),E(e.name),H(1)},children:e.name},e.id)),a.Tags.length>2&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 rounded-full text-[10px]",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},children:["+",a.Tags.length-2]})]}),ec&&J?.showNoteTags&&(!a.Tags||0===a.Tags.length)&&a.tags&&(0,t.jsxs)(t.Fragment,{children:[a.tags.split(",").slice(0,2).map((e,r)=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full font-medium cursor-pointer transition-opacity",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},onClick:t=>{t.stopPropagation(),E(e.trim()),H(1)},children:e.trim()},r)),a.tags.split(",").length>2&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 rounded-full text-[10px]",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},children:["+",a.tags.split(",").length-2]})]})]})]})]}):(0,t.jsxs)("div",{className:"flex flex-col",children:[(a.cover_image||J?.defaultNoteCover)&&J?.showNoteCover==="true"&&(0,t.jsxs)("div",{className:"relative w-full pt-[100%] overflow-hidden bg-gradient-to-br from-primary-100 to-primary-200",children:[(0,t.jsx)("img",{src:n,alt:a.title||"封面图",className:"absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",onError:e=>{e.target.style.display="none"}}),a.is_pinned&&(0,t.jsxs)("div",{className:"absolute top-2 right-2 bg-bg-secondary/90 backdrop-blur-sm rounded-full px-2 py-1 text-[10px] text-text-primary font-semibold flex items-center gap-1 border border-border-primary/50",children:[(0,t.jsx)(l.Pin,{className:"w-2.5 h-2.5 fill-current"}),(0,t.jsx)("span",{children:"置顶"})]})]}),(0,t.jsxs)("div",{className:"p-3",children:[a.title&&(0,t.jsx)("h3",{className:"font-semibold text-base text-text-primary transition-colors line-clamp-2 mb-1",children:a.title}),ed&&(0,t.jsx)("p",{className:"text-xs text-text-secondary line-clamp-2 leading-relaxed mb-2",children:a.summary||(a.content?v(w(a.content),100):"暂无内容")}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2 text-[10px]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 text-text-tertiary",children:[(0,t.jsx)(s.Clock,{className:"w-2.5 h-2.5"}),(0,t.jsx)("span",{children:f(a.published_at||a.created_at)})]}),ec&&(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-wrap",children:[J?.showNoteCategories&&a.category&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 bg-primary-100 text-primary-700 rounded-full font-medium cursor-pointer hover:bg-primary-200 transition-colors",onClick:e=>{e.stopPropagation(),O(a.category),H(1)},children:[el.get(a.category)?.icon&&(0,t.jsx)("span",{className:"mr-0.5",children:el.get(a.category)?.icon}),a.category]}),J?.showNoteTags&&a.Tags&&a.Tags.length>0&&(0,t.jsxs)(t.Fragment,{children:[a.Tags.slice(0,1).map(e=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full font-medium cursor-pointer transition-opacity",style:e.color?{backgroundColor:`${e.color}20`,color:e.color}:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},onMouseEnter:t=>{e.color||(t.currentTarget.style.backgroundColor="var(--tag-hover-bg)")},onMouseLeave:t=>{e.color||(t.currentTarget.style.backgroundColor="var(--tag-bg)")},onClick:t=>{t.stopPropagation(),E(e.name),H(1)},children:e.name},e.id)),a.Tags.length>1&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 rounded-full",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},children:["+",a.Tags.length-1]})]}),J?.showNoteTags&&(!a.Tags||0===a.Tags.length)&&a.tags&&(0,t.jsxs)(t.Fragment,{children:[a.tags.split(",").slice(0,1).map((e,r)=>(0,t.jsx)("span",{className:"px-1.5 py-0.5 rounded-full font-medium cursor-pointer transition-opacity",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},onClick:t=>{t.stopPropagation(),E(e.trim()),H(1)},children:e.trim()},r)),a.tags.split(",").length>1&&(0,t.jsxs)("span",{className:"px-1.5 py-0.5 rounded-full",style:{backgroundColor:"var(--tag-bg)",color:"var(--tag-text)"},children:["+",a.tags.split(",").length-1]})]})]})]})]})]})},a.id)})}):(0,t.jsx)("div",{className:"text-center py-16 text-text-tertiary",children:(0,t.jsx)("p",{className:"text-lg",children:"暂无笔记"})}),U>1&&(0,t.jsxs)("div",{className:"flex justify-center gap-2 pt-8 mt-8",children:[(0,t.jsx)("button",{onClick:()=>H(e=>Math.max(1,e-1)),disabled:1===R,className:"px-4 py-2 rounded-lg bg-bg-secondary text-text-secondary hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm border border-border-primary",children:"上一页"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(U,5)},(e,r)=>{let a,o=(a=U<=5||R<=3?r+1:R>=U-2?U-4+r:R-2+r)===R;return(0,t.jsx)("button",{onClick:()=>H(a),className:"w-10 h-10 rounded-lg transition-all text-sm border "+(o?"bg-primary-500 text-white border-primary-500":"bg-bg-secondary text-text-secondary hover:bg-bg-tertiary border-border-primary"),children:a},a)})}),(0,t.jsx)("button",{onClick:()=>H(e=>Math.min(U,e+1)),disabled:R===U,className:"px-4 py-2 rounded-lg bg-bg-secondary text-text-secondary hover:bg-bg-tertiary disabled:opacity-30 disabled:cursor-not-allowed transition-all text-sm border border-border-primary",children:"下一页"})]})]}),(0,t.jsxs)("footer",{className:"mt-auto border-t border-border-primary py-6 text-center text-sm text-text-tertiary",children:[(0,t.jsx)("p",{children:J.footerCopyright}),(0,t.jsx)(g.default,{})]})]})]})}e.s(["default",()=>C])}]);