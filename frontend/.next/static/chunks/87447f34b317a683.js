(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:n=2,absoluteStrokeWidth:a,className:o="",children:l,iconNode:c,...u},h)=>(0,t.createElement)("svg",{ref:h,...i,width:r,height:r,stroke:e,strokeWidth:a?24*Number(n)/Number(r):n,className:s("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),a=(e,i)=>{let a=(0,t.forwardRef)(({className:a,...o},l)=>(0,t.createElement)(n,{ref:l,iconNode:i,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,a),...o}));return a.displayName=r(e),a};e.s(["default",()=>a],75254)},18566,(e,t,r)=>{t.exports=e.r(76562)},57951,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let i=(0,r.createContext)(void 0);function n({children:e}){let[n,a]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),c=(0,r.useRef)(!1),u=async()=>{try{if(!localStorage.getItem("token")){a(null),l(!1);return}let e=await (0,s.getCurrentUser)();a(e)}catch{a(null)}finally{l(!1)}};(0,r.useEffect)(()=>{c.current||(c.current=!0,u())},[]);let h=async()=>{l(!0),await u()};return(0,t.jsx)(i.Provider,{value:{user:n,isLoading:o,isAuthenticated:!!n,refreshUser:h,setUser:a,logout:()=>{localStorage.removeItem("token"),a(null)}},children:e})}function a(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>n,"useAuth",()=>a])},86034,e=>{"use strict";var t=e.i(21854);let r="admins";e.s(["getAdminRoute",0,(e="")=>((e="")=>{let t=e.startsWith("/")?e.slice(1):e;return`/${r}${t?`/${t}`:""}`})(e),"getApiUrl",0,()=>(0,t.getRuntimeConfig)().apiUrl,"isAdminPage",0,e=>!e.startsWith("/note/")&&e.startsWith(`/${r}`)])},75157,e=>{"use strict";e.i(47167);class t{storage=null;prefix="xs-blog-cache:";defaultTTL=3e5;pendingRequests=new Map;pendingTimeout=3e4;constructor(){try{this.storage=window.sessionStorage}catch(e){console.warn("SessionStorage 不可用，缓存功能已禁用")}}async getCacheTTL(){try{let e=this.storage?.getItem("xs-blog-cache:settings");if(e){let t=JSON.parse(e),r=parseInt(t.cacheTime||"5");if(!isNaN(r)&&r>=0)return 60*r*1e3}}catch(e){}return this.defaultTTL}updateCacheTTL(e){if(this.storage)try{this.storage.setItem("xs-blog-cache:settings",JSON.stringify({cacheTime:e}))}catch(e){console.error("更新缓存配置失败:",e)}}getCacheKey(e){return`${this.prefix}${e}`}async set(e,t,r){if(this.storage)try{let s=void 0!==r?r:await this.getCacheTTL();if(0===s)return;let i={data:t,timestamp:Date.now(),ttl:s},n=this.getCacheKey(e);this.storage.setItem(n,JSON.stringify(i))}catch(e){console.warn("缓存设置失败:",e)}}get(e){if(!this.storage)return null;try{let t=this.getCacheKey(e),r=this.storage.getItem(t);if(!r)return null;let s=JSON.parse(r);if(Date.now()-s.timestamp>s.ttl)return this.storage.removeItem(t),null;return s.data}catch(e){return console.warn("读取缓存失败:",e),null}}async dedupeRequest(e,t){let r=Date.now(),s=this.pendingRequests.get(e);if(s)if(r-s.timestamp<this.pendingTimeout)return s.promise;else this.pendingRequests.delete(e);let i=t().then(t=>(this.pendingRequests.delete(e),t)).catch(t=>{throw this.pendingRequests.delete(e),t});return this.pendingRequests.set(e,{promise:i,timestamp:r}),i}cleanPendingRequests(){let e=Date.now(),t=[];this.pendingRequests.forEach((r,s)=>{e-r.timestamp>=this.pendingTimeout&&t.push(s)}),t.forEach(e=>{this.pendingRequests.delete(e)}),t.length}remove(e){if(this.storage)try{let t=this.getCacheKey(e);this.storage.removeItem(t)}catch(e){console.warn("删除缓存失败:",e)}}clear(){if(this.storage)try{let e=[];for(let t=0;t<this.storage.length;t++){let r=this.storage.key(t);r&&r.startsWith(this.prefix)&&e.push(r)}e.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("清除缓存失败:",e)}}clearByPrefix(e){if(this.storage)try{let t=[],r=this.getCacheKey(e);for(let e=0;e<this.storage.length;e++){let s=this.storage.key(e);s&&s.startsWith(r)&&t.push(s)}t.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("按前缀清除缓存失败:",e)}}getStats(){if(!this.storage)return{count:0,size:0};try{let e=0,t=0;for(let r=0;r<this.storage.length;r++){let s=this.storage.key(r);if(s&&s.startsWith(this.prefix)){e++;let r=this.storage.getItem(s);r&&(t+=r.length)}}return{count:e,size:t}}catch(e){return console.warn("获取缓存统计失败:",e),{count:0,size:0}}}cleanExpired(){if(this.storage)try{let e=[],t=Date.now();for(let r=0;r<this.storage.length;r++){let s=this.storage.key(r);if(s&&s.startsWith(this.prefix)){let r=this.storage.getItem(s);if(r)try{let i=JSON.parse(r);t-i.timestamp>i.ttl&&e.push(s)}catch{e.push(s)}}}e.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("清理过期缓存失败:",e)}}}let r=new t;function s(...e){return function(){for(var e,t,r=0,s="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=function e(t){var r,s,i="";if("string"==typeof t||"number"==typeof t)i+=t;else if("object"==typeof t)if(Array.isArray(t)){var n=t.length;for(r=0;r<n;r++)t[r]&&(s=e(t[r]))&&(i&&(i+=" "),i+=s)}else for(s in t)t[s]&&(i&&(i+=" "),i+=s);return i}(e))&&(s&&(s+=" "),s+=t);return s}(e)}function i(){return"/api".replace(/\/api$/,"")}function n(e){if(!e)return"";let t="string"==typeof e?e:String(e);if(t.startsWith("http://")||t.startsWith("https://"))return t;let r=i(),s=t.startsWith("/")?t:`/${t}`;return`${r}${s}`}async function a(e,t,s=!0,i){let n="GET"===(t?.method?.toUpperCase()||"GET");if(n&&s&&1){let a=r.get(e);return a?new Response(JSON.stringify(a),{status:200,headers:{"Content-Type":"application/json"}}):r.dedupeRequest(e,async()=>o(e,t,n,s,i))}return o(e,t,n,s,i)}async function o(e,t,s=!0,i=!0,n){if(e.startsWith("http://")||e.startsWith("https://")){let a=await fetch(e,t);if(s&&i&&a.ok&&1)try{let t=a.clone(),s=await t.json();await r.set(e,s,n)}catch(e){}return a}let a=await fetch(e,t);if(s&&i&&a.ok)try{let t=a.clone(),s=await t.json();await r.set(e,s,n)}catch(e){}return a}setInterval(()=>{r.cleanExpired(),r.cleanPendingRequests()},3e5),e.s(["cn",()=>s,"getApiBaseUrl",()=>i,"getFileUrl",()=>n,"safeFetch",()=>a],75157)},95987,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let i="xs_settings_cache",n="xs_settings_expire",a="xs_page_texts_cache",o="xs_page_texts_expire",l=(0,r.createContext)(void 0);function c({children:e}){let[c,u]=(0,r.useState)({}),[h,d]=(0,r.useState)(null),[m,f]=(0,r.useState)(!0),g=(0,r.useRef)(!1),p=async(e=!1)=>{if(!e){let e=(()=>{try{let e=sessionStorage.getItem(i),t=sessionStorage.getItem(n);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})(),t=(()=>{try{let e=sessionStorage.getItem(a),t=sessionStorage.getItem(o);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e&&Object.keys(e).length>0){u(e),t&&d(t),f(!1),y();return}}await y()},y=async()=>{try{let[t,r]=await Promise.all([(0,s.getSettings)(),(0,s.getPageTexts)()]);if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.key]=t.value}),void 0===e.promoThemeEnabled&&(e.promoThemeEnabled="false"),void 0===e.socialFeedThemeEnabled&&(e.socialFeedThemeEnabled="false"),void 0===e.docsThemeEnabled&&(e.docsThemeEnabled="false"),u(e);try{sessionStorage.setItem(i,JSON.stringify(e)),sessionStorage.setItem(n,String(Date.now()+18e5))}catch(e){}}if(r.success&&r.data){d(r.data);var e=r.data;try{sessionStorage.setItem(a,JSON.stringify(e)),sessionStorage.setItem(o,String(Date.now()+18e5))}catch(e){}}}catch(e){console.error("Failed to load settings:",e)}finally{f(!1)}};(0,r.useEffect)(()=>{g.current||(g.current=!0,p())},[]);let w=async()=>{f(!0);try{sessionStorage.removeItem(i),sessionStorage.removeItem(n),sessionStorage.removeItem(a),sessionStorage.removeItem(o)}catch(e){}await p(!0)};return(0,t.jsx)(l.Provider,{value:{settings:c,pageTexts:h,isLoading:m,refreshSettings:w},children:e})}function u(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}function h(e,t=!0){let{settings:r}=u(),s=r[e];return void 0===s?t:"false"!==s}function d(e,t=""){let{settings:r}=u();return r[e]||t}e.s(["SettingsProvider",()=>c,"useSettingBoolean",()=>h,"useSettingString",()=>d,"useSettings",()=>u])},77624,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let i="xs_profile_cache",n="xs_profile_expire",a=(0,r.createContext)(void 0);function o({children:e}){let[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),h=(0,r.useRef)(!1),d=async(e=!1)=>{if(!e){let e=(()=>{try{let e=sessionStorage.getItem(i),t=sessionStorage.getItem(n);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e){l(e),u(!1),m();return}}await m()},m=async()=>{try{let e=await (0,s.getProfile)();l(e),e&&(e=>{try{sessionStorage.setItem(i,JSON.stringify(e)),sessionStorage.setItem(n,String(Date.now()+18e5))}catch(e){}})(e)}catch(e){console.error("Failed to load profile:",e),l(null)}finally{u(!1)}};(0,r.useEffect)(()=>{h.current||(h.current=!0,d())},[]);let f=async()=>{u(!0);try{sessionStorage.removeItem(i),sessionStorage.removeItem(n)}catch(e){}await d(!0)};return(0,t.jsx)(a.Provider,{value:{profile:o,isLoading:c,refreshProfile:f},children:e})}function l(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useProfile must be used within a ProfileProvider");return e}e.s(["ProfileProvider",()=>o,"useProfile",()=>l])},31823,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let i="xs_social_links_cache",n="xs_social_links_expire",a=(0,r.createContext)(void 0);function o({children:e}){let[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),h=(0,r.useRef)(!1),d=async(e=!1)=>{if(!e){let e=(()=>{try{let e=sessionStorage.getItem(i),t=sessionStorage.getItem(n);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e&&e.length>0){l(e),u(!1),m();return}}await m()},m=async()=>{try{let e=await s.default.get("/social-links?visible=true"),t=e.data?.data,r=Array.isArray(t)?t:[];l(r);try{sessionStorage.setItem(i,JSON.stringify(r)),sessionStorage.setItem(n,String(Date.now()+6e5))}catch(e){}}catch(e){console.error("Failed to load social links:",e),l([])}finally{u(!1)}};(0,r.useEffect)(()=>{h.current||(h.current=!0,d())},[]);let f=async()=>{u(!0);try{sessionStorage.removeItem(i),sessionStorage.removeItem(n)}catch(e){}await d(!0)},g=o.filter(e=>e.show_in_profile).slice(0,4);return(0,t.jsx)(a.Provider,{value:{socialLinks:o,profileSocialLinks:g,isLoading:c,refreshSocialLinks:f},children:e})}function l(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useSocialLinks must be used within a SocialLinksProvider");return e}e.s(["SocialLinksProvider",()=>o,"useSocialLinks",()=>l])},75144,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(86034),i=e.i(18566);let n=(0,r.createContext)(void 0);function a(e){let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let s=r[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}function o({children:e}){let o=(0,i.usePathname)(),l=(0,s.isAdminPage)(o),[c,u]=(0,r.useState)(()=>{try{let e=a("theme");if(e&&["white","gray","black"].includes(e))return e}catch(e){}return"black"});return(0,r.useEffect)(()=>{if(!l)try{let e=a("theme");e&&["white","gray","black"].includes(e)&&u(e)}catch(e){}},[l]),(0,r.useEffect)(()=>{if(l){document.documentElement.setAttribute("data-theme","white"),document.documentElement.classList.remove("theme-white","theme-gray","theme-black"),document.documentElement.classList.add("theme-white");return}try{!function(e,t,r=365){let s=new Date;s.setTime(s.getTime()+24*r*36e5),document.cookie=`${e}=${t};expires=${s.toUTCString()};path=/;SameSite=Lax`}("theme",c,365)}catch(e){}document.documentElement.classList.remove("theme-white","theme-gray","theme-black"),document.documentElement.classList.add(`theme-${c}`),document.documentElement.setAttribute("data-theme",c);let e="white"===c||"gray"===c?"#f8fafc":"#0F172A";document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e},[c,l]),(0,t.jsx)(n.Provider,{value:{theme:c,setTheme:u},children:e})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}e.s(["ThemeProvider",()=>o,"useTheme",()=>l])},71408,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),i=e.i(75157);let n=["/admins/dashboard","/admins/login"];function a({children:e}){let a=(0,s.usePathname)(),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[h,d]=(0,r.useState)(!1),m=n.some(e=>a?.startsWith(e));return((0,r.useEffect)(()=>{let e;if(!m)return void l(!0);let t=async()=>{try{let r=await (0,i.safeFetch)("/api/system/integrity",{method:"GET",cache:"no-store",headers:{Accept:"application/json"}});if(!r.ok){l(!0),u(!0),d(!0),e=setTimeout(t,18e5);return}let s=await r.json(),n=!0===s.s;l(n),u(!0),d(!1),n||(document.body.style.pointerEvents="none"),e=setTimeout(t,6e5)}catch(r){l(!0),u(!0),d(!0),e=setTimeout(t,18e5)}};return t(),()=>{e&&clearTimeout(e),document.body.style.pointerEvents="auto"}},[m,a]),c&&c&&!1===o)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{filter:"blur(8px)",pointerEvents:"none",userSelect:"none"},children:e}),(0,t.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-[99999] p-4",style:{pointerEvents:"auto"},children:(0,t.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl animate-fadeIn",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"程序错误"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"代码安全审核失败！"}),(0,t.jsx)("a",{href:(e=>{try{return atob(e)}catch{return""}})("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw=="),target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"访问仓库"})]})})})]}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>a])},32484,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),i=e.i(86034),n=e.i(75254);let a=(0,n.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),o=(0,n.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),l=(0,n.default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);var c=e.i(75144);function u(){let e,n,u=(0,s.usePathname)();if(u.startsWith("/enterprise")||u.startsWith("/promo")||u.startsWith("/social-feed"))return null;let h=(0,i.isAdminPage)(u),{theme:d,setTheme:m}=(0,c.useTheme)(),[f,g]=(0,r.useState)(!1),[p,y]=(0,r.useState)(!1),[w,v]=(0,r.useState)(!1),[x,S]=(0,r.useState)(!0),[b,k]=(0,r.useState)({x:0,y:0}),[T,E]=(0,r.useState)(!1),[I,C]=(0,r.useState)({x:0,y:0}),j=(0,r.useRef)(null),P=(0,r.useRef)(!1),N=(0,r.useRef)(null),R=(0,r.useRef)(!1),L=(0,r.useCallback)((e=!1)=>{w&&(e&&(R.current=!0,setTimeout(()=>{R.current=!1},500)),S(!1),N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{S(!0)},1e3))},[w]);(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth<768;v(e),e||S(!1)},t=()=>{g(!0),e(),window.addEventListener("resize",e);let t=localStorage.getItem("floatingButtonsPosition");if(t)try{k(JSON.parse(t))}catch(e){}};return"requestIdleCallback"in window?window.requestIdleCallback(t,{timeout:2e3}):setTimeout(t,500),()=>{window.removeEventListener("resize",e),N.current&&clearTimeout(N.current)}},[L]),(0,r.useEffect)(()=>{let e=()=>{y(window.scrollY>300)},t=e=>{y(e.detail.canScrollTop)};return window.addEventListener("scroll",e),window.addEventListener("docsPageScroll",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("docsPageScroll",t)}},[]);let A=(0,r.useCallback)(e=>{localStorage.setItem("floatingButtonsPosition",JSON.stringify(e))},[]),W=(0,r.useCallback)(e=>{if(!w)return;let t=e.touches[0];C({x:t.clientX-b.x,y:t.clientY-b.y}),E(!0),P.current=!1,L()},[w,b,L]),_=(0,r.useCallback)(e=>{if(!T||!w)return;e.preventDefault();let t=e.touches[0],r=t.clientX-I.x,s=t.clientY-I.y,i=j.current;if(i){let e=i.getBoundingClientRect();k({x:Math.max(-(window.innerWidth-e.width),Math.min(0,r)),y:Math.max(-(window.innerHeight-e.height),Math.min(0,s))}),P.current=!0}},[T,w,I]),O=(0,r.useCallback)(()=>{T&&P.current&&A(b),E(!1),L()},[T,b,A,L]);if(h||!f)return null;let $=`
    w-12 h-12 rounded-full shadow-lg border-2 transition-all duration-300
    flex items-center justify-center relative overflow-hidden
    hover:scale-110 active:scale-95
    ${"black"===d?"bg-bg-secondary text-text-primary border-border-primary hover:bg-bg-tertiary":"bg-bg-tertiary text-text-primary border-border-primary hover:bg-bg-secondary"}
  `;return(0,t.jsxs)("div",{ref:j,className:"fixed right-4 md:right-8 z-[9998] flex flex-col gap-3 transition-all duration-500 ease-out cursor-pointer",style:{bottom:"102px",transform:(e=w?b.x:0,n=w?b.y:0,w&&x&&!T&&(e+=40),`translate(${e}px, ${n}px)`),touchAction:"none",opacity:w?T?.8:x?.3:1:1},onClick:e=>{w&&x&&(e.stopPropagation(),L(!0))},onTouchStart:W,onTouchMove:_,onTouchEnd:O,onMouseEnter:()=>{w&&x&&L(!0)},children:[(0,t.jsx)("button",{onClick:()=>{if(P.current||w&&(x||R.current))return;let e=document.querySelector("[data-docs-content]");e?e.scrollTo({top:0,behavior:"smooth"}):window.scrollTo({top:0,behavior:"smooth"})},className:`${$} ${p?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-label":"回到顶部",children:(0,t.jsx)(l,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})}),(0,t.jsx)("button",{onClick:()=>{P.current||w&&(x||R.current)||m("black"===d?"white":"black")},className:$,"aria-label":"切换主题",children:"black"===d?(0,t.jsx)(o,{className:"w-5 h-5",style:{color:"var(--text-primary)"}}):(0,t.jsx)(a,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]})}e.s(["default",()=>u],32484)},96821,e=>{"use strict";var t=e.i(71645),r=e.i(18566),s=e.i(9165);let i={"/":"home","/social-feed":"social-feed","/notes":"notes","/navigation":"navigation","/galleries":"galleries","/services":"services","/messages":"messages","/docs":"docs"};function n(){let e=(0,r.usePathname)(),n=(0,t.useRef)("");return(0,t.useEffect)(()=>{if(n.current===e)return;let t=function(e){if(e.startsWith("/admins"))return null;if(i[e])return i[e];for(let[t,r]of Object.entries(i))if("/"!==t&&e.startsWith(t))return r;return null}(e);if(!t)return;let r=()=>{(0,s.recordPageVisit)(t,e),n.current=e},a=null,o=null;return"requestIdleCallback"in window?a=window.requestIdleCallback(r,{timeout:3e3}):o=setTimeout(r,1e3),()=>{null!==a&&"cancelIdleCallback"in window&&window.cancelIdleCallback(a),null!==o&&clearTimeout(o)}},[e]),null}e.s(["default",()=>n])}]);