(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},75254,e=>{"use strict";var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},s=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,t.forwardRef)(({color:e="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:n,className:o="",children:l,iconNode:c,...u},d)=>(0,t.createElement)("svg",{ref:d,...a,width:r,height:r,stroke:e,strokeWidth:n?24*Number(i)/Number(r):i,className:s("lucide",o),...!l&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(u)&&{"aria-hidden":"true"},...u},[...c.map(([e,r])=>(0,t.createElement)(e,r)),...Array.isArray(l)?l:[l]])),n=(e,a)=>{let n=(0,t.forwardRef)(({className:n,...o},l)=>(0,t.createElement)(i,{ref:l,iconNode:a,className:s(`lucide-${r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,n),...o}));return n.displayName=r(e),n};e.s(["default",()=>n],75254)},37727,e=>{"use strict";let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],37727)},18566,(e,t,r)=>{t.exports=e.r(76562)},98348,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let a=(0,r.createContext)(void 0);function i({children:e}){let[i,n]=(0,r.useState)(null),[o,l]=(0,r.useState)(!0),c=(0,r.useRef)(!1),u=async()=>{try{if(!localStorage.getItem("token")){n(null),l(!1);return}let e=await (0,s.getCurrentUser)();n(e)}catch{n(null)}finally{l(!1)}};(0,r.useEffect)(()=>{c.current||(c.current=!0,u())},[]);let d=async()=>{l(!0),await u()};return(0,t.jsx)(a.Provider,{value:{user:i,isLoading:o,isAuthenticated:!!i,refreshUser:d,setUser:n,logout:()=>{localStorage.removeItem("token"),n(null)}},children:e})}function n(){let e=(0,r.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}e.s(["AuthProvider",()=>i,"useAuth",()=>n])},86034,e=>{"use strict";var t=e.i(21854);let r="admins";e.s(["getAdminRoute",0,(e="")=>((e="")=>{let t=e.startsWith("/")?e.slice(1):e;return`/${r}${t?`/${t}`:""}`})(e),"getApiUrl",0,()=>(0,t.getRuntimeConfig)().apiUrl,"isAdminPage",0,e=>!e.startsWith("/note/")&&e.startsWith(`/${r}`)])},75157,e=>{"use strict";class t{storage=null;prefix="xs-blog-cache:";defaultTTL=3e5;pendingRequests=new Map;pendingTimeout=3e4;constructor(){try{this.storage=window.sessionStorage}catch(e){console.warn("SessionStorage 不可用，缓存功能已禁用")}}async getCacheTTL(){try{let e=this.storage?.getItem("xs-blog-cache:settings");if(e){let t=JSON.parse(e),r=parseInt(t.cacheTime||"5");if(!isNaN(r)&&r>=0)return 60*r*1e3}}catch(e){}return this.defaultTTL}updateCacheTTL(e){if(this.storage)try{this.storage.setItem("xs-blog-cache:settings",JSON.stringify({cacheTime:e}))}catch(e){console.error("更新缓存配置失败:",e)}}getCacheKey(e){return`${this.prefix}${e}`}async set(e,t,r){if(this.storage)try{let s=void 0!==r?r:await this.getCacheTTL();if(0===s)return;let a={data:t,timestamp:Date.now(),ttl:s},i=this.getCacheKey(e);this.storage.setItem(i,JSON.stringify(a))}catch(e){console.warn("缓存设置失败:",e)}}get(e){if(!this.storage)return null;try{let t=this.getCacheKey(e),r=this.storage.getItem(t);if(!r)return null;let s=JSON.parse(r);if(Date.now()-s.timestamp>s.ttl)return this.storage.removeItem(t),null;return s.data}catch(e){return console.warn("读取缓存失败:",e),null}}async dedupeRequest(e,t){let r=Date.now(),s=this.pendingRequests.get(e);if(s)if(r-s.timestamp<this.pendingTimeout)return s.promise;else this.pendingRequests.delete(e);let a=t().then(t=>(this.pendingRequests.delete(e),t)).catch(t=>{throw this.pendingRequests.delete(e),t});return this.pendingRequests.set(e,{promise:a,timestamp:r}),a}cleanPendingRequests(){let e=Date.now(),t=[];this.pendingRequests.forEach((r,s)=>{e-r.timestamp>=this.pendingTimeout&&t.push(s)}),t.forEach(e=>{this.pendingRequests.delete(e)}),t.length}remove(e){if(this.storage)try{let t=this.getCacheKey(e);this.storage.removeItem(t)}catch(e){console.warn("删除缓存失败:",e)}}clear(){if(this.storage)try{let e=[];for(let t=0;t<this.storage.length;t++){let r=this.storage.key(t);r&&r.startsWith(this.prefix)&&e.push(r)}e.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("清除缓存失败:",e)}}clearByPrefix(e){if(this.storage)try{let t=[],r=this.getCacheKey(e);for(let e=0;e<this.storage.length;e++){let s=this.storage.key(e);s&&s.startsWith(r)&&t.push(s)}t.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("按前缀清除缓存失败:",e)}}getStats(){if(!this.storage)return{count:0,size:0};try{let e=0,t=0;for(let r=0;r<this.storage.length;r++){let s=this.storage.key(r);if(s&&s.startsWith(this.prefix)){e++;let r=this.storage.getItem(s);r&&(t+=r.length)}}return{count:e,size:t}}catch(e){return console.warn("获取缓存统计失败:",e),{count:0,size:0}}}cleanExpired(){if(this.storage)try{let e=[],t=Date.now();for(let r=0;r<this.storage.length;r++){let s=this.storage.key(r);if(s&&s.startsWith(this.prefix)){let r=this.storage.getItem(s);if(r)try{let a=JSON.parse(r);t-a.timestamp>a.ttl&&e.push(s)}catch{e.push(s)}}}e.forEach(e=>this.storage.removeItem(e))}catch(e){console.warn("清理过期缓存失败:",e)}}}let r=new t;function s(...e){return function(){for(var e,t,r=0,s="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=function e(t){var r,s,a="";if("string"==typeof t||"number"==typeof t)a+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(s=e(t[r]))&&(a&&(a+=" "),a+=s)}else for(s in t)t[s]&&(a&&(a+=" "),a+=s);return a}(e))&&(s&&(s+=" "),s+=t);return s}(e)}function a(){{let e=window.__RUNTIME_CONFIG__;if(e?.API_URL){let t=e.API_URL.trim();if(t.startsWith("/")&&!t.startsWith("//"))return"";if(t.startsWith("http://")||t.startsWith("https://"))return t.replace(/\/api$/,"")}let{protocol:t,hostname:r}=window.location,s=e?.BACKEND_PORT||"3001";return`${t}//${r}:${s}`}}function i(e){if(!e)return"";let t="string"==typeof e?e:String(e);if(t.startsWith("http://")||t.startsWith("https://"))return t;let r=a(),s=t.startsWith("/")?t:`/${t}`;return`${r}${s}`}async function n(e,t,s=!0,a){let i="GET"===(t?.method?.toUpperCase()||"GET");if(i&&s&&1){let n=r.get(e);return n?new Response(JSON.stringify(n),{status:200,headers:{"Content-Type":"application/json"}}):r.dedupeRequest(e,async()=>o(e,t,i,s,a))}return o(e,t,i,s,a)}async function o(e,t,s=!0,a=!0,i){if(e.startsWith("http://")||e.startsWith("https://")){let n=await fetch(e,t);if(s&&a&&n.ok&&1)try{let t=n.clone(),s=await t.json();await r.set(e,s,i)}catch(e){}return n}let n=await fetch(e,t);if(s&&a&&n.ok)try{let t=n.clone(),s=await t.json();await r.set(e,s,i)}catch(e){}return n}function l(e){if(!e)return"";let t="string"==typeof e?e:String(e);if(t.startsWith("http://")||t.startsWith("https://"))try{let e=new URL(t);if(e.pathname.includes("/uploads/")&&!e.pathname.includes("/uploads/Thumbnail/"))return e.pathname=e.pathname.replace("/uploads/","/uploads/Thumbnail/"),e.toString();return t}catch{return t}return t.includes("/uploads/")&&!t.includes("/uploads/Thumbnail/")?i(t.replace("/uploads/","/uploads/Thumbnail/")):i(t)}setInterval(()=>{r.cleanExpired(),r.cleanPendingRequests()},3e5),e.s(["cn",()=>s,"getApiBaseUrl",()=>a,"getFileUrl",()=>i,"getThumbnailUrl",()=>l,"safeFetch",()=>n],75157)},95987,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let a="xs_settings_cache",i="xs_settings_expire",n="xs_page_texts_cache",o="xs_page_texts_expire",l=(0,r.createContext)(void 0),c=()=>{try{localStorage.removeItem(a),localStorage.removeItem(i),localStorage.removeItem(n),localStorage.removeItem(o)}catch(e){}};function u({children:e}){let[u,d]=(0,r.useState)({}),[h,m]=(0,r.useState)(null),[f,p]=(0,r.useState)(!0),[x,b]=(0,r.useState)(!1),g=(0,r.useRef)(!1),y=async(e=!1)=>{if(!e){let e=(()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(i);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})(),t=(()=>{try{let e=localStorage.getItem(n),t=localStorage.getItem(o);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e&&Object.keys(e).length>0){d(e),b(!0),t&&m(t),p(!1),v();return}}await v()},v=async()=>{try{let[t,r]=await Promise.all([(0,s.getSettings)(),(0,s.getPageTexts)()]);if(t.success&&t.data){let e={};t.data.forEach(t=>{e[t.key]=t.value}),void 0===e.promoThemeEnabled&&(e.promoThemeEnabled="false"),void 0===e.socialFeedThemeEnabled&&(e.socialFeedThemeEnabled="false"),void 0===e.docsThemeEnabled&&(e.docsThemeEnabled="false"),d(e);try{localStorage.setItem(a,JSON.stringify(e)),localStorage.setItem(i,String(Date.now()+36e5))}catch(e){}}if(r.success&&r.data){m(r.data);var e=r.data;try{localStorage.setItem(n,JSON.stringify(e)),localStorage.setItem(o,String(Date.now()+36e5))}catch(e){}}}catch(e){console.error("Failed to load settings:",e)}finally{p(!1)}};(0,r.useEffect)(()=>{g.current||(g.current=!0,y())},[]);let w=async()=>{p(!0),c(),await y(!0)};return(0,t.jsx)(l.Provider,{value:{settings:u,pageTexts:h,isLoading:f,hasCachedData:x,refreshSettings:w},children:e})}function d(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useSettings must be used within a SettingsProvider");return e}function h(e,t=!0){let{settings:r}=d(),s=r[e];return void 0===s?t:"false"!==s}function m(e,t=""){let{settings:r}=d();return r[e]||t}e.s(["SettingsProvider",()=>u,"clearFrontendCache",0,c,"useSettingBoolean",()=>h,"useSettingString",()=>m,"useSettings",()=>d])},55436,e=>{"use strict";let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>t],55436)},16015,(e,t,r)=>{},98547,(e,t,r)=>{var s=e.i(47167);e.r(16015);var a=e.r(71645),i=a&&"object"==typeof a&&"default"in a?a:{default:a},n=void 0!==s.default&&s.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,r=t.name,s=void 0===r?"stylesheet":r,a=t.optimizeForSpeed,i=void 0===a?n:a;c(o(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof i,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=i,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,r=e.prototype;return r.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},r.isOptimizeForSpeed=function(){return this._optimizeForSpeed},r.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,r){return"number"==typeof r?e._serverSheet.cssRules[r]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),r},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},r.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},r.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},r.insertRule=function(e,t){if(c(o(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var r=this.getSheet();"number"!=typeof t&&(t=r.cssRules.length);try{r.insertRule(e,t)}catch(t){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},r.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var r="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!r.cssRules[e])return e;r.deleteRule(e);try{r.insertRule(t,e)}catch(s){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),r.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},r.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},r.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},r.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,r){return r?t=t.concat(Array.prototype.map.call(e.getSheetForTag(r).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},r.makeStyleTag=function(e,t,r){t&&c(o(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var a=document.head||document.getElementsByTagName("head")[0];return r?a.insertBefore(s,r):a.appendChild(s),s},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,t),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var u=function(e){for(var t=5381,r=e.length;r;)t=33*t^e.charCodeAt(--r);return t>>>0},d={};function h(e,t){if(!t)return"jsx-"+e;var r=String(t),s=e+r;return d[s]||(d[s]="jsx-"+u(e+"-"+r)),d[s]}function m(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var r=e+t;return d[r]||(d[r]=t.replace(/__jsx-style-dynamic-selector/g,e)),d[r]}var f=function(){function e(e){var t=void 0===e?{}:e,r=t.styleSheet,s=void 0===r?null:r,a=t.optimizeForSpeed,i=void 0!==a&&a;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:i}),this._sheet.inject(),s&&"boolean"==typeof i&&(this._sheet.setOptimizeForSpeed(i),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var r=this.getIdAndRules(e),s=r.styleId,a=r.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var i=a.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=i,this._instancesCounts[s]=1},t.remove=function(e){var t=this,r=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(r in this._instancesCounts,"styleId: `"+r+"` not found"),this._instancesCounts[r]-=1,this._instancesCounts[r]<1){var s=this._fromServer&&this._fromServer[r];s?(s.parentNode.removeChild(s),delete this._fromServer[r]):(this._indices[r].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[r]),delete this._instancesCounts[r]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],r=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return r[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,r;return t=this.cssRules(),void 0===(r=e)&&(r={}),t.map(function(e){var t=e[0],s=e[1];return i.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:r.nonce?r.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,r=e.dynamic,s=e.id;if(r){var a=h(s,r);return{styleId:a,rules:Array.isArray(t)?t.map(function(e){return m(a,e)}):[m(a,t)]}}return{styleId:h(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=a.createContext(null);function x(){return new f}function b(){return a.useContext(p)}p.displayName="StyleSheetContext";var g=i.default.useInsertionEffect||i.default.useLayoutEffect,y="undefined"!=typeof window?x():void 0;function v(e){var t=y||b();return t&&("undefined"==typeof window?t.add(e):g(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}v.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},r.StyleRegistry=function(e){var t=e.registry,r=e.children,s=a.useContext(p),n=a.useState(function(){return s||t||x()})[0];return i.default.createElement(p.Provider,{value:n},r)},r.createStyleRegistry=x,r.style=v,r.useStyleRegistry=b},37902,(e,t,r)=>{t.exports=e.r(98547).style},77624,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let a="xs_profile_cache",i="xs_profile_expire",n=(0,r.createContext)(void 0);function o({children:e}){let[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!0),d=(0,r.useRef)(!1),h=async(e=!1)=>{if(!e){let e=(()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(i);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e){l(e),u(!1),m();return}}await m()},m=async()=>{try{let e=await (0,s.getProfile)();l(e),e&&(e=>{try{localStorage.setItem(a,JSON.stringify(e)),localStorage.setItem(i,String(Date.now()+36e5))}catch(e){}})(e)}catch(e){console.error("Failed to load profile:",e),l(null)}finally{u(!1)}};(0,r.useEffect)(()=>{d.current||(d.current=!0,h())},[]);let f=async()=>{u(!0);try{localStorage.removeItem(a),localStorage.removeItem(i)}catch(e){}await h(!0)};return(0,t.jsx)(n.Provider,{value:{profile:o,isLoading:c,refreshProfile:f},children:e})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useProfile must be used within a ProfileProvider");return e}e.s(["ProfileProvider",()=>o,"useProfile",()=>l])},31823,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(9165);let a="xs_social_links_cache",i="xs_social_links_expire",n=(0,r.createContext)(void 0);function o({children:e}){let[o,l]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0),d=(0,r.useRef)(!1),h=async(e=!1)=>{if(!e){let e=(()=>{try{let e=localStorage.getItem(a),t=localStorage.getItem(i);if(e&&t&&Date.now()<parseInt(t))return JSON.parse(e)}catch(e){}return null})();if(e&&e.length>0){l(e),u(!1),m();return}}await m()},m=async()=>{try{let e=await s.default.get("/social-links?visible=true"),t=e.data?.data,r=Array.isArray(t)?t:[];l(r);try{localStorage.setItem(a,JSON.stringify(r)),localStorage.setItem(i,String(Date.now()+36e5))}catch(e){}}catch(e){console.error("Failed to load social links:",e),l([])}finally{u(!1)}};(0,r.useEffect)(()=>{d.current||(d.current=!0,h())},[]);let f=async()=>{u(!0);try{localStorage.removeItem(a),localStorage.removeItem(i)}catch(e){}await h(!0)},p=o.filter(e=>e.show_in_profile).slice(0,4);return(0,t.jsx)(n.Provider,{value:{socialLinks:o,profileSocialLinks:p,isLoading:c,refreshSocialLinks:f},children:e})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useSocialLinks must be used within a SocialLinksProvider");return e}e.s(["SocialLinksProvider",()=>o,"useSocialLinks",()=>l])},92161,e=>{"use strict";let t=(0,e.i(75254).default)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]);e.s(["Menu",()=>t],92161)},55900,e=>{"use strict";let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],55900)},75144,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(86034),a=e.i(18566);let i=(0,r.createContext)(void 0);function n(e){let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let s=r[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null}function o({children:e}){let o=(0,a.usePathname)(),l=(0,s.isAdminPage)(o),[c,u]=(0,r.useState)(()=>{try{let e=n("theme");if(e&&["white","gray","black"].includes(e))return e}catch(e){}return"black"});return(0,r.useEffect)(()=>{if(!l)try{let e=n("theme");e&&["white","gray","black"].includes(e)&&u(e)}catch(e){}},[l]),(0,r.useEffect)(()=>{if(l){document.documentElement.setAttribute("data-theme","white"),document.documentElement.classList.remove("theme-white","theme-gray","theme-black"),document.documentElement.classList.add("theme-white");return}try{!function(e,t,r=365){let s=new Date;s.setTime(s.getTime()+24*r*36e5),document.cookie=`${e}=${t};expires=${s.toUTCString()};path=/;SameSite=Lax`}("theme",c,365)}catch(e){}document.documentElement.classList.remove("theme-white","theme-gray","theme-black"),document.documentElement.classList.add(`theme-${c}`),document.documentElement.setAttribute("data-theme",c);let e="white"===c||"gray"===c?"#f8fafc":"#0F172A";document.documentElement.style.backgroundColor=e,document.body.style.backgroundColor=e},[c,l]),(0,t.jsx)(i.Provider,{value:{theme:c,setTheme:u},children:e})}function l(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}e.s(["ThemeProvider",()=>o,"useTheme",()=>l])},55535,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),a=e.i(75157);let i=["/admins/dashboard","/admins/login"];function n({children:e}){let n=(0,s.usePathname)(),[o,l]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(!1),m=i.some(e=>n?.startsWith(e));return((0,r.useEffect)(()=>{let e;if(!m)return void l(!0);let t=async()=>{try{let r=await (0,a.safeFetch)("/api/v1/x7k9m2p4",{method:"GET",cache:"no-store",headers:{Accept:"application/json"}});if(!r.ok){l(!0),u(!0),h(!0),e=setTimeout(t,18e5);return}let s=await r.json(),i=!0===s.s;l(i),u(!0),h(!1),i||(document.body.style.pointerEvents="none"),e=setTimeout(t,6e5)}catch(r){l(!0),u(!0),h(!0),e=setTimeout(t,18e5)}};return t(),()=>{e&&clearTimeout(e),document.body.style.pointerEvents="auto"}},[m,n]),c&&c&&!1===o)?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{filter:"blur(8px)",pointerEvents:"none",userSelect:"none"},children:e}),(0,t.jsx)("div",{className:"fixed inset-0 bg-black/95 backdrop-blur-xl flex items-center justify-center z-[99999] p-4",style:{pointerEvents:"auto"},children:(0,t.jsx)("div",{className:"bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl animate-fadeIn",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-20 h-20 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg",children:(0,t.jsx)("svg",{className:"w-10 h-10 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),(0,t.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-3",children:"程序错误"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8 leading-relaxed",children:"代码安全审核失败！"}),(0,t.jsx)("a",{href:(e=>{try{return atob(e)}catch{return""}})("aHR0cHM6Ly9naXRodWIuY29tL3N1MTY4ODgvWHMtYmxvZw=="),target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105",children:"访问仓库"})]})})})]}):(0,t.jsx)(t.Fragment,{children:e})}e.s(["default",()=>n])},32484,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),a=e.i(86034),i=e.i(75254);let n=(0,i.default)("moon",[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]]),o=(0,i.default)("sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var l=e.i(55900),c=e.i(75144);function u(){let e,i,u=(0,s.usePathname)();if(u.startsWith("/enterprise")||u.startsWith("/promo")||u.startsWith("/social-feed"))return null;let d=(0,a.isAdminPage)(u),{theme:h,setTheme:m}=(0,c.useTheme)(),[f,p]=(0,r.useState)(!1),[x,b]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),[v,w]=(0,r.useState)(!0),[j,S]=(0,r.useState)({x:0,y:0}),[k,N]=(0,r.useState)(!1),[_,T]=(0,r.useState)({x:0,y:0}),C=(0,r.useRef)(null),E=(0,r.useRef)(!1),I=(0,r.useRef)(null),R=(0,r.useRef)(!1),P=(0,r.useCallback)((e=!1)=>{g&&(e&&(R.current=!0,setTimeout(()=>{R.current=!1},500)),w(!1),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{w(!0)},1e3))},[g]);(0,r.useEffect)(()=>{let e=()=>{let e=window.innerWidth<768;y(e),e||w(!1)},t=()=>{p(!0),e(),window.addEventListener("resize",e);let t=localStorage.getItem("floatingButtonsPosition");if(t)try{S(JSON.parse(t))}catch(e){}};return"requestIdleCallback"in window?window.requestIdleCallback(t,{timeout:2e3}):setTimeout(t,500),()=>{window.removeEventListener("resize",e),I.current&&clearTimeout(I.current)}},[P]),(0,r.useEffect)(()=>{let e=()=>{b(window.scrollY>300)},t=e=>{b(e.detail.canScrollTop)};return window.addEventListener("scroll",e),window.addEventListener("docsPageScroll",t),()=>{window.removeEventListener("scroll",e),window.removeEventListener("docsPageScroll",t)}},[]);let F=(0,r.useCallback)(e=>{localStorage.setItem("floatingButtonsPosition",JSON.stringify(e))},[]),A=(0,r.useCallback)(e=>{if(!g)return;let t=e.touches[0];T({x:t.clientX-j.x,y:t.clientY-j.y}),N(!0),E.current=!1,P()},[g,j,P]),z=(0,r.useCallback)(e=>{if(!k||!g)return;e.preventDefault();let t=e.touches[0],r=t.clientX-_.x,s=t.clientY-_.y,a=C.current;if(a){let e=a.getBoundingClientRect();S({x:Math.max(-(window.innerWidth-e.width),Math.min(0,r)),y:Math.max(-(window.innerHeight-e.height),Math.min(0,s))}),E.current=!0}},[k,g,_]),L=(0,r.useCallback)(()=>{k&&E.current&&F(j),N(!1),P()},[k,j,F,P]);if(d||!f)return null;let $=`
    w-12 h-12 rounded-full shadow-lg border-2 transition-all duration-300
    flex items-center justify-center relative overflow-hidden
    hover:scale-110 active:scale-95
    ${"black"===h?"bg-bg-secondary text-text-primary border-border-primary hover:bg-bg-tertiary":"bg-bg-tertiary text-text-primary border-border-primary hover:bg-bg-secondary"}
  `;return(0,t.jsxs)("div",{ref:C,className:"fixed right-4 md:right-8 z-[9998] flex flex-col gap-3 transition-all duration-500 ease-out cursor-pointer",style:{bottom:"102px",transform:(e=g?j.x:0,i=g?j.y:0,g&&v&&!k&&(e+=40),`translate(${e}px, ${i}px)`),touchAction:"none",opacity:g?k?.8:v?.3:1:1},onClick:e=>{g&&v&&(e.stopPropagation(),P(!0))},onTouchStart:A,onTouchMove:z,onTouchEnd:L,onMouseEnter:()=>{g&&v&&P(!0)},children:[(0,t.jsx)("button",{onClick:()=>{if(E.current||g&&(v||R.current))return;let e=document.querySelector("[data-docs-content]");e?(e.scrollTo({top:0,behavior:"smooth"}),document.querySelectorAll("[data-docs-sidebar]").forEach(e=>{e.scrollTo({top:0,behavior:"smooth"})})):window.scrollTo({top:0,behavior:"smooth"})},className:`${$} ${x?"opacity-100":"opacity-0 pointer-events-none"}`,"aria-label":"回到顶部",children:(0,t.jsx)(l.ChevronUp,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})}),(0,t.jsx)("button",{onClick:()=>{E.current||g&&(v||R.current)||m("black"===h?"white":"black")},className:$,"aria-label":"切换主题",children:"black"===h?(0,t.jsx)(o,{className:"w-5 h-5",style:{color:"var(--text-primary)"}}):(0,t.jsx)(n,{className:"w-5 h-5",style:{color:"var(--text-primary)"}})})]})}e.s(["default",()=>u],32484)},96821,e=>{"use strict";var t=e.i(71645),r=e.i(18566),s=e.i(9165);let a={"/":"home","/social-feed":"social-feed","/notes":"notes","/navigation":"navigation","/galleries":"galleries","/services":"services","/messages":"messages","/docs":"docs"};function i(){let e=(0,r.usePathname)(),i=(0,t.useRef)("");return(0,t.useEffect)(()=>{if(i.current===e)return;let t=function(e){if(e.startsWith("/admins"))return null;if(a[e])return a[e];for(let[t,r]of Object.entries(a))if("/"!==t&&e.startsWith(t))return r;return null}(e);if(!t)return;let r=()=>{(0,s.recordPageVisit)(t,e),i.current=e},n=null,o=null;return"requestIdleCallback"in window?n=window.requestIdleCallback(r,{timeout:3e3}):o=setTimeout(r,1e3),()=>{null!==n&&"cancelIdleCallback"in window&&window.cancelIdleCallback(n),null!==o&&clearTimeout(o)}},[e]),null}e.s(["default",()=>i])},69199,e=>{"use strict";var t=e.i(18050),r=e.i(71645),s=e.i(18566),a=e.i(95987),i=e.i(86034);let n=(e,t,r=365)=>{let s=new Date;s.setTime(s.getTime()+24*r*36e5),document.cookie=`${e}=${t};expires=${s.toUTCString()};path=/`};function o(){let e=(0,s.usePathname)(),{settings:o,isLoading:l}=(0,a.useSettings)(),[c,u]=(0,r.useState)(!1),d=(0,i.isAdminPage)(e),h=o.themeColor;return((0,r.useEffect)(()=>{u(!0)},[]),(0,r.useEffect)(()=>{if(c&&!l){if(h&&n("themeColor",h),"gray"===h&&(n("theme","black"),document.documentElement.setAttribute("data-theme","black")),d){document.documentElement.style.filter="",document.body.style.filter="";return}return"gray"===h?(document.documentElement.style.filter="grayscale(100%)",document.body.style.filter="grayscale(100%)"):(document.documentElement.style.filter="",document.body.style.filter=""),()=>{document.documentElement.style.filter="",document.body.style.filter=""}}},[h,d,c,l]),!c||d||"gray"!==h)?null:(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:99999,pointerEvents:"none",backdropFilter:"grayscale(100%)",WebkitBackdropFilter:"grayscale(100%)"}})}e.s(["default",()=>o])},17257,e=>{"use strict";var t=e.i(18050),r=e.i(18566),s=e.i(95987),a=e.i(37902),i=e.i(71645),n=e.i(92161),o=e.i(37727),l=e.i(55436),c=e.i(9165),u=e.i(77624),d=e.i(31823),h=e.i(75157);let m=e=>{if(!e)return[];try{if(Array.isArray(e))return e.filter(e=>e.name&&e.url);return JSON.parse(e).filter(e=>e.name&&e.url)}catch{return[]}};function f({onSearch:e,isBlogMode:p=!0,showWapSidebar:x=!0,initialSettings:b={},hideOnMobile:g=!1}={}){let y=(0,r.usePathname)(),v=(0,r.useRouter)(),{settings:w}=(0,s.useSettings)(),{profile:j}=(0,u.useProfile)(),{profileSocialLinks:S}=(0,d.useSocialLinks)(),k=Object.keys(w).length>0?w:b,[N,_]=(0,i.useState)(()=>m(k.blogNavLinks)),[T,C]=(0,i.useState)(!1),[E,I]=(0,i.useState)(!1),[R,P]=(0,i.useState)(!1),[F,A]=(0,i.useState)(""),[z,L]=(0,i.useState)({show:!1,platform:"",content:""}),[$,O]=(0,i.useState)(!1),[W,U]=(0,i.useState)(!1),M=e=>{if(!y)return!1;let t=e.startsWith("http")?new URL(e).pathname:e;return"/"===t?"/"===y:y===t||y.startsWith(t+"/")},q=k.blogLogo||"",D=k.blogLogoText||"",B="true"===k.enableAvatarThemeSwitch;(0,i.useEffect)(()=>{let e=sessionStorage.getItem("userThemeType");if(B&&"blog"===e){let e=setTimeout(()=>{O(!0);let e=setTimeout(()=>{O(!1)},2e3);return()=>clearTimeout(e)},500);return()=>clearTimeout(e)}},[B]),(0,i.useEffect)(()=>{let e=m(k.blogNavLinks);e.length>0&&_(e)},[k.blogNavLinks]),(0,i.useEffect)(()=>{if(!p||!x)return;let e=[],t=0;if(q){let t=(0,c.getImageUrl)(q);e.push(t)}if(j?.avatar){let t=(0,c.getImageUrl)(j.avatar);e.push(t)}S.forEach(t=>{if(t.icon){let r=(0,h.getFileUrl)(t.icon);e.push(r)}if(t.qrcode){let r=(0,h.getFileUrl)(t.qrcode);e.push(r)}}),N.forEach(t=>{if(t.icon){let r=(0,c.getImageUrl)(t.icon);e.push(r)}}),e.length>0&&(e.forEach((e,r)=>{let s=new Image;s.onload=()=>{t++},s.onerror=()=>{t++},s.src=e}),setTimeout(()=>{e.length},1e4))},[p,x,q,j,S,N]),(0,i.useEffect)(()=>{if(!p||!x)return;let e=setTimeout(()=>{let e=[];q&&e.push((0,c.getImageUrl)(q)),j?.avatar&&e.push((0,c.getImageUrl)(j.avatar)),e.forEach(e=>{new Image().src=e})},100);return()=>clearTimeout(e)},[]);let J=e=>{e.startsWith("http")?window.open(e,"_blank"):v.push(e),C(!1)},[X,Y]=(0,i.useState)(!1),[K,H]=(0,i.useState)(null),[G,Z]=(0,i.useState)(!1),[V,Q]=(0,i.useState)(null),[ee,et]=(0,i.useState)(!1),[er,es]=(0,i.useState)(!1),[ea,ei]=(0,i.useState)(null),en=()=>{Y(!1),H(null)},eo=()=>{Z(!1),et(!1),Q(null)},el=()=>{es(!1),ei(null)},ec=async()=>{if(V)try{await navigator.clipboard.writeText(V.account),et(!0),setTimeout(()=>et(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},eu=async e=>{let t=sessionStorage.getItem("userThemeType");B&&"blog"===t&&(e.preventDefault(),U(!0),await new Promise(e=>setTimeout(e,800)),sessionStorage.removeItem("userThemeType"),sessionStorage.removeItem("userShowSiteNav"),sessionStorage.removeItem("userShowNotes"),window.location.href="/")};return(0,t.jsxs)("nav",{className:`jsx-e49ebe07cc8bcae3 bg-bg-primary shadow-sm border-b border-border-primary fixed top-0 left-0 right-0 z-[9999] ${g?"hidden lg:block":""}`,children:[W&&(0,t.jsx)("div",{style:{backdropFilter:"blur(0px)",animation:"blur-fade 0.8s ease-out forwards"},className:"jsx-e49ebe07cc8bcae3 fixed inset-0 z-[10000] pointer-events-none"}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 max-w-6xl mx-auto px-4",children:[(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex justify-between items-center h-16",children:[(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 relative",children:[(0,t.jsxs)("a",{href:"/",onClick:eu,className:`jsx-e49ebe07cc8bcae3 flex items-center gap-3 cursor-pointer hover:opacity-80 transition-opacity ${W?"logo-fading":""}`,children:[q&&(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 flex-shrink-0",children:(0,t.jsx)("img",{src:(0,c.getImageUrl)(q),alt:"Logo",style:{height:"40px"},onError:e=>{e.target.style.display="none"},className:"jsx-e49ebe07cc8bcae3 h-10 w-auto max-w-xs object-contain"})}),D?(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 text-xl font-bold text-text-primary",children:D}):!q&&(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 text-xl font-bold text-text-primary",children:k.siteTitle||""})]}),$&&B&&(0,t.jsx)("div",{style:{animation:"tooltip-fade 2s ease-in-out forwards"},className:"jsx-e49ebe07cc8bcae3 absolute left-full ml-4 top-1/2 -translate-y-1/2 animate-fade-in pointer-events-none z-[10000]",children:(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex items-center",children:[(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 w-0 h-0 mr-2 arrow-tooltip-left"}),(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 bg-gray-800/45 dark:bg-gray-200/45 backdrop-blur-sm text-white/50 dark:text-gray-900/50 px-4 py-2 rounded-2xl whitespace-nowrap text-sm",children:"点击返回我的主页"})]})})]}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 hidden md:flex items-center space-x-8",children:[(0,t.jsx)("a",{href:"/",onClick:e=>{e.preventDefault();let t=k.themeType||"default",r="true"===k.enableAvatarThemeSwitch;"default"===t&&r?(sessionStorage.setItem("userThemeType","blog"),window.history.replaceState(null,"","/"),window.location.replace("/")):v.push("/"),C(!1)},className:`jsx-e49ebe07cc8bcae3 flex items-center gap-1.5 transition-colors duration-200 font-medium text-sm ${M("/")?"text-primary-600":"text-text-secondary hover:text-primary-600"}`,children:"首页"},"nav-home"),N.map((e,r)=>(0,t.jsxs)("a",{href:e.url,onClick:t=>{t.preventDefault(),J(e.url)},className:`jsx-e49ebe07cc8bcae3 flex items-center gap-1.5 transition-colors duration-200 font-medium text-sm ${M(e.url)?"text-primary-600":"text-text-secondary hover:text-primary-600"}`,children:[e.icon&&(0,t.jsx)("img",{src:(0,c.getImageUrl)(e.icon),alt:"",onError:e=>{e.target.style.display="none"},className:"jsx-e49ebe07cc8bcae3 w-5 h-5 object-contain"}),e.name]},`desktop-nav-${e.name}-${r}`))]}),(x||p)&&(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 md:hidden flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>P(!R),className:"jsx-e49ebe07cc8bcae3 text-text-secondary hover:text-primary-600 transition-colors duration-200",children:(0,t.jsx)(l.Search,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:()=>C(!T),className:"jsx-e49ebe07cc8bcae3 text-text-secondary hover:text-primary-600 transition-colors duration-200",children:T?(0,t.jsx)(o.X,{className:"h-6 w-6"}):(0,t.jsx)(n.Menu,{className:"h-6 w-6"})})]})]}),(x||p)&&R&&(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 md:hidden px-4 py-3 border-t border-border-primary bg-bg-secondary/50 backdrop-blur-sm",children:(0,t.jsx)("form",{onSubmit:t=>{t.preventDefault(),e&&e(F)},className:"jsx-e49ebe07cc8bcae3",children:(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 relative flex items-center",children:[(0,t.jsx)(l.Search,{className:"absolute left-3 top-0 bottom-0 my-auto w-4 h-4 text-primary-500 pointer-events-none"}),(0,t.jsx)("input",{type:"text",id:"mobile-nav-search",name:"search",placeholder:"搜索内容...",value:F,onChange:t=>{let r=t.target.value;A(r),e&&e(r)},autoComplete:"off",autoFocus:!0,className:"jsx-e49ebe07cc8bcae3 w-full h-10 pl-9 pr-9 bg-bg-primary border border-border-primary rounded-xl text-sm text-text-primary placeholder-text-tertiary focus:outline-none focus:ring-2 focus:ring-primary-500/30 focus:border-primary-500 transition-all shadow-sm"}),F&&(0,t.jsx)("button",{type:"button",onClick:()=>{A(""),e&&e("")},"aria-label":"清空搜索",className:"jsx-e49ebe07cc8bcae3 absolute right-3 top-0 bottom-0 my-auto w-5 h-5 flex items-center justify-center rounded-full bg-text-tertiary/20 text-text-tertiary hover:bg-text-tertiary/30 hover:text-text-primary transition-all",children:(0,t.jsx)(o.X,{className:"w-3 h-3"})})]})})}),(x||p)&&T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:()=>C(!1),className:"jsx-e49ebe07cc8bcae3 fixed inset-0 bg-black/50 z-[10000] md:hidden"}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 fixed top-0 left-0 h-full w-64 bg-bg-primary shadow-xl z-[10001] md:hidden flex flex-col border-r border-border-primary",children:[(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex-shrink-0 relative flex items-center justify-center h-16 px-4 border-b border-border-primary",children:[(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex items-center gap-2",children:[q&&(0,t.jsx)("img",{src:(0,c.getImageUrl)(q),alt:"Logo",className:"jsx-e49ebe07cc8bcae3 h-8 w-auto object-contain"}),D&&(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 text-lg font-bold text-text-primary",children:D}),!q&&!D&&(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 text-lg font-bold text-text-primary",children:k.siteTitle||""})]}),(0,t.jsx)("button",{onClick:()=>C(!1),className:"jsx-e49ebe07cc8bcae3 absolute right-4 text-text-secondary hover:text-primary-600 transition-colors",children:(0,t.jsx)(o.X,{className:"h-6 w-6"})})]}),p&&j&&(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex-shrink-0 px-4 py-4 border-b border-border-primary",children:[(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 flex justify-center mb-3",children:j.avatar?(0,t.jsx)("img",{src:(0,c.getImageUrl)(j.avatar),alt:j.name||"头像",className:"jsx-e49ebe07cc8bcae3 w-16 h-16 rounded-full object-cover border-2 border-border-primary"}):(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 w-16 h-16 rounded-full bg-gradient-to-br from-primary-400 to-primary-600 flex items-center justify-center text-white text-xl font-bold border-2 border-border-primary",children:j.name?.[0]||"X"})}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 text-center mb-3",children:[(0,t.jsx)("h3",{className:"jsx-e49ebe07cc8bcae3 text-base font-semibold text-text-primary",children:j.name||""}),j.title&&(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-xs text-text-secondary mt-1",children:j.title}),j.bio&&(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-xs text-text-tertiary mt-2 line-clamp-2",children:j.bio})]}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex flex-col items-center space-y-1.5 mb-3",children:[j.location&&(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex items-center text-xs text-text-tertiary",children:[(0,t.jsxs)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e49ebe07cc8bcae3 w-3 h-3 mr-1.5 flex-shrink-0",children:[(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z",className:"jsx-e49ebe07cc8bcae3"}),(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z",className:"jsx-e49ebe07cc8bcae3"})]}),(0,t.jsx)("span",{className:"jsx-e49ebe07cc8bcae3 truncate max-w-[180px]",children:j.location})]},"location"),j.email&&(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex items-center text-xs text-text-tertiary",children:[(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e49ebe07cc8bcae3 w-3 h-3 mr-1.5 flex-shrink-0",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z",className:"jsx-e49ebe07cc8bcae3"})}),(0,t.jsx)("span",{className:"jsx-e49ebe07cc8bcae3 truncate max-w-[180px]",children:j.email})]},"email"),j.website&&(0,t.jsxs)("a",{href:j.website,target:"_blank",rel:"noopener noreferrer",className:"jsx-e49ebe07cc8bcae3 flex items-center text-xs text-primary-600 hover:text-primary-700 transition-colors",children:[(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-e49ebe07cc8bcae3 w-3 h-3 mr-1.5 flex-shrink-0",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9",className:"jsx-e49ebe07cc8bcae3"})}),(0,t.jsx)("span",{className:"jsx-e49ebe07cc8bcae3 truncate max-w-[180px]",children:j.website_title||"个人网站"})]},"website")]}),S.length>0&&(0,t.jsx)("div",{className:`jsx-e49ebe07cc8bcae3 flex items-center px-6 ${1===S.length?"justify-center":"justify-between"}`,children:S.map((e,r)=>(0,t.jsx)("a",{href:e.link||"#",target:e.link?"_blank":"_self",rel:"noopener noreferrer",onClick:t=>{e.qrcode&&""!==e.qrcode.trim()?(t.preventDefault(),H({image:e.qrcode,platform:e.platform}),Y(!0)):e.link&&""!==e.link.trim()&&"#"!==e.link?(t.preventDefault(),ei({url:e.link,platform:e.platform}),es(!0)):(t.preventDefault(),Q({account:e.account,platform:e.platform}),Z(!0))},title:`${e.platform}: ${e.account}`,className:"jsx-e49ebe07cc8bcae3 group relative flex items-center justify-center transition-all hover:scale-110 hover:opacity-80 cursor-pointer",children:e.icon&&""!==e.icon.trim()?(0,t.jsx)("div",{className:`jsx-e49ebe07cc8bcae3 flex items-center justify-center ${1===S.length?"w-8 h-8":2===S.length?"w-7 h-7":(S.length,"w-6 h-6")}`,children:(0,t.jsx)("img",{src:(0,h.getFileUrl)(e.icon),alt:e.platform,onError:e=>{e.target.style.display="none"},className:"jsx-e49ebe07cc8bcae3 w-full h-full object-contain transition-all group-hover:brightness-110 icon-themed"})}):(0,t.jsx)("div",{className:`jsx-e49ebe07cc8bcae3 rounded-full bg-primary-500/20 flex items-center justify-center text-primary-500 font-bold group-hover:bg-primary-500/30 transition-colors ${1===S.length?"w-8 h-8 text-sm":2===S.length?"w-7 h-7 text-xs":(S.length,"w-6 h-6 text-xs")}`,children:e.platform[0].toUpperCase()})},`social-${e.id||e.platform}-${r}`))})]}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex-1 overflow-y-auto px-4 py-4 space-y-2 mobile-sidebar-scrollbar text-[0.9rem]",children:[(0,t.jsx)("a",{href:"/",onClick:e=>{e.preventDefault();let t=k.themeType||"default",r="true"===k.enableAvatarThemeSwitch;"default"===t&&r?(sessionStorage.setItem("userThemeType","blog"),window.history.replaceState(null,"","/"),window.location.replace("/")):v.push("/"),C(!1)},className:`jsx-e49ebe07cc8bcae3 flex items-center gap-2 px-3 py-2 rounded-md transition-colors duration-200 font-medium ${M("/")?"text-primary-600 bg-primary-50":"text-text-secondary hover:text-primary-600 hover:bg-bg-secondary"}`,children:"首页"},"nav-home"),N.map((e,r)=>(0,t.jsxs)("a",{href:e.url,onClick:t=>{t.preventDefault(),J(e.url)},className:`jsx-e49ebe07cc8bcae3 flex items-center gap-2 px-3 py-2 rounded-md transition-colors duration-200 font-medium ${M(e.url)?"text-primary-600 bg-primary-50":"text-text-secondary hover:text-primary-600 hover:bg-bg-secondary"}`,children:[e.icon&&(0,t.jsx)("img",{src:(0,c.getImageUrl)(e.icon),alt:"",onError:e=>{e.target.style.display="none"},className:"jsx-e49ebe07cc8bcae3 w-4.5 h-4.5 object-contain flex-shrink-0"}),e.name]},`nav-${e.name}-${r}`))]})]})]})]}),z.show&&(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 fixed bottom-4 left-1/2 -translate-x-1/2 z-[10003] px-4 py-2 bg-primary-500 text-white rounded-lg shadow-lg animate-fade-in",children:["已复制",z.platform,"，内容为",z.content]}),X&&K&&(0,t.jsx)("div",{onClick:en,className:"jsx-e49ebe07cc8bcae3 fixed inset-0 z-[10002] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-e49ebe07cc8bcae3 relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",children:[(0,t.jsx)("button",{onClick:en,"aria-label":"关闭",className:"jsx-e49ebe07cc8bcae3 absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,t.jsx)(o.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 text-center",children:[(0,t.jsx)("h3",{className:"jsx-e49ebe07cc8bcae3 text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:K.platform}),(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 bg-white p-4 rounded-xl inline-block",children:(0,t.jsx)("img",{src:(0,h.getFileUrl)(K.image),alt:`${K.platform} QR Code`,className:"jsx-e49ebe07cc8bcae3 w-64 h-64 object-contain"})}),(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-sm text-gray-500 dark:text-gray-400 mt-4",children:"截图或长按保存上方二维码"})]})]})}),G&&V&&(0,t.jsx)("div",{onClick:eo,className:"jsx-e49ebe07cc8bcae3 fixed inset-0 z-[10002] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-e49ebe07cc8bcae3 relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",children:[(0,t.jsx)("button",{onClick:eo,"aria-label":"关闭",className:"jsx-e49ebe07cc8bcae3 absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,t.jsx)(o.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 text-center",children:[(0,t.jsx)("h3",{className:"jsx-e49ebe07cc8bcae3 text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:V.platform}),(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 bg-gray-50 dark:bg-gray-700 p-4 rounded-xl mb-4",children:(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-lg font-mono text-gray-900 dark:text-white break-all",children:V.account})}),(0,t.jsx)("button",{onClick:ec,className:`jsx-e49ebe07cc8bcae3 w-full py-3 px-4 rounded-lg font-medium transition-colors ${ee?"bg-green-500 text-white":"bg-primary-500 hover:bg-primary-600 text-white"}`,children:ee?"✓ 已复制":"复制账号"})]})]})}),er&&ea&&(0,t.jsx)("div",{onClick:el,className:"jsx-e49ebe07cc8bcae3 fixed inset-0 z-[10002] flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"jsx-e49ebe07cc8bcae3 relative bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-6 max-w-sm w-full",children:[(0,t.jsx)("button",{onClick:el,"aria-label":"关闭",className:"jsx-e49ebe07cc8bcae3 absolute top-4 right-4 p-2 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:(0,t.jsx)(o.X,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 text-center",children:[(0,t.jsx)("h3",{className:"jsx-e49ebe07cc8bcae3 text-xl font-bold text-gray-900 dark:text-white mb-4 capitalize",children:ea.platform}),(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-gray-600 dark:text-gray-300 mb-4",children:"是否跳转到以下链接？"}),(0,t.jsx)("div",{className:"jsx-e49ebe07cc8bcae3 bg-gray-50 dark:bg-gray-700 p-3 rounded-xl mb-4",children:(0,t.jsx)("p",{className:"jsx-e49ebe07cc8bcae3 text-sm font-mono text-gray-900 dark:text-white break-all",children:ea.url})}),(0,t.jsxs)("div",{className:"jsx-e49ebe07cc8bcae3 flex gap-3",children:[(0,t.jsx)("button",{onClick:el,className:"jsx-e49ebe07cc8bcae3 flex-1 py-3 px-4 rounded-lg font-medium transition-colors bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-800 dark:text-white",children:"取消"}),(0,t.jsx)("button",{onClick:()=>{ea&&window.open(ea.url,"_blank","noopener,noreferrer"),el()},className:"jsx-e49ebe07cc8bcae3 flex-1 py-3 px-4 rounded-lg font-medium transition-colors bg-primary-500 hover:bg-primary-600 text-white",children:"确认跳转"})]})]})]})}),(0,t.jsx)(a.default,{id:"e49ebe07cc8bcae3",children:".mobile-sidebar-scrollbar.jsx-e49ebe07cc8bcae3{scrollbar-width:none;-ms-overflow-style:none}.mobile-sidebar-scrollbar.jsx-e49ebe07cc8bcae3::-webkit-scrollbar{display:none}.arrow-tooltip-left.jsx-e49ebe07cc8bcae3{filter:opacity();border-top:8px solid #0000;border-bottom:8px solid #0000;border-right:8px solid #1f293773}.dark .arrow-tooltip-left.jsx-e49ebe07cc8bcae3{border-right-color:#e5e7eb73}.logo-fading.jsx-e49ebe07cc8bcae3{animation:.8s ease-out forwards logo-fade-out}@keyframes logo-fade-out{0%{opacity:1;filter:blur()}to{opacity:0;filter:blur(10px)}}@keyframes blur-fade{0%{-webkit-backdrop-filter:blur();backdrop-filter:blur();opacity:0}50%{opacity:1}to{-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);opacity:1}}@keyframes tooltip-fade{0%{opacity:0;transform:translate(-10px)translateY(-50%)}10%{opacity:1;transform:translate(0)translateY(-50%)}90%{opacity:1;transform:translate(0)translateY(-50%)}to{opacity:0;transform:translate(10px)translateY(-50%)}}"})]})}function p({serverSettings:e={}}){let a=(0,r.usePathname)(),{settings:n,isLoading:o}=(0,s.useSettings)(),[l,c]=(0,i.useState)(""),[u,d]=(0,i.useState)(null),h=(0,i.useMemo)(()=>!o&&Object.keys(n).length>0?n:{...e,...n},[n,e,o]),m=["/notes","/navigation","/galleries","/services","/messages"].some(e=>a?.startsWith(e)),p=a?.startsWith("/docs"),x="/"===a;(0,i.useEffect)(()=>{d(sessionStorage.getItem("userThemeType"))},[]);let b="true"===h.promoThemeEnabled,g="true"===h.socialFeedThemeEnabled,y="true"===h.docsThemeEnabled,v=x&&(b||g||y),w="true"===h.enableAvatarThemeSwitch,j=h.themeType||"default",S=j;"default"===j&&w&&"blog"===u&&(S="blog");let k="blog"===S,N="false"!==h.showTopNavbar,_="false"!==h.showWapSidebar,T=x&&!v&&(k||N),C=p&&"/docs"!==a;if(m||p);else if(!x)return null;else if(!(Object.keys(e).length>0)&&o||v||!T)return null;return(0,t.jsx)(f,{onSearch:e=>{c(e),window.dispatchEvent(new CustomEvent("globalSearch",{detail:e}))},isBlogMode:!!m||!!p||k,showWapSidebar:_,initialSettings:h,hideOnMobile:C})}e.s(["default",()=>p],17257)}]);