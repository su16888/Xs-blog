# Xs-Blog å®Œæ•´éƒ¨ç½²æŒ‡å—



æ¬¢è¿ä½¿ç”¨ Xs-Blog ä¸ªäººä¸»é¡µç³»ç»Ÿï¼æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å¿«é€Ÿå®Œæˆç³»ç»Ÿéƒ¨ç½²ã€‚


---

## ğŸ“‹ éƒ¨ç½²å‰å‡†å¤‡

### ç¯å¢ƒè¦æ±‚

|   è½¯ä»¶   |       ç‰ˆæœ¬è¦æ±‚       |       è¯´æ˜       |
| -------- | ------------------- | ---------------- |
| Node.js | >= 18.0.0           | å®‰è£…pm2ã€npmæ¨¡å— |
| MySQL    | >= 5.6              | æˆ–SQLiteã€PostgreSQL         |
| æ“ä½œç³»ç»Ÿ | Windows/Linux/macOS | linuxå»ºè®®Ubuntu  |

### æ£€æŸ¥ç¯å¢ƒ

```bash
# æ£€æŸ¥ Node.js ç‰ˆæœ¬
node --version

# æ£€æŸ¥ npm ç‰ˆæœ¬
npm --version

# æ£€æŸ¥ MySQL ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰
mysql --version

# æ£€æŸ¥ PostgreSQL ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰
psql --version
```

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆ5æ­¥å®Œæˆï¼‰

### ç¬¬ 1 æ­¥ï¼šè·å–æºç 

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/su16888/Xs-blog.git
cd Xs-blog

# æˆ–ä¸‹è½½è§£å‹åè¿›å…¥ç›®å½•
cd Xs-blog
```

### ç¬¬ 2 æ­¥ï¼šåˆå§‹åŒ–æ•°æ®åº“

#### MySQL æ–¹å¼ (æ¨è)

```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE xsblog888 CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# å¯¼å…¥æ•°æ®åº“ç»“æ„
mysql -u root -p xsblog888 < database/install.sql
```

#### SQLite æ–¹å¼ (è½»é‡çº§)

```bash
# åˆ›å»ºæ•°æ®åº“ç›®å½•
mkdir -p backend/database

# åˆå§‹åŒ–æ•°æ®åº“
sqlite3 backend/database/xsblog.db < database/install-sqlite.sql
```

#### PostgreSQL æ–¹å¼ (ä¼ä¸šçº§)

```bash
# è¿æ¥åˆ° PostgreSQL
psql -U postgres

# åˆ›å»ºæ•°æ®åº“
CREATE DATABASE xsblog WITH ENCODING 'UTF8';

# åˆ›å»ºç”¨æˆ·å¹¶æˆæƒ
CREATE USER xsblog_user WITH PASSWORD 'your_password';
GRANT ALL PRIVILEGES ON DATABASE xsblog TO xsblog_user;

# é€€å‡º
\q

# å¯¼å…¥æ•°æ®åº“ç»“æ„
psql -U xsblog_user -d xsblog -f database/install.sql
```

âœ… **å®Œæˆå**ï¼šæ•°æ®åº“å·²åˆ›å»ºï¼ŒåŒ…å«é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼ˆadmin/admin123ï¼‰

---

### ç¬¬ 3 æ­¥ï¼šé…ç½®åç«¯

```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# å¤åˆ¶é…ç½®æ–‡ä»¶
cp .env.example .env
```

**ç¼–è¾‘é…ç½®æ–‡ä»¶ï¼š**

Windows ç”¨æˆ·ï¼š
```cmd
notepad .env
```

Linux/Mac ç”¨æˆ·ï¼š
```bash
nano .env
```

**å¿…é¡»ä¿®æ”¹çš„é…ç½®é¡¹ï¼š**

```bash
# æ•°æ®åº“é…ç½® (MySQL)
DB_HOST=localhost
DB_PORT=3306
DB_NAME=xsblog888
DB_USER=root
DB_PASSWORD=ä½ çš„MySQLå¯†ç 

# æ•°æ®åº“é…ç½® (SQLiteï¼Œä¸‰é€‰ä¸€)
DB_TYPE=sqlite
DB_PATH=./database/xsblog.db

# æ•°æ®åº“é…ç½® (PostgreSQLï¼Œä¸‰é€‰ä¸€)
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=xsblog
DB_USER=xsblog_user
DB_PASSWORD=your_PostgreSQL_password

# åº”ç”¨é…ç½®
PORT=3001
NODE_ENV=production

# JWT å¯†é’¥ (å¿…é¡»ä¿®æ”¹ï¼Œè‡³å°‘32ä½)
JWT_SECRET=è¯·è¿è¡Œå‘½ä»¤ç”Ÿæˆéšæœºå¯†é’¥

# CORS é…ç½® (å‰åç«¯åŒæœåŠ¡å™¨ç•™ç©º)
CORS_ORIGIN=

# æ–‡ä»¶ä¸Šä¼ è·¯å¾„
UPLOAD_PATH=./uploads

# æˆæƒé…ç½®ï¼ˆå¿…å¡«ï¼‰
AUTH_CODE=å‘ä½œè€…å…è´¹ç´¢è¦æˆæƒç 
```

**ç”Ÿæˆéšæœºå¯†é’¥**ï¼š

```bash
node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
```

âœ… **å®Œæˆå**ï¼šåç«¯é…ç½®å®Œæˆ

---

### ç¬¬ 4 æ­¥ï¼šé…ç½®å‰ç«¯

```bash
cd ../frontend

# å®‰è£…ä¾èµ–
npm install
```
**é…ç½®ç¯å¢ƒå˜é‡** (`frontend/.env.production`)ï¼š
```bash
# ç«¯å£é…ç½®
PORT=3000

# API åœ°å€é…ç½® (æ–¹å¼ä¸€ï¼šè‡ªåŠ¨æ£€æµ‹ï¼Œæ¨è)
NEXT_PUBLIC_BACKEND_PORT=3001

# API åœ°å€é…ç½® (æ–¹å¼äºŒï¼šå®Œæ•´åœ°å€ï¼Œå‰åç«¯åˆ†ç¦»)
NEXT_PUBLIC_API_URL=http://åç«¯æœåŠ¡å™¨IP:3001/api
```

âœ… **å®Œæˆå**ï¼šå‰ç«¯é…ç½®å®Œæˆ

**icoå›¾æ ‡æ›¿æ¢** `frontend/public/favicon.ico`

---

### ç¬¬ 5 æ­¥ï¼šå¯åŠ¨æœåŠ¡


#### ç”Ÿäº§ç¯å¢ƒï¼ˆæœåŠ¡å™¨éƒ¨ç½²ï¼‰

**å®‰è£… PM2ï¼š**
```bash
npm install -g pm2
```

**å¯åŠ¨åç«¯ï¼š**
```bash
cd backend
mkdir -p logs
pm2 start ecosystem.config.js
```

**å¯åŠ¨å‰ç«¯ï¼š**
```bash
cd ../frontend
mkdir -p logs
pm2 start ecosystem.config.js
```

**ä¿å­˜é…ç½®ï¼ˆå¼€æœºè‡ªå¯ï¼‰ï¼š**
```bash
pm2 save
pm2 startup
```

âœ… **å®Œæˆå**ï¼šæœåŠ¡å·²å¯åŠ¨

---

### ç¬¬ 6 æ­¥ï¼šè®¿é—®ç³»ç»Ÿ

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

- ğŸ  **å‰å°é¦–é¡µ**: http://localhost:3000
- ğŸ” **ç®¡ç†åå°**: http://localhost:3000/admins

**é»˜è®¤ç®¡ç†å‘˜è´¦å·ï¼š**
- ç”¨æˆ·åï¼š`admin`
- å¯†ç ï¼š`admin123`

âš ï¸ **å®‰å…¨æç¤º**ï¼šé¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç ï¼

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
xs-blog/
â”œâ”€â”€ backend/                     # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ app.js              # åº”ç”¨å…¥å£
â”‚   â”‚   â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ config.js       # åº”ç”¨é…ç½®
â”‚   â”‚   â”‚   â””â”€â”€ database.js     # æ•°æ®åº“é…ç½®
â”‚   â”‚   â”œâ”€â”€ controllers/        # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”œâ”€â”€ middlewares/        # ä¸­é—´ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ auth.js         # èº«ä»½éªŒè¯
â”‚   â”‚   â”‚   â”œâ”€â”€ errorHandler.js # é”™è¯¯å¤„ç†
â”‚   â”‚   â”‚   â””â”€â”€ security.js     # å®‰å…¨é˜²æŠ¤
â”‚   â”‚   â”œâ”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ routes/             # è·¯ç”±å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ services/           # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â””â”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ uploads/                # æ–‡ä»¶ä¸Šä¼ ç›®å½•
â”‚   â”œâ”€â”€ ecosystem.config.js     # PM2 é…ç½®
â”‚   â”œâ”€â”€ .integrity              # é˜²ç¯¡æ”¹/æ³¨å…¥
â”‚   â”œâ”€â”€ package.json            # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ .env.example            # ç¯å¢ƒå˜é‡
â”‚
â”œâ”€â”€ frontend/                   # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ .next/                  # é¡µé¢æ–‡ä»¶
â”‚   â”œâ”€â”€ public/                 # é™æ€èµ„æº
â”‚   â”œâ”€â”€ ecosystem.config.js     # PM2 é…ç½®
â”‚   â”œâ”€â”€ .env.production         # ç¯å¢ƒå˜é‡
â”‚   â”œâ”€â”€ package.json            # ä¾èµ–é…ç½®
â”‚   â”œâ”€â”€ .integrity              # é˜²ç¯¡æ”¹/æ³¨å…¥
â”‚   â”œâ”€â”€ tailwind.config.js      # Tailwind CSS é…ç½®
â”‚   â””â”€â”€ next.config.js          # Next.js é…ç½®
â”‚
â”œâ”€â”€ database/                   # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ install.sql             # MySQL æ•°æ®åº“ç»“æ„
â”‚   â””â”€â”€ install-sqlite.sql      # SQLite æ•°æ®åº“ç»“æ„
â”‚
â”œâ”€â”€ docs/                       # æ–‡æ¡£ç›®å½•
â”‚   â”œâ”€â”€ éƒ¨ç½²æŒ‡å—.md              
â”‚   â”œâ”€â”€ å¿«é€Ÿéƒ¨ç½²æŒ‡å—.md           
â”‚   â”œâ”€â”€ ç¯å¢ƒå˜é‡é…ç½®æŒ‡å—.md       
â”‚   â”œâ”€â”€ SQLiteæ•°æ®åº“é…ç½®æŒ‡å—.md  
â”‚   â”œâ”€â”€ Nginxç¼“å­˜é…ç½®æŒ‡å—.md     
â”‚   â”œâ”€â”€ CDNç¼“å­˜é…ç½®å»ºè®®.md       
â”‚   â”œâ”€â”€ å®å¡”é¢æ¿Nginxä¼ªé™æ€é…ç½®.md 
â”‚   â”œâ”€â”€ å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ.md      
â”‚   â””â”€â”€ åŠŸèƒ½ç‰¹æ€§.md              
â”‚   
â”œâ”€â”€ README.md                   # å…¥é—¨æ‰‹å†Œ
â””â”€â”€ LICENSE                     # è®¸å¯

```

---

## âš™ï¸ é…ç½®ä¿®æ”¹æŒ‡å—

### åœºæ™¯ä¸€ï¼šå‰åç«¯åŒæœåŠ¡å™¨éƒ¨ç½²ï¼ˆæ¨èï¼‰

#### ä¿®æ”¹åç«¯ç«¯å£

**æ­¥éª¤ 1**: ç¼–è¾‘ `backend/.env`ï¼Œä¿®æ”¹ `PORT`ï¼š

```bash
PORT=3001
```

**æ­¥éª¤ 2**: åŒæ—¶ä¿®æ”¹ `backend/.env` ä¸­çš„ `CORS_ORIGIN`ï¼ˆå¦‚æœä¹‹å‰è®¾ç½®è¿‡ï¼‰ï¼š

```bash
# ä¿æŒä¸ºç©ºå³å¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹æ–°ç«¯å£
CORS_ORIGIN=
```

**æ­¥éª¤ 3**: é‡å¯æœåŠ¡ï¼š
```bash
pm2 restart xs-blog-backend
pm2 restart xs-blog-frontend
```

âœ… **æ— éœ€ä¿®æ”¹å‰ç«¯é…ç½®**ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é€‚é…æ–°ç«¯å£ï¼

---

### åœºæ™¯äºŒï¼šå‰åç«¯åˆ†ç¦»éƒ¨ç½²

#### ä¿®æ”¹åç«¯ API åœ°å€

**æ­¥éª¤ 1**: ç¼–è¾‘ `backend/.env`ï¼Œé…ç½®å…è®¸çš„å‰ç«¯åœ°å€ï¼š

```bash
# å•ä¸ªå‰ç«¯åœ°å€
CORS_ORIGIN=https://frontend.yourdomain.com

# æˆ–å¤šä¸ªå‰ç«¯åœ°å€ï¼ˆç”¨é€—å·åˆ†éš”ï¼‰
CORS_ORIGIN=https://frontend.yourdomain.com,https://www.yourdomain.com
```

**æ­¥éª¤ 2**: ç¼–è¾‘ `frontend/.env.production`ï¼Œé…ç½®åç«¯åœ°å€ï¼š

```bash
# æ–¹å¼ä¸€ï¼šå®Œæ•´ URLï¼ˆæ¨èï¼‰
NEXT_PUBLIC_API_URL=https://backend.yourdomain.com/api

# æ–¹å¼äºŒï¼šæ‹†åˆ†é…ç½®
NEXT_PUBLIC_API_HOST=backend.yourdomain.com
NEXT_PUBLIC_API_PORT=3001
NEXT_PUBLIC_API_PROTOCOL=https
```

**æ­¥éª¤ 3**: é‡å¯æœåŠ¡ï¼š
```bash
pm2 restart xs-blog-backend
pm2 restart xs-blog-frontend
```


---

### é…ç½®ä¼˜å…ˆçº§è¯´æ˜

#### åç«¯ CORS é…ç½®ä¼˜å…ˆçº§ï¼š
1. âœ… **è®¾ç½®äº† `CORS_ORIGIN`**ï¼šä½¿ç”¨æŒ‡å®šçš„åœ°å€
2. âœ… **æœªè®¾ç½® `CORS_ORIGIN`**ï¼šè‡ªåŠ¨å…è®¸åŒåŸŸåè¯·æ±‚

#### å‰ç«¯ API é…ç½®ä¼˜å…ˆçº§ï¼š
1. âœ… **è®¾ç½®äº† `NEXT_PUBLIC_API_URL`**ï¼šä½¿ç”¨æŒ‡å®šçš„å®Œæ•´ URL
2. âœ… **è®¾ç½®äº†æ‹†åˆ†é…ç½®**ï¼šä½¿ç”¨ `NEXT_PUBLIC_API_HOST` + `PORT` + `PROTOCOL`
3. âœ… **æœªè®¾ç½®ä»»ä½•é…ç½®**ï¼šè‡ªåŠ¨ä½¿ç”¨å½“å‰åŸŸå + 3001 ç«¯å£

---

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. ç«¯å£è¢«å ç”¨

**é”™è¯¯æç¤º**ï¼š`EADDRINUSE: address already in use`

**è§£å†³æ–¹æ³•**ï¼š

Windowsï¼š
```cmd
netstat -ano | findstr :3001
taskkill /PID <è¿›ç¨‹ID> /F
```

Linux/Macï¼š
```bash
lsof -i :3001
kill -9 <è¿›ç¨‹ID>
```

æˆ–ä¿®æ”¹ç«¯å£ï¼ˆè§ä¸Šæ–¹é…ç½®ä¿®æ”¹æŒ‡å—ï¼‰

---

### 2. æ•°æ®åº“è¿æ¥å¤±è´¥

**é”™è¯¯æç¤º**ï¼š`connect ECONNREFUSED`

**æ£€æŸ¥æ¸…å•**ï¼š
- âœ… MySQL æœåŠ¡æ˜¯å¦è¿è¡Œ
- âœ… `.env` ä¸­æ•°æ®åº“é…ç½®æ˜¯å¦æ­£ç¡®
- âœ… æ•°æ®åº“ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®
- âœ… æ•°æ®åº“ `xsblog888` æ˜¯å¦å·²åˆ›å»º

**æµ‹è¯•è¿æ¥**ï¼š
```bash
mysql -u root -p -e "SHOW DATABASES;"
```

---

### 3. å‰ç«¯æ— æ³•è®¿é—®åç«¯

**æ£€æŸ¥æ¸…å•**ï¼š
- âœ… åç«¯æœåŠ¡æ˜¯å¦å·²å¯åŠ¨
- âœ… é˜²ç«å¢™æ˜¯å¦é˜»æ­¢äº†ç«¯å£
- âœ… æœåŠ¡å™¨å®‰å…¨ç»„æ˜¯å¦å¼€æ”¾ç«¯å£

**å‰åç«¯åŒæœåŠ¡å™¨éƒ¨ç½²**ï¼š
- âœ… æ£€æŸ¥ `frontend/.env.production` æ˜¯å¦ä¸ºç©ºé…ç½®ï¼ˆåº”è¯¥ä¸ºç©ºï¼Œç³»ç»Ÿè‡ªåŠ¨æ£€æµ‹ï¼‰
- âœ… æ£€æŸ¥åç«¯ `CORS_ORIGIN` æ˜¯å¦ä¸ºç©ºï¼ˆåº”è¯¥ä¸ºç©ºï¼‰

**å‰åç«¯åˆ†ç¦»éƒ¨ç½²**ï¼š
- âœ… æ£€æŸ¥ `frontend/.env.production` ä¸­ `NEXT_PUBLIC_API_URL` æ˜¯å¦æ­£ç¡®
- âœ… æ£€æŸ¥ `backend/.env` ä¸­ `CORS_ORIGIN` æ˜¯å¦åŒ…å«å‰ç«¯åœ°å€

---

### 4. PM2 è¿›ç¨‹ç®¡ç†

#### åŸºç¡€å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹çŠ¶æ€
pm2 list
pm2 ls        # ç®€å†™

# æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯
pm2 show xs-blog-backend
pm2 info xs-blog-backend

# æŸ¥çœ‹è¿›ç¨‹ç›‘æ§é¢æ¿
pm2 monit
```

#### å¯åŠ¨å’Œåœæ­¢

```bash
# å¯åŠ¨åº”ç”¨ï¼ˆæ¨èä½¿ç”¨é…ç½®æ–‡ä»¶ï¼‰
cd backend && pm2 start ecosystem.config.js
cd frontend && pm2 start ecosystem.config.js

# åœæ­¢æœåŠ¡
pm2 stop xs-blog-backend
pm2 stop all              # åœæ­¢æ‰€æœ‰

# é‡å¯æœåŠ¡
pm2 restart xs-blog-backend
pm2 restart all           # é‡å¯æ‰€æœ‰

# åˆ é™¤è¿›ç¨‹
pm2 delete xs-blog-backend
pm2 delete all            # åˆ é™¤æ‰€æœ‰
```

#### æ—¥å¿—ç®¡ç†

```bash
# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs xs-blog-backend
pm2 logs                  # æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—

# æŸ¥çœ‹æœ€è¿‘ N è¡Œæ—¥å¿—
pm2 logs xs-blog-backend --lines 100

# æ¸…ç©ºæ—¥å¿—
pm2 flush xs-blog-backend
pm2 flush                 # æ¸…ç©ºæ‰€æœ‰æ—¥å¿—

# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
pm2 logs xs-blog-backend --err

# æŸ¥çœ‹è¾“å‡ºæ—¥å¿—
pm2 logs xs-blog-backend --out
```

#### è¿›ç¨‹ç®¡ç†

```bash
# ä¿å­˜å½“å‰è¿›ç¨‹åˆ—è¡¨ï¼ˆå¼€æœºè‡ªå¯ï¼‰
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 startup
# ç„¶åæŒ‰ç…§æç¤ºæ‰§è¡Œå‘½ä»¤

# å–æ¶ˆå¼€æœºè‡ªå¯
pm2 unstartup

# æ›´æ–° PM2
pm2 update

# é‡ç½®é‡å¯æ¬¡æ•°
pm2 reset xs-blog-backend
```

---

## ğŸ”’ å®‰å…¨å»ºè®®

1. âœ… **ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç **
2. âœ… **ä½¿ç”¨å¼ºå¯†ç çš„ JWT_SECRET**ï¼ˆè‡³å°‘32ä½éšæœºå­—ç¬¦ï¼‰
3. âœ… **ç”Ÿäº§ç¯å¢ƒå¯ç”¨ HTTPS**
4. âœ… **å®šæœŸå¤‡ä»½æ•°æ®åº“**
5. âœ… **é™åˆ¶æ•°æ®åº“è¿œç¨‹è®¿é—®**
6. âœ… **é…ç½®æœåŠ¡å™¨é˜²ç«å¢™**

---

## ğŸ“ ç³»ç»Ÿä¿¡æ¯

**ç‰ˆæœ¬**: V3.2.0æ­£å¼ç‰ˆ
**å‘å¸ƒæ—¥æœŸ**: 2025-12-17

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **å¸¸è§é—®é¢˜**: æŸ¥çœ‹ docs ç›®å½•ä¸­çš„ç›¸å…³æ–‡æ¡£
- **åŠŸèƒ½ç‰¹æ€§**: è¯¦è§ `åŠŸèƒ½ç‰¹æ€§.md`
- **é¡¹ç›®ä»‹ç»**: è¯¦è§ `README.md`

---

## ğŸ¥” å®å¡”é¢æ¿éƒ¨ç½²

1. å®‰è£… Node.js 18+ å’Œ MySQL 5.6+
2. åˆ›å»ºç½‘ç«™å¹¶è®¾ç½®åå‘ä»£ç†
3. ä¸Šä¼ æºç åˆ°ç½‘ç«™ç›®å½•
4. æŒ‰ç…§å¿«é€Ÿéƒ¨ç½²æ­¥éª¤æ“ä½œ

---

## ğŸš€ Nginx åå‘ä»£ç†

```nginx
server {
    listen 80;
    server_name yourdomain.com;

    # å‰ç«¯ä»£ç†
    location / {
        proxy_pass http://127.0.0.1:3000;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
        proxy_cache_bypass $http_upgrade;
    }

    # åç«¯ API ä»£ç†
    location /api {
        proxy_pass http://127.0.0.1:3001;
        proxy_http_version 1.1;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

---

**ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼** ğŸ‰