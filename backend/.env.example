# Xs-Blog 环境变量配置

# 服务器配置
PORT=3001                                    # 后端服务端口
HOST=localhost                               # 后端服务主机地址（用于日志显示）
FRONTEND_PORT=3000                           # 前端服务端口（用于CORS自动检测）

# CORS 配置（跨域资源共享）
# ========================================
# 📌 重要说明：
# - 前后端不分离（同一服务器）：留空即可，系统自动检测
# - 前后端分离（不同服务器）：需要指定前端地址
# ========================================

# 方式一：自动检测（推荐，适用于前后端同服务器部署）
# 留空或不设置，系统会自动允许来自同一服务器的前端请求
# 例如：后端在 http://119.8.116.13:3001，自动允许 http://119.8.116.13:3000
# 例如：后端在 https://yourdomain.com:3001，自动允许 https://yourdomain.com:3000
# 如果使用反代方式，请在这里填写前端的域名或IP地址
 CORS_ORIGIN=

# 方式二：指定单个地址（适用于前后端分离部署）
# CORS_ORIGIN=http://localhost:3000

# 方式三：指定多个地址（支持多个前端域名）
# 多个地址用逗号分隔，无空格
# CORS_ORIGIN=http://119.8.116.13:3000,https://yourdomain.com,https://www.yourdomain.com

# 方式四：允许所有来源（不推荐，仅用于开发测试）
# CORS_ORIGIN=*

# 强制指定文件URL
# FILE_BASE_URL=http://localhost

# ========================================
# 💡 使用建议：
# 1. 本地开发：留空，自动检测
# 2. 服务器部署（前后端同服务器）：留空，自动检测
# 3. 服务器部署（前后端不同服务器）：指定前端完整地址
# 4. CDN 部署：指定所有可能的域名（用逗号分隔）
# ========================================

# 数据库配置
# ========================================
# 📌 支持的数据库类型：
# - mysql: MySQL 数据库（默认）
# - sqlite: SQLite 数据库（轻量级，无需安装数据库）
# - postgres: PostgreSQL 数据库
# ========================================
DB_DIALECT=mysql

# MySQL 配置（当 DB_DIALECT=mysql 时使用）
# 数据库主机地址
DB_HOST=localhost
# 数据库端口
DB_PORT=3306
# 数据库名称
DB_NAME=xsblog888
# 数据库用户名
DB_USER=root
# 数据库密码
DB_PASSWORD=your_password

# PostgreSQL 配置（当 DB_DIALECT=postgres 时使用）
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=xsblog
# DB_USER=postgres
# DB_PASSWORD=your_password

# SQLite 配置（当 DB_DIALECT=sqlite 时使用）
# DB_STORAGE=./database/xsblog.db

# JWT 配置
JWT_SECRET=your_jwt_secret_key_here          # JWT密钥（至少32字符）
JWT_EXPIRES_IN=7d                            # JWT过期时间

# 文件上传配置
UPLOAD_DIR=uploads                           # 文件存储目录
MAX_FILE_SIZE=5242880                        # 最大文件大小（字节，默认5MB）

# 版本配置
APP_VERSION=3.2.0                            # 应用版本号（请勿修改）

# 邮件配置（用于留言通知）
EMAIL_HOST=smtp.example.com                  # SMTP服务器地址
EMAIL_PORT=587                               # SMTP端口（465用SSL，587用TLS）
EMAIL_SECURE=false                           # 是否使用SSL（465端口用true）
EMAIL_USER=your-email@example.com            # 发件邮箱账号
EMAIL_PASS=your-password                     # 邮箱SMTP授权码（非登录密码）
EMAIL_FROM=Xs-Blog                           # 发件人显示名称
EMAIL_NOTIFICATION_TO=admin@example.com      # 接收通知的管理员邮箱

# 安全配置
CONFIG_ENCRYPTION_KEY=your_32_char_key       # 配置加密密钥（至少32字符，可不填）
DB_ENCRYPTION_KEY=your_32_char_key           # 数据库加密密钥（至少32字符，可不填）
BACKUP_ENCRYPTION_KEY=your_32_char_key       # 备份加密密钥（至少32字符，可不填）

# 授权配置
AUTH_CODE=                                   # 授权验证码（从授权管理后台获取，开发环境可留空）

# Redis 缓存配置（可选）
# ========================================
# 📌 配置说明：
# - 不配置 Redis：系统自动使用内存缓存（重启后缓存丢失）
# - 配置 Redis：缓存持久化，支持多实例共享
# ========================================
REDIS_HOST=127.0.0.1                         # Redis 服务器地址
REDIS_PORT=6379                              # Redis 端口
REDIS_PASSWORD=                              # Redis 密码（无密码留空）
REDIS_DB=0                                   # Redis 数据库编号（0-15）
# REDIS_URL=redis://localhost:6379           # 或使用 URL 格式（优先级更高）

# 环境配置
NODE_ENV=development                         # 运行环境（development/production）
