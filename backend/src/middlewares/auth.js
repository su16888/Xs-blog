function _0x_0x4af5(){const _0x34a1d4=['sNnVBLDLyLrVA2vUrxjYB3i','otm0nZeZAK1Zz0Pe','nM5ywxjrqW','y29UC3rYDwn0B3i','CMXjsvi','DxnLCG','mJK1nZvKvvnPsgu','C2vJCMv0','BMfTzq','6k6K6k+b5AsX6lsL','CMvWBgfJzq','DMvYAwz5','qMvHCMvYia','ANnVBG','AwvJsxe','kcGOlISPkYKRksSK','5PEG5Pwi55Qe6k6K6k+b5lUK54Mm','odeZodG3mNrewLfOzG','6k6K6k+b5lUK54Mm5BEY6l+h5PYF','mJCZmtiXmJLYwKXVsMG','yxv0Ag9YAxPHDgLVBG','nZC3otq2z2zqwhbH','ndCYq3noANrk','5PYQ5O+q5l6B6k6K6k+b5lUK54Mm','nZy2mte3swDVD3bL','yxbWBhK','sNviywi','C3rHDhvZ','ote4mdC1owHuyvrkCG','Dg9tDhjPBMC','AgvHzgvYCW','AND0'];_0x_0x4af5=function(){return _0x34a1d4;};return _0x_0x4af5();}(function(_0x350a1a,_0x7eed9b){function _0x45f8a9(_0x52e329,_0x267df2,_0x580ac8,_0x348ba6){return _0x_0x1a95(_0x580ac8-0xfd,_0x52e329);}function _0x25ba92(_0x544d88,_0x5843e0,_0x70b4f0,_0x37bc9f){return _0x_0x1a95(_0x544d88-0x267,_0x37bc9f);}const _0x4701aa=_0x350a1a();while(!![]){try{const _0x2979fb=-parseInt(_0x25ba92(0x391,0x382,0x381,0x38e))/(-0x1*0x10db+-0x1*-0x201d+-0xf41)+parseInt(_0x25ba92(0x38e,0x390,0x390,0x387))/(-0x1d35+0x2*-0xfa5+0x3c81)+-parseInt(_0x25ba92(0x39a,0x39e,0x38c,0x391))/(0xce4+0x3e6*0x2+-0x43*0x4f)+parseInt(_0x25ba92(0x38f,0x39c,0x381,0x389))/(-0x595+0xd*-0x29f+-0x2*-0x13d6)*(parseInt(_0x45f8a9(0x23b,0x245,0x235,0x238))/(-0x207c+0x17fa+0x887))+parseInt(_0x25ba92(0x39b,0x39a,0x3a4,0x3a8))/(-0x5*-0x4e1+-0x494*0x6+0x319*0x1)*(-parseInt(_0x45f8a9(0x222,0x21b,0x22b,0x21f))/(-0x1193+-0x6d6*-0x1+0xac4))+-parseInt(_0x45f8a9(0x216,0x217,0x220,0x224))/(0x1f72+-0x1b0d*-0x1+-0x3a77)+parseInt(_0x45f8a9(0x227,0x212,0x222,0x216))/(0x1*-0x2515+0x1152+0x13cc);if(_0x2979fb===_0x7eed9b)break;else _0x4701aa['push'](_0x4701aa['shift']());}catch(_0x1d201e){_0x4701aa['push'](_0x4701aa['shift']());}}}(_0x_0x4af5,-0xb*0x10b5b+0x54cb2+-0x9*-0x1e65f));const _0x_0x43f409=(function(){let _0x81c7d7=!![];return function(_0x16dc93,_0x434f14){const _0x33bef1=_0x81c7d7?function(){function _0x33bc12(_0xc34ab3,_0x97af61,_0x121c41,_0x3165f6){return _0x_0x1a95(_0x3165f6- -0x248,_0x121c41);}if(_0x434f14){const _0x1d236d=_0x434f14[_0x33bc12(-0x11f,-0x129,-0x116,-0x11d)](_0x16dc93,arguments);return _0x434f14=null,_0x1d236d;}}:function(){};return _0x81c7d7=![],_0x33bef1;};}()),_0x_0x264982=_0x_0x43f409(this,function(){function _0x2069c2(_0x546d7c,_0x21be8c,_0x5725ad,_0x564163){return _0x_0x1a95(_0x546d7c-0x3a3,_0x5725ad);}function _0x11d672(_0x2b0a51,_0x1fd0e5,_0x10df45,_0x3cbf26){return _0x_0x1a95(_0x10df45- -0x2ec,_0x2b0a51);}return _0x_0x264982[_0x2069c2(0x4d2,0x4d1,0x4dd,0x4da)]()['search'](_0x2069c2(0x4c4,0x4c5,0x4b6,0x4b5))['toString']()[_0x2069c2(0x4d8,0x4e5,0x4ce,0x4d4)](_0x_0x264982)['search'](_0x11d672(-0x1bb,-0x1d8,-0x1cb,-0x1bd));});function _0x_0x1a95(_0x44c3e0,_0x1dccec){const _0x376887=_0x_0x4af5();return _0x_0x1a95=function(_0xf0fb46,_0x25031a){_0xf0fb46=_0xf0fb46-(-0x2*0x903+0x85*0x39+-0xa7a);let _0x81c7d7=_0x376887[_0xf0fb46];if(_0x_0x1a95['mQvCSo']===undefined){var _0x16dc93=function(_0x5f3b0b){const _0xe6b5d4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x41d66f='',_0xc450b5='',_0x4b5829=_0x41d66f+_0x16dc93;for(let _0x3eb7ae=-0x7*0x61+-0x2140+0x23e7,_0x1d5249,_0x38ef1e,_0x52fcac=-0x9dc+0x2668+-0x1c8c;_0x38ef1e=_0x5f3b0b['charAt'](_0x52fcac++);~_0x38ef1e&&(_0x1d5249=_0x3eb7ae%(-0x21a+-0x1ec6+0x20e4)?_0x1d5249*(-0x10*-0xe1+-0x78d*0x1+-0x643)+_0x38ef1e:_0x38ef1e,_0x3eb7ae++%(0xaa9*-0x3+0xb77+0x1488))?_0x41d66f+=_0x4b5829['charCodeAt'](_0x52fcac+(-0x12*0xb1+-0x3e0*-0x8+0x4a1*-0x4))-(0x6f8+0x1*0x26cf+-0x2dbd)!==0x114d+-0x270d*0x1+0x15c0?String['fromCharCode'](-0x595+-0x406+0xa9a&_0x1d5249>>(-(0x8*0x473+0x26*-0x4c+0x40d*-0x6)*_0x3eb7ae&-0x2*-0x7bd+-0x10d*-0x1e+0x6b6*-0x7)):_0x3eb7ae:-0xae7+-0xfb9+-0x6*-0x470){_0x38ef1e=_0xe6b5d4['indexOf'](_0x38ef1e);}for(let _0x412ccd=0x593*0x1+0x2209+-0x279c,_0x162567=_0x41d66f['length'];_0x412ccd<_0x162567;_0x412ccd++){_0xc450b5+='%'+('00'+_0x41d66f['charCodeAt'](_0x412ccd)['toString'](0x1056*-0x1+0x894+0x7d2))['slice'](-(0x1*0xf74+0x17dc+-0x274e));}return decodeURIComponent(_0xc450b5);};_0x_0x1a95['ttphmC']=_0x16dc93,_0x44c3e0=arguments,_0x_0x1a95['mQvCSo']=!![];}const _0x434f14=_0x376887[-0x2*0xf9d+-0xb19*-0x1+0x1421],_0x33bef1=_0xf0fb46+_0x434f14,_0x1d236d=_0x44c3e0[_0x33bef1];if(!_0x1d236d){const _0x3ca829=function(_0x254cfb){this['fRLNzf']=_0x254cfb,this['kMkYGm']=[-0x7*0x313+0x1cc+0x13ba,-0x2299+0xc3a+0x165f,0x26c*0x5+0xcd4+-0x18f0],this['OxgeBe']=function(){return'newState';},this['VJktVu']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['aFHRqC']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x3ca829['prototype']['wsaJAR']=function(){const _0x46f576=new RegExp(this['VJktVu']+this['aFHRqC']),_0x3f6387=_0x46f576['test'](this['OxgeBe']['toString']())?--this['kMkYGm'][0x1391*-0x1+-0x5a0*0x2+0x1ed2]:--this['kMkYGm'][0x22b5*0x1+-0x1*0x1c65+-0x650];return this['nQOKgT'](_0x3f6387);},_0x3ca829['prototype']['nQOKgT']=function(_0xdc509c){if(!Boolean(~_0xdc509c))return _0xdc509c;return this['bfwRoj'](this['fRLNzf']);},_0x3ca829['prototype']['bfwRoj']=function(_0x2018a9){for(let _0x272f64=-0x1d4b*-0x1+0x1a52+-0x1*0x379d,_0x788c93=this['kMkYGm']['length'];_0x272f64<_0x788c93;_0x272f64++){this['kMkYGm']['push'](Math['round'](Math['random']())),_0x788c93=this['kMkYGm']['length'];}return _0x2018a9(this['kMkYGm'][0x18*0x131+0x1611+-0x32a9]);},new _0x3ca829(_0x_0x1a95)['wsaJAR'](),_0x81c7d7=_0x_0x1a95['ttphmC'](_0x81c7d7),_0x44c3e0[_0x33bef1]=_0x81c7d7;}else _0x81c7d7=_0x1d236d;return _0x81c7d7;},_0x_0x1a95(_0x44c3e0,_0x1dccec);}_0x_0x264982();const jwt=require('jsonwebtoken'),config=require('../config/config'),authMiddleware=async(_0x5f3b0b,_0xe6b5d4,_0x41d66f)=>{function _0x163a43(_0x19cd69,_0x24e2d3,_0x282fc4,_0x30b423){return _0x_0x1a95(_0x282fc4-0x31d,_0x30b423);}function _0x4bca37(_0x2d65c0,_0xaad14c,_0xc3a04e,_0x2a3740){return _0x_0x1a95(_0x2a3740- -0x6f,_0x2d65c0);}try{const _0xc450b5=_0x5f3b0b[_0x4bca37(0xbb,0xb2,0xc5,0xc1)][_0x163a43(0x44e,0x443,0x443,0x43b)]?.[_0x163a43(0x457,0x45b,0x459,0x44c)](_0x4bca37(0xb9,0xae,0xa4,0xaf),'');if(!_0xc450b5)return _0xe6b5d4['status'](-0x86b+-0x176f+0x6af*0x5)[_0x4bca37(0xb9,0xaf,0xb6,0xb0)]({'success':![],'message':_0x163a43(0x440,0x455,0x446,0x437)});const _0x4b5829=jwt[_0x4bca37(0xbd,0xae,0xa1,0xae)](_0xc450b5,config[_0x163a43(0x456,0x44b,0x44e,0x44f)][_0x163a43(0x44d,0x463,0x456,0x457)]);_0x5f3b0b[_0x163a43(0x462,0x459,0x454,0x45a)]=_0x4b5829,_0x41d66f();}catch(_0x3eb7ae){if(_0x163a43(0x44b,0x434,0x43d,0x44a)===_0x4bca37(0xb8,0xb9,0xb7,0xc7))return _0x39fabb[_0x4bca37(0xb6,0xae,0xc7,0xbe)](0x187c+-0x232*0x11+0xe67*0x1)[_0x4bca37(0xbf,0xa4,0xa4,0xb0)]({'success':![],'message':'未提供认证令牌'});else{if(_0x3eb7ae[_0x4bca37(0xd4,0xcb,0xd0,0xcb)]===_0x163a43(0x45f,0x454,0x44f,0x459))return _0xe6b5d4[_0x4bca37(0xb0,0xb6,0xba,0xbe)](0xf5a+0x67*-0x3+-0x73*0x1c)[_0x163a43(0x442,0x42f,0x43c,0x443)]({'success':![],'message':_0x4bca37(0xa8,0xb8,0xa3,0xb3)});if(_0x3eb7ae[_0x163a43(0x463,0x44d,0x457,0x458)]==='TokenExpiredError'){if(_0x4bca37(0xb9,0xba,0xc6,0xbd)!==_0x4bca37(0xc5,0xcd,0xcb,0xbd)){const _0x52fcac=_0x1504e4['apply'](_0x44ce13,arguments);return _0x6962=null,_0x52fcac;}else return _0xe6b5d4[_0x163a43(0x443,0x456,0x44a,0x450)](-0x1213+0x33*0x27+0x3*0x3f5)[_0x4bca37(0xa4,0xab,0xa4,0xb0)]({'success':![],'message':_0x4bca37(0xc0,0xa8,0xab,0xb5)});}return _0xe6b5d4['status'](-0x9*0x65+-0xcf*0x18+0x18e9)[_0x163a43(0x44a,0x42c,0x43c,0x42d)]({'success':![],'message':_0x4bca37(0xd0,0xd0,0xc8,0xcc)});}}};module['exports']=authMiddleware;