function _0x_0x15b9(_0x6c24e3,_0x1d9285){_0x6c24e3=_0x6c24e3-(-0x788*0x5+0x1*0x2125+0x671);const _0x3a240f=_0x_0x35d6();let _0x19e402=_0x3a240f[_0x6c24e3];if(_0x_0x15b9['HdDlwK']===undefined){var _0x325257=function(_0x3fdca2){const _0x59ebd8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5dd15d='',_0x3a631e='',_0x3001e5=_0x5dd15d+_0x325257;for(let _0x272c35=-0x82+0xc*-0x29+-0x26e*-0x1,_0x3dad5d,_0x2a8a5b,_0x5326f2=0x21a*0xd+0x1*0x21b2+-0x37*0x11c;_0x2a8a5b=_0x3fdca2['charAt'](_0x5326f2++);~_0x2a8a5b&&(_0x3dad5d=_0x272c35%(-0xf9a+-0x2*-0xbdb+-0x818)?_0x3dad5d*(-0x2158+-0xf5*0x1f+0x3f43)+_0x2a8a5b:_0x2a8a5b,_0x272c35++%(0x375*-0x1+0x1d1f+-0x19a6))?_0x5dd15d+=_0x3001e5['charCodeAt'](_0x5326f2+(-0x4f*0x4e+0x1f7f+-0x763))-(-0x8b*-0x5+0x5*-0x1be+0x609)!==0x1c30+0x26a5+0x3*-0x1647?String['fromCharCode'](-0xc0*-0x20+-0xaf0*0x1+-0x1*0xc11&_0x3dad5d>>(-(0x163d+0x1019+0xdf*-0x2c)*_0x272c35&0x8df+0xb*0x149+-0x16fc)):_0x272c35:0x3b7+-0x2*-0x7ab+-0x130d){_0x2a8a5b=_0x59ebd8['indexOf'](_0x2a8a5b);}for(let _0x3ab52a=0x6*0x267+-0x1039+-0x1cf*-0x1,_0x15be78=_0x5dd15d['length'];_0x3ab52a<_0x15be78;_0x3ab52a++){_0x3a631e+='%'+('00'+_0x5dd15d['charCodeAt'](_0x3ab52a)['toString'](0x1d46+-0x65*-0xb+-0x4cb*0x7))['slice'](-(-0x928*-0x1+0x13c5+-0x2a1*0xb));}return decodeURIComponent(_0x3a631e);};_0x_0x15b9['cYVQiV']=_0x325257,_0x_0x15b9['EcgVzz']={},_0x_0x15b9['HdDlwK']=!![];}const _0x5b3bfe=_0x3a240f[-0x5a9+0x25d5+-0x80b*0x4],_0x41015a=_0x6c24e3+_0x5b3bfe,_0x57721d=_0x_0x15b9['EcgVzz'][_0x41015a];if(!_0x57721d){const _0xa6aa6f=function(_0x55242d){this['WKLcgc']=_0x55242d,this['GasjZK']=[-0x22dc+0x21ca+0x5*0x37,-0x2096+0xf2c+0x8b5*0x2,-0x1*0x22a3+-0x1e61+-0xad6*-0x6],this['AteDpr']=function(){return'newState';},this['xuLCSa']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['JMELGz']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0xa6aa6f['prototype']['qbbAYE']=function(){const _0x417c26=new RegExp(this['xuLCSa']+this['JMELGz']),_0x236db3=_0x417c26['test'](this['AteDpr']['toString']())?--this['GasjZK'][-0x82*-0x9+0x8*0x265+0x17b9*-0x1]:--this['GasjZK'][-0xea7+-0xb19*-0x3+0x4a9*-0x4];return this['cKhhPr'](_0x236db3);},_0xa6aa6f['prototype']['cKhhPr']=function(_0x3372ae){if(!Boolean(~_0x3372ae))return _0x3372ae;return this['DnFeFW'](this['WKLcgc']);},_0xa6aa6f['prototype']['DnFeFW']=function(_0x56572e){for(let _0x35a9e5=-0x17*-0x13f+-0x1*-0xbce+-0xd7d*0x3,_0x1af24a=this['GasjZK']['length'];_0x35a9e5<_0x1af24a;_0x35a9e5++){this['GasjZK']['push'](Math['round'](Math['random']())),_0x1af24a=this['GasjZK']['length'];}return _0x56572e(this['GasjZK'][0x1c54+0x1d54*-0x1+0x80*0x2]);},new _0xa6aa6f(_0x_0x15b9)['qbbAYE'](),_0x19e402=_0x_0x15b9['cYVQiV'](_0x19e402),_0x_0x15b9['EcgVzz'][_0x41015a]=_0x19e402;}else _0x19e402=_0x57721d;return _0x19e402;}(function(_0x20d35f,_0x16b8a4){function _0x41327f(_0x35627a,_0x59c8aa,_0x19bdf6,_0x4b2ec1){return _0x_0x15b9(_0x19bdf6- -0x109,_0x35627a);}const _0x58eb40=_0x20d35f();function _0x55af43(_0x3ca7ac,_0xa27e97,_0x45000c,_0x377387){return _0x_0x15b9(_0x3ca7ac- -0x75,_0x377387);}while(!![]){try{const _0x3c79b9=-parseInt(_0x41327f(0x13d,0x121,0x11b,0x11f))/(0x9f0+-0x202f*-0x1+-0x2a1e)*(-parseInt(_0x41327f(0xbf,0xe9,0xf0,0xda))/(0xe5c+-0x18ac+0xa52))+-parseInt(_0x55af43(0x1c8,0x1e2,0x1bc,0x1e3))/(0x367*0x2+-0x106e+0x9a3)+-parseInt(_0x55af43(0x189,0x1af,0x166,0x17c))/(0x22a9*0x1+-0x13d*0x1f+0x1df*0x2)+parseInt(_0x41327f(0x123,0x106,0x11e,0x10a))/(-0x170f*0x1+0x110+-0x1604*-0x1)+-parseInt(_0x55af43(0x1a3,0x187,0x187,0x1b8))/(0x3*-0x21d+0x9c3*0x2+-0x3*0x463)*(parseInt(_0x41327f(0xd6,0x105,0xf2,0xfe))/(-0x1128*0x2+0x2689+0x3*-0x166))+-parseInt(_0x41327f(0xcd,0x112,0xe8,0xf8))/(-0x5de*0x2+0x1d93+-0x2f*0x61)*(-parseInt(_0x41327f(0xf7,0x104,0x128,0x10a))/(0x525*0x1+0x2040+-0x255c))+parseInt(_0x41327f(0x12d,0x13b,0x110,0x137))/(-0x13*-0x17f+0x19*0xdd+-0x31f8);if(_0x3c79b9===_0x16b8a4)break;else _0x58eb40['push'](_0x58eb40['shift']());}catch(_0x3cbebc){_0x58eb40['push'](_0x58eb40['shift']());}}}(_0x_0x35d6,0x330b5+-0x6c16e*0x1+-0x256ed*-0x3));function _0x_0x35d6(){const _0x5fecfd=['Dvn6rwW','z2v0','zgvJCNLWDfnLBNnPDgL2zurHDge','twPZAMC','ANnVBG','Dg9tDhjPBMC','5PwW5O2U5BQt6l+E5O6L5Q2J5BI4','57Y65Bcr5Ash5lU95PAh5lU25y+c5PwW','B2jQzwn0','l2fWAs9HDxrOl3jLz2LZDgvY','yxbWBhK','6zYa6kAb566H55cg5zgy5P2d6zMq','ue9tva','B3bLCMf0Aw9UCW','5PwW5O2U5BQt5OgI5Asn5AsX6lsL','C3bSAxq','C3rHDhvZ','wu9yBeW','C2vHCMnO','Dw5RBM93BG','zw5JCNLWDfnLBNnPDgL2zuzPzwXKCW','DxnLCG','yxv0AgvUDgLJyxrL','y2f0y2G','Cu5wBhy','ndHjEK1JB1K','zLnfsLa','CMf0zuXPBwL0rgf0ywjHC2vpCgvYyxrPB25Z','C3LZDgvT','ufvu','l2fWAs9Hzg1PBI9KyxrHyMfZzs9IywnRDxbZ','C3rHCNrZv2L0Aa','Bwv0Ag9K','ntCWmJz1tu1IAMe','ywrTAw4','mtGZnZaXuhjUuwfI','BgLZDejHy2T1Chm','BM93','odi0nJe2Dw12yNbd','l2fWAs9NywXSzxjPzxm','DMfeDMK','z2v0qxvKAxrmB2DZ','CM9Szq','5PwW5O2U5BQt6l+E5O6L5Qoa5P+L5AsX6lsLoG','CMvTB3rLqwrKCMvZCW','y291BNq','5PwW5O2U5BQt6l+E5O6L5BYc5BI4','yxvKAxreyxrHyMfZzvf1zxjPzxm','z0fKuem','l2fWAs9HDxrOl3bHC3n3B3jK','l2fWAs9Hzg1PBI9KyxrHyMfZzs9HDwrPDc1SB2DZ','DwHTEwi','zgf0ywjHC2vpCgvYyxrPB25dB3vUDhm','C3rHDhvZq29Kzq','CgfZC3DVCMq','l2fWAs9Hzg1PBI9Zzxr0Aw5NCY9ZmY9JB25MAwC','qvLeuwW','y29UBMvJDgLVBG','DvDtzhu','Cgf0Aa','Cg9W','AgfZAfbHC3n3B3jKCW','zw52','l2fWAs9HDxrOl3vZzxjUyw1L','nJbnqNbWENm','nJuWmdeWmhf5r0npua','refuqujbu0vFq09otKvdveLptL9fuLjpuG','Bg9Nt3bLCMf0Aw9U','zgf0ywjHC2vcywnRDxa','yw5VBNLTB3vZ','zxjYB3i','vxnLCI1bz2vUDa','zgf0ywjHC2vizwfSDgHdAgvJAW','CgfYyw1Z','tK9erv9ftLy','DgHLBG','muzVCMj3ra','ChjVzhvJDgLVBG','C29Tzq','odu2mJK1A05RyMnI','l2fWAs9Hzg1PBI9KyxrHyMfZzs9Yzxn0B3jL','l2fWAs9UB3rLCW','5Ash5lU95yIB5BU65AsX6lsL','5PwW5O2U5BQt5OgI5Asn5OIq5yQF','Dg9ju09tDhjPBMC','y2fSBa','CxvLCNK','A2v5CW','y29UC3rYDwn0B3i','mZm2ota2wMnLwevW','Bg9Nrgf0yu1VzgLMAwnHDgLVBG','AgfZAfbHC3n3B3jK','BwvZC2fNzq','r0vu','zw5JCNLWDfnLBNnPDgL2zurHDge','CMvZDg9YzujHy2T1Ca','BgfZDfjLC2v0','yM9KEq','shjIswO','l2fWAs9Hzg1PBI9KyxrHyMfZzs9IywnRDxa','l2HLywX0Ac9KyxrHyMfZzq','mteZodq1mMDgquPYsW'];_0x_0x35d6=function(){return _0x5fecfd;};return _0x_0x35d6();}const _0x_0x3ef1a8=(function(){let _0x3e401=!![];return function(_0x5c9d1d,_0x8602d0){function _0x5b2ee6(_0x1ef1c5,_0x89b1f6,_0x2a42ec,_0x14542b){return _0x_0x15b9(_0x2a42ec-0x84,_0x1ef1c5);}function _0x70a6b0(_0xdcd4a0,_0x20721d,_0x508df2,_0x3ddc5f){return _0x_0x15b9(_0x508df2- -0x1ef,_0x3ddc5f);}if(_0x5b2ee6(0x2cd,0x2eb,0x2d3,0x2b1)!==_0x70a6b0(-0x13,0xc,0x1,-0x15)){const _0x137bdb=_0x3e401?function(){function _0x3e25d2(_0xcd5d91,_0x459376,_0x2f5062,_0x2ab4e5){return _0x5b2ee6(_0x459376,_0x459376-0x1d0,_0x2ab4e5-0x11e,_0x2ab4e5-0x19b);}function _0x3f0265(_0x4d0906,_0x541f67,_0x25989f,_0x155a7b){return _0x70a6b0(_0x4d0906-0x19e,_0x541f67-0x56,_0x25989f-0xc,_0x541f67);}if('jlrvt'===_0x3f0265(-0x14,0x34,0x1d,0x11))_0x1192df[_0x3e25d2(0x3d5,0x3d7,0x3e9,0x3db)][_0x3f0265(0x1b,0x9,0x2b,0x42)]=_0x4f385d['hashPassword'](_0x17aa0a[_0x3f0265(0x52,0x4c,0x56,0x38)][_0x3f0265(0x2f,0x26,0x2b,0x2c)]);else{if(_0x8602d0){const _0x5d5ec1=_0x8602d0[_0x3f0265(0x58,0x98,0x65,0x68)](_0x5c9d1d,arguments);return _0x8602d0=null,_0x5d5ec1;}}}:function(){};return _0x3e401=![],_0x137bdb;}else{const _0x304232=_0x1b9684[_0x70a6b0(0x27,-0x1c,0xe,0x22)](),_0x30d2b5=_0x304232-_0x4b1aca;if(_0x8477cd[_0x70a6b0(0x1a,0x38,0x9,0x2f)]!=='GET'){const _0x3f4ffa=_0x427d5a[_0x70a6b0(0x5a,0x5d,0x64,0x45)]?.['id']||_0x5b2ee6(0x272,0x28d,0x2a1,0x2c4),_0x16574f=_0xd8d439['ip']||_0x50e4de[_0x5b2ee6(0x287,0x28d,0x295,0x2a4)][_0x70a6b0(0x3c,0x48,0x15,-0x8)];_0x4df866['logDataModification'](_0x52aadd[_0x70a6b0(-0x2a,0x29,0x9,-0xb)],_0x3e1928[_0x5b2ee6(0x297,0x2ae,0x297,0x2a3)][_0x70a6b0(0x2b,0x6f,0x5e,0x52)]('/')['pop']()||'unknown',_0x3f4ffa,_0x16574f,_0x4d1aaf[_0x5b2ee6(0x2bb,0x2d2,0x2a5,0x2ac)]['id'],{'duration':_0x30d2b5,'userAgent':_0x1eda14[_0x5b2ee6(0x29f,0x2d0,0x2c3,0x2d4)](_0x5b2ee6(0x2ad,0x295,0x2a3,0x283)),'statusCode':_0x4d4863[_0x5b2ee6(0x2a8,0x2aa,0x291,0x26a)]});}_0x585309[_0x5b2ee6(0x2ac,0x28d,0x2b1,0x2cd)](this,_0x12aca6);}};}()),_0x_0x9d58b2=_0x_0x3ef1a8(this,function(){function _0x37185b(_0x5070ba,_0x40df8d,_0xb2e929,_0x2f5db4){return _0x_0x15b9(_0xb2e929-0x1df,_0x5070ba);}function _0x4b157a(_0x13d902,_0x6d8fd5,_0x5273f7,_0x33405f){return _0x_0x15b9(_0x33405f-0x97,_0x13d902);}return _0x_0x9d58b2[_0x37185b(0x3f0,0x420,0x422,0x3f0)]()[_0x4b157a(0x2c8,0x311,0x2d9,0x2e7)]('(((.+)+)+)+$')['toString']()[_0x37185b(0x40f,0x42a,0x40f,0x3e7)](_0x_0x9d58b2)['search']('(((.+)+)+)+$');});_0x_0x9d58b2();const databaseEncryption=require('../utils/databaseEncryption'),databaseAudit=require('../utils/databaseAudit');exports[_0x_0x4b6a64(0x4ee,0x4e1,0x4b4,0x4b9)]=(_0xaa299a,_0x244eb0,_0x1eabe1)=>{function _0x39e743(_0x16d634,_0x2d7cb3,_0x1054ba,_0x5ae6a5){return _0x_0x4b6a64(_0x16d634,_0x1054ba- -0x6b5,_0x1054ba-0x1e4,_0x5ae6a5-0x1a9);}const _0x4a86ca=_0x244eb0['send'],_0x35ea2f=Date[_0x39e743(-0x1d0,-0x1fd,-0x1de,-0x1c2)]();_0x244eb0['send']=function(_0x2a2cde){const _0x392145=Date['now'](),_0x2a9b46=_0x392145-_0x35ea2f;function _0x32a5bb(_0x2e64d7,_0x22cc86,_0x168551,_0x3e1d5c){return _0x39e743(_0x2e64d7,_0x22cc86-0x144,_0x168551-0x5e,_0x3e1d5c-0x28);}if(_0xaa299a[_0x32a5bb(-0x173,-0x15b,-0x185,-0x172)]!==_0x32a5bb(-0x127,-0x12f,-0x148,-0x124)){const _0x2cd2de=_0xaa299a[_0x32a5bb(-0x128,-0x131,-0x12a,-0x13a)]?.['id']||_0x121012(0x117,0x106,0xf6,0xf9),_0x500aaa=_0xaa299a['ip']||_0xaa299a[_0x32a5bb(-0x153,-0x143,-0x16c,-0x139)][_0x121012(0xdd,0xbd,0x113,0xe0)];databaseAudit[_0x121012(0x11f,0x138,0x137,0x10e)](_0xaa299a[_0x32a5bb(-0x155,-0x19c,-0x185,-0x17e)],_0xaa299a[_0x32a5bb(-0x162,-0x154,-0x16a,-0x190)][_0x121012(0xf6,0x12e,0x159,0x129)]('/')[_0x32a5bb(-0x141,-0x199,-0x169,-0x15a)]()||_0x32a5bb(-0x12f,-0x10a,-0x12c,-0x137),_0x2cd2de,_0x500aaa,_0xaa299a[_0x32a5bb(-0x152,-0x137,-0x15c,-0x146)]['id'],{'duration':_0x2a9b46,'userAgent':_0xaa299a[_0x121012(0x116,0x11c,0xfe,0x11b)](_0x121012(0x106,0xc8,0x122,0xfb)),'statusCode':_0x244eb0['statusCode']});}function _0x121012(_0x7aa03c,_0x11df77,_0x503fff,_0x5a28ce){return _0x39e743(_0x11df77,_0x11df77-0x13d,_0x5a28ce-0x2b7,_0x5a28ce-0x11b);}_0x4a86ca[_0x121012(0x118,0x109,0xfd,0x109)](this,_0x2a2cde);},_0x1eabe1();},exports[_0x_0xcbbfe9(-0x33,-0x7,-0x20,-0x1e)]=(_0x3105f1,_0x5d89b6,_0x402e7b)=>{const _0xb8c0df=['/api/auth/login',_0x1f1c46(0x28c,0x276,0x257,0x248),_0x1f1c46(0x252,0x238,0x24b,0x213),_0x1f1c46(0x218,0x246,0x272,0x22e)],_0x546643=[_0x3a8e18(0xa8,0x94,0x69,0x83),'/api/admin/notes'],_0x49ab0e=[_0x1f1c46(0x20f,0x22e,0x212,0x244),'/api/admin/galleries'],_0x21aa8c=[_0x1f1c46(0x20d,0x23e,0x252,0x234),'/api/admin/settings/s3/test'];if(_0xb8c0df['some'](_0x51909f=>_0x3105f1[_0x1f1c46(0x275,0x242,0x248,0x252)]===_0x51909f)&&(_0x3105f1[_0x3a8e18(0x40,0x24,0x69,0x52)]===_0x1f1c46(0x299,0x279,0x2a7,0x258)||_0x3105f1['method']===_0x1f1c46(0x218,0x224,0x1fe,0x23b)))return _0x402e7b();if(_0x21aa8c[_0x1f1c46(0x27d,0x255,0x281,0x26f)](_0x1d8363=>_0x3105f1[_0x3a8e18(0x62,0xa0,0x4c,0x6d)]===_0x1d8363)&&_0x3105f1[_0x3a8e18(0x46,0x4d,0x78,0x52)]==='POST')return _0x402e7b();if(_0x546643[_0x3a8e18(0xb2,0x90,0x6a,0x80)](_0x2b91d3=>_0x3105f1[_0x1f1c46(0x221,0x242,0x220,0x23e)][_0x1f1c46(0x248,0x226,0x259,0x1f6)](_0x2b91d3))&&(_0x3105f1[_0x3a8e18(0x79,0x61,0x54,0x52)]===_0x3a8e18(0x9a,0x9e,0xc2,0xa4)||_0x3105f1[_0x1f1c46(0x208,0x227,0x225,0x256)]==='PUT'))return _0x402e7b();if(_0x49ab0e[_0x1f1c46(0x25e,0x255,0x285,0x265)](_0x3f64e9=>_0x3105f1['path'][_0x3a8e18(0x21,0x38,0x3e,0x51)](_0x3f64e9))&&(_0x3105f1[_0x3a8e18(0x31,0x76,0x21,0x52)]==='POST'||_0x3105f1[_0x3a8e18(0x70,0x6f,0x21,0x52)]===_0x3a8e18(0x42,0x1e,0x26,0x4f)))return _0x402e7b();function _0x3a8e18(_0x568a51,_0x4c8bc8,_0x147d47,_0x41dfe5){return _0x_0xcbbfe9(_0x41dfe5-0xc3,_0x4c8bc8-0x7e,_0x147d47,_0x41dfe5-0x93);}_0x3105f1[_0x1f1c46(0x23e,0x268,0x296,0x28f)]&&Object[_0x1f1c46(0x271,0x25e,0x26b,0x277)](_0x3105f1[_0x1f1c46(0x243,0x268,0x257,0x28c)])['length']>-0xbb4+-0x2030+0x2be4&&(_0x3105f1['originalBody']={..._0x3105f1[_0x3a8e18(0x76,0xac,0x77,0x93)]},_0x3105f1[_0x1f1c46(0x280,0x268,0x23f,0x239)]=databaseEncryption[_0x1f1c46(0x277,0x281,0x2b4,0x286)](_0x3105f1[_0x1f1c46(0x252,0x268,0x251,0x289)]));function _0x1f1c46(_0x1f267f,_0x5070ea,_0x40087c,_0x40627e){return _0x_0xcbbfe9(_0x5070ea-0x298,_0x5070ea-0x16,_0x40087c,_0x40627e-0xd7);}_0x402e7b();},exports[_0x_0xcbbfe9(-0x29,-0x44,-0x4b,-0x23)]=(_0x2ca113,_0x130374,_0x3c1db0)=>{const _0x5263be=_0x130374[_0x4c8eff(0x57f,0x572,0x580,0x583)];function _0x54316c(_0x17ae53,_0x265aba,_0x51c852,_0x1434a9){return _0x_0x4b6a64(_0x1434a9,_0x265aba- -0x16,_0x51c852-0x93,_0x1434a9-0x126);}_0x130374[_0x4c8eff(0x59b,0x551,0x582,0x583)]=function(_0x550ec8){function _0x4153b5(_0x580dc7,_0x286961,_0x35f5d4,_0x5936f0){return _0x4c8eff(_0x580dc7-0xde,_0x286961-0x8a,_0x286961,_0x580dc7- -0x31);}_0x550ec8&&typeof _0x550ec8===_0x21c313(0x78,0x9b,0x76,0x76)&&(_0x550ec8=databaseEncryption['decryptSensitiveFields'](_0x550ec8));function _0x21c313(_0xdf6df8,_0x1ac7de,_0x23dd3e,_0x533484){return _0x4c8eff(_0xdf6df8-0x4,_0x1ac7de-0x1c,_0x533484,_0x1ac7de- -0x4ec);}_0x5263be[_0x4153b5(0x53d,0x549,0x519,0x53d)](this,_0x550ec8);};function _0x4c8eff(_0x5d6d44,_0x404dbe,_0x1e0716,_0x415808){return _0x_0xcbbfe9(_0x415808-0x5aa,_0x404dbe-0xa4,_0x1e0716,_0x415808-0xa8);}_0x3c1db0();},exports[_0x_0xcbbfe9(-0x54,-0x86,-0x7d,-0x5b)]=(_0x4805f1,_0x9008e4,_0x2ce93e)=>{function _0x3235b1(_0x33191d,_0xdf5dda,_0x228ef5,_0xcb230b){return _0x_0xcbbfe9(_0x228ef5-0x3d1,_0xdf5dda-0x119,_0xdf5dda,_0xcb230b-0x49);}function _0x396b8c(_0x305cd9,_0x4867b7,_0x4ec75a,_0x1f6509){return _0x_0xcbbfe9(_0x4ec75a-0x4dd,_0x4867b7-0x85,_0x1f6509,_0x1f6509-0x105);}if(_0x4805f1['body']&&_0x4805f1[_0x396b8c(0x4d7,0x4a8,0x4ad,0x4bf)][_0x396b8c(0x498,0x4ab,0x482,0x463)]){if(_0x396b8c(0x4df,0x4ab,0x4b2,0x4b3)!==_0x396b8c(0x4d1,0x4a4,0x4b2,0x4b9))return _0x2fe473['status'](0x1cb8+0xf*-0x1e1+0x10a)[_0x3235b1(0x37a,0x37e,0x3aa,0x380)]({'success':![],'message':_0x396b8c(0x4da,0x4e0,0x4bd,0x4a1)});else _0x4805f1[_0x3235b1(0x394,0x3bd,0x3a1,0x371)][_0x3235b1(0x376,0x344,0x376,0x372)]=databaseEncryption[_0x396b8c(0x476,0x49c,0x4a7,0x4c6)](_0x4805f1['body'][_0x3235b1(0x393,0x386,0x376,0x344)]);}_0x2ce93e();},exports[_0x_0x4b6a64(0x4e3,0x4cd,0x4ab,0x4f9)]=(_0xc63fc7,_0x256fdb,_0x232fa5)=>{const _0x40f6bc=_0xc63fc7['ip']||_0xc63fc7['connection']['remoteAddress'],_0x57821d=_0xc63fc7[_0x4b8074(-0x148,-0x184,-0x168,-0x14b)];function _0x3211c9(_0x470535,_0x5b06ae,_0x31250d,_0x12b43f){return _0x_0xcbbfe9(_0x12b43f- -0xc5,_0x5b06ae-0x88,_0x470535,_0x12b43f-0x77);}const _0x456305=Date['now']();if(!global['databaseOperationCounts']){if('mAbfs'==='mAbfs')global[_0x4b8074(-0x185,-0x17e,-0x154,-0x160)]={};else return _0x3ab52a();}!global[_0x4b8074(-0x13f,-0x152,-0x154,-0x157)][_0x40f6bc]&&(global['databaseOperationCounts'][_0x40f6bc]={'count':0x0,'lastReset':_0x456305,'operations':{}});const _0x1b3227=global[_0x3211c9(-0x122,-0x112,-0xef,-0x122)][_0x40f6bc];if(_0x456305-_0x1b3227[_0x3211c9(-0xea,-0x118,-0x109,-0xf6)]>0x1842d*-0x1+-0x1b1*-0x7e+-0x1996f*-0x1){if('DSBAK'==='DSBAK')_0x1b3227[_0x4b8074(-0x174,-0x175,-0x15b,-0x183)]=-0xb78+-0xc80+0x17f8,_0x1b3227[_0x4b8074(-0xf2,-0x108,-0x115,-0x118)]={},_0x1b3227[_0x4b8074(-0x127,-0x127,-0x128,-0xfb)]=_0x456305;else return _0x5e6392[_0x3211c9(-0xd7,-0x103,-0xf0,-0xe0)](-0x25ac+0x26c+0x24d0)[_0x3211c9(-0xf1,-0xef,-0xbd,-0xec)]({'success':![],'message':_0x3211c9(-0xc4,-0xef,-0xf5,-0xe9)});}const _0x190ba8=process[_0x4b8074(-0x17c,-0x11d,-0x14a,-0x15b)][_0x3211c9(-0xe7,-0x119,-0x109,-0x10c)]===_0x3211c9(-0x120,-0xe7,-0x116,-0x109)?-0x5*-0x278+0x6af+-0x12a3:-0x1410+-0x1*-0x9c1+0xe37;if(_0x1b3227[_0x3211c9(-0x123,-0x132,-0xf8,-0x129)]>=_0x190ba8)return databaseAudit[_0x3211c9(-0x13a,-0x137,-0x119,-0x113)]('RATE_LIMIT_EXCEEDED',_0x3211c9(-0x14f,-0x13d,-0x15d,-0x13a),_0x3211c9(-0x13c,-0x12c,-0x13d,-0x111),_0x40f6bc,{'operationCount':_0x1b3227['count'],'limit':_0x190ba8,'userAgent':_0xc63fc7[_0x3211c9(-0x121,-0xff,-0x102,-0xef)](_0x3211c9(-0x112,-0x130,-0x115,-0x10f))}),_0x256fdb[_0x4b8074(-0x137,-0xf3,-0x112,-0xfd)](-0x142f+0x1*-0x2125+0x3701)[_0x3211c9(-0x100,-0xe2,-0x115,-0xec)]({'success':![],'message':'操作频率过高，请稍后再试'});_0x1b3227[_0x4b8074(-0x182,-0x13e,-0x15b,-0x170)]++;!_0x1b3227[_0x3211c9(-0xee,-0xc6,-0xe4,-0xe3)][_0x57821d]&&(_0x1b3227['operations'][_0x57821d]=0x1*-0x745+0x2*-0x90f+0x1963*0x1);function _0x4b8074(_0x516501,_0x53e66a,_0x5c2b6b,_0x181683){return _0x_0xcbbfe9(_0x5c2b6b- -0xf7,_0x53e66a-0x72,_0x53e66a,_0x181683-0x41);}_0x1b3227[_0x4b8074(-0x10d,-0x139,-0x115,-0x137)][_0x57821d]++,_0x232fa5();},exports[_0x_0x4b6a64(0x4d8,0x4fa,0x526,0x516)]=(_0x1d8c55,_0x5bebd6,_0x34cd78)=>{const {sequelize:_0x11d48b}=require('../config/database');function _0x1abde7(_0x459578,_0x119d66,_0xabb3c4,_0x4d6f48){return _0x_0xcbbfe9(_0x119d66-0x223,_0x119d66-0x183,_0x4d6f48,_0x4d6f48-0x38);}function _0x28935d(_0x358e2f,_0x503146,_0x29916f,_0x3b0bd2){return _0x_0xcbbfe9(_0x29916f- -0x6f,_0x503146-0x12d,_0x503146,_0x3b0bd2-0x12);}_0x11d48b[_0x28935d(-0xdd,-0x10e,-0xea,-0x115)]()[_0x28935d(-0xc5,-0x9c,-0xb5,-0x91)](()=>{function _0x50363f(_0x4ba6ad,_0x4cb2ed,_0x5ca4bc,_0x26695c){return _0x1abde7(_0x4ba6ad-0x6e,_0x4cb2ed-0x1ba,_0x5ca4bc-0x1b0,_0x5ca4bc);}function _0x1e4fc5(_0x557e62,_0x2abb8b,_0x199cff,_0xaf4c20){return _0x28935d(_0x557e62-0xe5,_0x557e62,_0xaf4c20-0x59a,_0xaf4c20-0x40);}if(_0x1d8c55[_0x50363f(0x393,0x387,0x376,0x37e)]===_0x50363f(0x3ab,0x3b0,0x397,0x3ce)){if(_0x50363f(0x3b4,0x384,0x37c,0x359)===_0x1e4fc5(0x4d3,0x51a,0x4d1,0x503))_0x2063e7['status'](-0x900+0x1e01*0x1+-0x130d)[_0x1e4fc5(0x4f7,0x504,0x524,0x504)]({'success':![],'message':'数据库恢复失败','error':_0x3ada56[_0x1e4fc5(0x50e,0x517,0x4d9,0x4f6)]});else return _0x5bebd6[_0x50363f(0x3ba,0x3b6,0x3bd,0x3c5)]({'success':!![],'message':_0x50363f(0x3b0,0x3b8,0x3c8,0x397),'timestamp':new Date()[_0x50363f(0x3a2,0x3a0,0x373,0x386)]()});}_0x34cd78();})['catch'](_0x37b7e1=>{console[_0x1c4c7e(0x302,0x32b,0x336,0x333)](_0x1c4c7e(0x324,0x310,0x336,0x31a),_0x37b7e1);function _0x1c4c7e(_0x263987,_0x592c77,_0x140621,_0x5b6036){return _0x1abde7(_0x263987-0x105,_0x592c77-0x153,_0x140621-0x1a0,_0x140621);}if(_0x1d8c55[_0x1c6d6e(0x28c,0x29f,0x2af,0x2d4)]===_0x1c6d6e(0x2da,0x2ea,0x2d8,0x2ca))return _0x5bebd6[_0x1c6d6e(0x2fd,0x313,0x2ea,0x30e)](0x1c5e*-0x1+-0xa74*-0x3+-0x1*0x107)[_0x1c4c7e(0x335,0x34f,0x37a,0x369)]({'success':![],'message':_0x1c4c7e(0x31d,0x313,0x2ed,0x33f),'error':_0x37b7e1['message']});function _0x1c6d6e(_0x1dad32,_0x10d9f7,_0x30d62c,_0x914cda){return _0x28935d(_0x1dad32-0x17c,_0x914cda,_0x30d62c-0x374,_0x914cda-0x111);}databaseAudit['logOperation'](_0x1c4c7e(0x311,0x327,0x30d,0x33e),_0x1c4c7e(0x2e3,0x301,0x32a,0x32c),'anonymous',_0x1d8c55['ip']||_0x1d8c55[_0x1c4c7e(0x30f,0x31e,0x32b,0x32d)][_0x1c4c7e(0x312,0x311,0x2f0,0x30a)],{'error':_0x37b7e1[_0x1c4c7e(0x360,0x341,0x31b,0x35f)],'userAgent':_0x1d8c55[_0x1c4c7e(0x31d,0x34c,0x329,0x36f)](_0x1c4c7e(0x324,0x32c,0x339,0x35d))}),_0x34cd78();});};function _0x_0xcbbfe9(_0x569391,_0xbcc318,_0x3213af,_0x2395c0){return _0x_0x15b9(_0x569391- -0x269,_0x3213af);}exports[_0x_0x4b6a64(0x51b,0x4f6,0x506,0x505)]=(_0x3fb84b,_0xdf69ff,_0x292ac5)=>{const _0x523843=require('../utils/databaseBackup');if(_0x3fb84b['path']===_0x5b133c(0x169,0x172,0x168,0x187)&&_0x3fb84b[_0xd76792(0x3ef,0x3dd,0x3fc,0x3de)]===_0x5b133c(0x17c,0x17f,0x1b1,0x196)){if(_0x5b133c(0x182,0x144,0x18a,0x157)!==_0x5b133c(0x185,0x17a,0x14e,0x157)){if(_0x2441db){const _0x18922e=_0x52d5ae[_0xd76792(0x451,0x427,0x448,0x42e)](_0x1551e5,arguments);return _0x1c9822=null,_0x18922e;}}else{if(!_0x3fb84b[_0xd76792(0x435,0x408,0x43e,0x439)]||_0x3fb84b[_0xd76792(0x422,0x436,0x456,0x439)][_0x5b133c(0x16b,0x172,0x144,0x14e)]!==_0x5b133c(0x148,0x174,0x16b,0x146))return _0xdf69ff[_0xd76792(0x407,0x437,0x439,0x434)](-0x1d*-0x101+0x2*-0x133d+-0x2bc*-0x4)[_0x5b133c(0x16d,0x186,0x1a7,0x18e)]({'success':![],'message':_0xd76792(0x427,0x41c,0x42b,0x42f)});_0x523843['createBackup'](_0x3fb84b[_0x5b133c(0x167,0x191,0x15c,0x185)])[_0x5b133c(0x193,0x15f,0x189,0x16f)](_0x29d777=>{function _0x2e8859(_0x379756,_0x4ee85c,_0x1a1686,_0x1d17fe){return _0xd76792(_0x4ee85c,_0x4ee85c-0x9c,_0x1a1686-0x97,_0x379756- -0x41b);}_0xdf69ff[_0x2e8859(0xd,0xe,0x21,-0x4)]({'success':!![],'message':'备份创建成功','backup':_0x29d777});})[_0x5b133c(0x139,0x12b,0x148,0x13b)](_0x2b4036=>{function _0x7437c0(_0x36f6f6,_0x58345d,_0x4e196c,_0x5382a2){return _0xd76792(_0x58345d,_0x58345d-0x1c7,_0x4e196c-0xc0,_0x36f6f6-0x1c6);}function _0x588930(_0x2fe5cc,_0x3ebfe2,_0x54e2bd,_0x27f236){return _0x5b133c(_0x27f236,_0x3ebfe2-0x12d,_0x54e2bd-0x19,_0x3ebfe2- -0x305);}_0xdf69ff[_0x7437c0(0x5fa,0x5d1,0x5f2,0x613)](-0x18ee+0x1439+-0x9b*-0xb)[_0x588930(-0x169,-0x177,-0x16b,-0x164)]({'success':![],'message':_0x588930(-0x16c,-0x18f,-0x19d,-0x1c2),'error':_0x2b4036[_0x588930(-0x189,-0x185,-0x17d,-0x1a2)]});});return;}}if(_0x3fb84b[_0x5b133c(0x179,0x181,0x165,0x15f)]===_0x5b133c(0x178,0x174,0x1a6,0x174)&&_0x3fb84b[_0xd76792(0x3dd,0x3f6,0x3d1,0x3de)]==='POST'){if(!_0x3fb84b['user']||_0x3fb84b[_0xd76792(0x449,0x418,0x41f,0x439)][_0x5b133c(0x175,0x158,0x170,0x14e)]!=='admin'){if(_0x5b133c(0x15f,0x14a,0x166,0x15e)!=='uWSdu'){const _0x40a26f=_0x311dcb?function(){if(_0x55458c){const _0x9ad12d=_0xb7a27d['apply'](_0x279275,arguments);return _0x5359fc=null,_0x9ad12d;}}:function(){};return _0x188e36=![],_0x40a26f;}else return _0xdf69ff[_0xd76792(0x41d,0x425,0x435,0x434)](0x1f0d*-0x1+-0xab9+-0x3*-0xe73)[_0xd76792(0x400,0x40e,0x3fd,0x428)]({'success':![],'message':'需要管理员权限'});}const {backupFile:backupFile}=_0x3fb84b[_0xd76792(0x433,0x413,0x3ff,0x41f)];if(!backupFile)return _0xd76792(0x3bf,0x3c3,0x41c,0x3ee)===_0x5b133c(0x174,0x167,0x178,0x154)?_0xdf69ff[_0xd76792(0x40d,0x401,0x408,0x434)](-0x494*-0x2+0x8e3*0x3+-0x3*0xb6b)[_0xd76792(0x3f6,0x435,0x44b,0x428)]({'success':![],'message':_0xd76792(0x423,0x3f9,0x3fe,0x42b)}):_0xa6aa6f();_0x523843[_0xd76792(0x437,0x3ee,0x433,0x41d)](backupFile,_0x3fb84b[_0x5b133c(0x15c,0x194,0x15b,0x185)])[_0x5b133c(0x19e,0x170,0x172,0x16f)](_0x1819f2=>{function _0x5b71b8(_0x450304,_0x595dbf,_0x498673,_0x3d192d){return _0x5b133c(_0x450304,_0x595dbf-0x178,_0x498673-0x15f,_0x3d192d-0x237);}function _0x3517ea(_0x4f8b58,_0x3a25d6,_0x272df4,_0x45e7ff){return _0xd76792(_0x45e7ff,_0x3a25d6-0xf,_0x272df4-0xac,_0x3a25d6- -0x54);}_0xdf69ff[_0x5b71b8(0x3cf,0x3b6,0x3f1,0x3c5)]({'success':!![],'message':_0x3517ea(0x3a5,0x3bd,0x3e6,0x3bb)});})[_0x5b133c(0x15b,0x11b,0x16c,0x13b)](_0x6c56d7=>{function _0x3516dd(_0x5bde09,_0x478167,_0x315941,_0x36da6e){return _0xd76792(_0x36da6e,_0x478167-0xe,_0x315941-0x19e,_0x5bde09- -0x5c3);}function _0x57a644(_0x929e33,_0x2406e1,_0x263741,_0x8dbc9c){return _0x5b133c(_0x2406e1,_0x2406e1-0x1bb,_0x263741-0xaf,_0x929e33- -0x174);}_0xdf69ff[_0x57a644(0x26,0x17,0x1c,0x17)](-0x23fd*0x1+0x9f*0x31+0x782)[_0x3516dd(-0x19b,-0x1bc,-0x17e,-0x1a3)]({'success':![],'message':_0x3516dd(-0x191,-0x1aa,-0x1b8,-0x1b9),'error':_0x6c56d7[_0x3516dd(-0x1a9,-0x182,-0x1bf,-0x179)]});});return;}function _0xd76792(_0xa0d500,_0x1e88ac,_0x3a9d7c,_0x5cdbb9){return _0x_0x4b6a64(_0xa0d500,_0x5cdbb9- -0xf4,_0x3a9d7c-0xa6,_0x5cdbb9-0x196);}function _0x5b133c(_0x3b92ae,_0x37e77b,_0xef7b21,_0x56d259){return _0x_0xcbbfe9(_0x56d259-0x1b5,_0x37e77b-0x1e6,_0x3b92ae,_0x56d259-0x33);}if(_0x3fb84b[_0xd76792(0x3d0,0x407,0x3fd,0x3f9)]===_0x5b133c(0x11b,0x11c,0x161,0x142)&&_0x3fb84b[_0x5b133c(0x169,0x13a,0x12c,0x144)]===_0xd76792(0x3f0,0x425,0x449,0x41b)){if(!_0x3fb84b[_0x5b133c(0x1aa,0x1c9,0x1b8,0x19f)]||_0x3fb84b[_0xd76792(0x40b,0x463,0x40e,0x439)]['role']!==_0xd76792(0x3da,0x3f9,0x3c5,0x3e0))return _0xdf69ff[_0xd76792(0x458,0x423,0x45e,0x434)](0x17c+0x12c8+-0x12b1)[_0x5b133c(0x1a4,0x17f,0x16e,0x18e)]({'success':![],'message':_0xd76792(0x40a,0x461,0x451,0x42f)});const _0x2fdb7b=_0x523843[_0x5b133c(0x154,0x140,0x15b,0x148)]();_0xdf69ff['json']({'success':!![],'backups':_0x2fdb7b});return;}_0x292ac5();};function _0x_0x4b6a64(_0x5851e4,_0x149b0d,_0x30ee1a,_0x59ff8f){return _0x_0x15b9(_0x149b0d-0x2da,_0x5851e4);}exports[_0x_0xcbbfe9(-0x68,-0x97,-0x4a,-0x64)]=(_0x78ec5,_0x4cd0ca,_0x3ffc37)=>{function _0x271a7a(_0x5a6235,_0xca7299,_0x51a027,_0x14edf8){return _0x_0x4b6a64(_0xca7299,_0x14edf8- -0x61,_0x51a027-0x6,_0x14edf8-0x6c);}function _0x4f8815(_0x5c3b8c,_0x51663f,_0x50ac34,_0x4aeedb){return _0x_0x4b6a64(_0x51663f,_0x5c3b8c- -0x1f9,_0x50ac34-0x158,_0x4aeedb-0x1);}if(_0x78ec5[_0x271a7a(0x49e,0x49b,0x4a6,0x48c)]===_0x4f8815(0x2eb,0x2d1,0x315,0x2fa)&&_0x78ec5[_0x271a7a(0x450,0x494,0x476,0x471)]===_0x271a7a(0x4ae,0x4d9,0x495,0x4ae)){if(!_0x78ec5[_0x271a7a(0x4b1,0x4e2,0x4b9,0x4cc)]||_0x78ec5[_0x271a7a(0x4eb,0x4c9,0x4a0,0x4cc)][_0x271a7a(0x44e,0x483,0x4ae,0x47b)]!==_0x271a7a(0x448,0x469,0x47a,0x473)){if(_0x271a7a(0x46c,0x448,0x441,0x46b)===_0x4f8815(0x31b,0x2f7,0x2f8,0x33d))_0x21bd50[_0x271a7a(0x499,0x49a,0x4c0,0x4bb)]({'success':!![],'message':_0x271a7a(0x4c4,0x478,0x47b,0x4a4)});else return _0x4cd0ca[_0x4f8815(0x32f,0x35d,0x345,0x358)](-0x2*0x40+0x58*0x38+0x112d*-0x1)[_0x271a7a(0x4e2,0x4c2,0x48d,0x4bb)]({'success':![],'message':_0x4f8815(0x32a,0x325,0x356,0x35d)});}const _0x1f0786=databaseAudit[_0x4f8815(0x2e2,0x2ca,0x2ce,0x2d8)](_0x78ec5[_0x4f8815(0x30f,0x31f,0x321,0x323)]);_0x4cd0ca[_0x271a7a(0x4e8,0x4d0,0x48f,0x4bb)]({'success':!![],'logs':_0x1f0786});return;}_0x3ffc37();};