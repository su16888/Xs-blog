(function(_0x3a0ca0,_0x5b5241){const _0x998ecb=_0x3a0ca0();function _0x254348(_0x2c2592,_0x145d9c,_0x4f6cb4,_0x41e875){return _0x_0x8c6d(_0x2c2592- -0x3c9,_0x4f6cb4);}function _0x74619f(_0x52bf96,_0x4ea041,_0xc902c1,_0x4be874){return _0x_0x8c6d(_0x4be874- -0x257,_0xc902c1);}while(!![]){try{const _0x10f7a6=-parseInt(_0x254348(-0x29e,-0x28e,-0x2ac,-0x2a3))/(0x15f0+0x5*0x294+-0x22d3)*(parseInt(_0x74619f(-0x14c,-0x135,-0x138,-0x141))/(-0x1*0xcaf+0x9+0xca8))+-parseInt(_0x254348(-0x29d,-0x29c,-0x2a9,-0x29d))/(-0x150b+-0x1a69+-0x1d*-0x1a3)*(parseInt(_0x74619f(-0x11a,-0x12f,-0x115,-0x123))/(0x13*-0x15b+0x1a5+-0xc10*-0x2))+parseInt(_0x254348(-0x2a4,-0x294,-0x2a9,-0x2af))/(0x1549*-0x1+0x1b35+-0x1*0x5e7)*(parseInt(_0x254348(-0x29a,-0x2a0,-0x2a2,-0x29f))/(0xad5+0x1ff5+-0xab1*0x4))+parseInt(_0x254348(-0x2a5,-0x29d,-0x2b5,-0x2a3))/(-0x1b1f+-0x361*0xa+-0xd*-0x4b0)*(-parseInt(_0x254348(-0x2a6,-0x29d,-0x2a3,-0x2b3))/(0xd70+-0x1c77+-0x5*-0x303))+parseInt(_0x254348(-0x297,-0x28a,-0x28e,-0x2a5))/(-0xd50+0x2fb*0xa+0x1*-0x1075)*(parseInt(_0x74619f(-0x12d,-0x13a,-0x12f,-0x138))/(0x246*-0xb+-0x23d1*-0x1+-0xac5))+-parseInt(_0x254348(-0x2b2,-0x2af,-0x2c1,-0x2a3))/(0x1*-0x1cfd+0x2ab*0x2+0x6*0x3f3)+parseInt(_0x74619f(-0x141,-0x13b,-0x146,-0x142))/(-0x11fe+-0xc*-0x2a5+-0x2*0x6d9);if(_0x10f7a6===_0x5b5241)break;else _0x998ecb['push'](_0x998ecb['shift']());}catch(_0x36552b){_0x998ecb['push'](_0x998ecb['shift']());}}}(_0x_0x1321,-0x22006+0xadcbd+-0x8f*-0x2b5));function _0x_0x8c6d(_0x290c4f,_0x467abd){const _0x30598d=_0x_0x1321();return _0x_0x8c6d=function(_0x37df95,_0x5d172c){_0x37df95=_0x37df95-(0x1*0x19c1+-0x92*-0x28+-0x2f7c);let _0x35e544=_0x30598d[_0x37df95];if(_0x_0x8c6d['DCdZkf']===undefined){var _0x13c4a6=function(_0x219689){const _0x584172='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x483f32='',_0x2ea42b='',_0x92704e=_0x483f32+_0x13c4a6;for(let _0x182458=0x330+0xa*0x3f+-0x5a6,_0x26c86f,_0x5eca0d,_0x43ebb0=0x1b60+0x7*0x86+-0x1f0a;_0x5eca0d=_0x219689['charAt'](_0x43ebb0++);~_0x5eca0d&&(_0x26c86f=_0x182458%(0x188*0x11+-0x6da+-0x132a)?_0x26c86f*(0x24c7*0x1+0x34b+0xd46*-0x3)+_0x5eca0d:_0x5eca0d,_0x182458++%(0x1ee5+-0x2595+0x6b4))?_0x483f32+=_0x92704e['charCodeAt'](_0x43ebb0+(0x2*-0x25c+-0x15be+0x1a80))-(-0x1c91+0x855+0x1446)!==-0x1eea*-0x1+-0x1228+-0xcc2?String['fromCharCode'](0x7*0x31d+-0x1b70+0x6a4&_0x26c86f>>(-(0x1*-0x1b9f+0x7e4+-0x13bd*-0x1)*_0x182458&0x3*-0x317+0x1*-0xc38+0x1*0x1583)):_0x182458:0x1e2+-0x99b+0x7b9){_0x5eca0d=_0x584172['indexOf'](_0x5eca0d);}for(let _0x516c36=0x118*0x1f+0x134f*0x1+0x11bd*-0x3,_0x1193a2=_0x483f32['length'];_0x516c36<_0x1193a2;_0x516c36++){_0x2ea42b+='%'+('00'+_0x483f32['charCodeAt'](_0x516c36)['toString'](-0x152a+-0x1*-0xcdb+0x85f))['slice'](-(0xcb0+-0x1*0x1e77+0x1*0x11c9));}return decodeURIComponent(_0x2ea42b);};_0x_0x8c6d['OpEsIb']=_0x13c4a6,_0x290c4f=arguments,_0x_0x8c6d['DCdZkf']=!![];}const _0x4f8ac8=_0x30598d[0x2c*-0xb+0x19e2+-0x53*0x4a],_0x2000f1=_0x37df95+_0x4f8ac8,_0x4a0275=_0x290c4f[_0x2000f1];if(!_0x4a0275){const _0x2eb4ed=function(_0xf4b76d){this['vecZSy']=_0xf4b76d,this['SRhttX']=[0x1484+-0x2457+-0x1*-0xfd4,0x25eb*0x1+-0x2a*0xd1+-0x3a1,-0xfc*0x1+-0x20f5+-0x21f1*-0x1],this['lmjEsG']=function(){return'newState';},this['OUDQPx']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ATufgf']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2eb4ed['prototype']['SikCMy']=function(){const _0x41c937=new RegExp(this['OUDQPx']+this['ATufgf']),_0x53521e=_0x41c937['test'](this['lmjEsG']['toString']())?--this['SRhttX'][-0x57*-0x31+-0x3*0xaf1+0x102d*0x1]:--this['SRhttX'][0x8d*0x5+0xd10+-0xfd1];return this['RmCIUO'](_0x53521e);},_0x2eb4ed['prototype']['RmCIUO']=function(_0x3eb981){if(!Boolean(~_0x3eb981))return _0x3eb981;return this['xtYdCR'](this['vecZSy']);},_0x2eb4ed['prototype']['xtYdCR']=function(_0x2ca6c4){for(let _0x181808=-0xdb*-0xb+-0x17dd+-0x25*-0x64,_0x40134f=this['SRhttX']['length'];_0x181808<_0x40134f;_0x181808++){this['SRhttX']['push'](Math['round'](Math['random']())),_0x40134f=this['SRhttX']['length'];}return _0x2ca6c4(this['SRhttX'][-0x1f61+0x34*-0x97+0x3e0d]);},new _0x2eb4ed(_0x_0x8c6d)['SikCMy'](),_0x35e544=_0x_0x8c6d['OpEsIb'](_0x35e544),_0x290c4f[_0x2000f1]=_0x35e544;}else _0x35e544=_0x4a0275;return _0x35e544;},_0x_0x8c6d(_0x290c4f,_0x467abd);}const bcrypt=require('bcryptjs'),{sequelize}=require('../config/database'),User=require('../models/User');function _0x_0x1321(){const _0x16e244=['mti0mtC0mtzysfjOqNe','yxbWBhK','C2vHCMnO','whncBg9NqdiWmJqHqwrTAw4','6yEn572U566H55cg5zgy6lsM5OI377Yi5l2/55sO5PAW5A+g56cb77YjlI4U','ywn0AxzL','zMLUze9Uzq','AgfZAa','nJKWC2vfsfvO','qNPvyxq','DxbKyxrL','5A+g56cboIa','mtG1mJHdDKHOvMS','mZi0muPusxLHsq','mti5nJq0nvDoyMvUDG','y29UC3rYDwn0B3i','4PYfioEUOEEqHUwrMoI0PUAiT+w3SUMhJEE9RU+8Gq','ywrTAw5aEhnIBg9NlMnVBq','zxHPDa','4PYfioAwSoEUOEEqHUwrMoI0PUAiT+wiM+w7UUAiKowkN++8Gq','mtqZouDRvgHZtG','m293tuffwq','4PQG77IpicdOR7FLNkJPPPBMRkhNMBVLVzxLKi7NQ4VLJBpKV67MLlNLR4BNOihVVie','ywrTAw4','mZbAtfnQyMK','Dg9tDhjPBMC','Bg9N','nZq2otf6z1f6q0O','4PYfioAvSoAnRUw6K+I/NUAoPEAiKowkNW','mZq5mtGZnKrRuNjpCW','mZC4mZC2ntz3vuvHww8','mtC3ng9MzNDzta'];_0x_0x1321=function(){return _0x16e244;};return _0x_0x1321();}async function resetAdminNew(){function _0x41f19a(_0x220f22,_0x173d37,_0x20b744,_0x79dc8e){return _0x_0x8c6d(_0x220f22-0xab,_0x173d37);}function _0x40d4d7(_0x385a81,_0xe7bfbe,_0x3a9d04,_0xc00979){return _0x_0x8c6d(_0x3a9d04-0x1b7,_0x385a81);}const _0x5c32a4=(function(){let _0x48ba39=!![];return function(_0x355c89,_0x2033b0){const _0x2b748c=_0x48ba39?function(){function _0x1d1cf8(_0x36254b,_0x5fe3c9,_0x326bf4,_0x1682aa){return _0x_0x8c6d(_0x1682aa-0x3c7,_0x5fe3c9);}function _0x3e6832(_0x2d934b,_0x4e7332,_0x3da178,_0xbadbd7){return _0x_0x8c6d(_0x2d934b-0x1c8,_0x4e7332);}if(_0x2033b0){if(_0x1d1cf8(0x4eb,0x4f3,0x4de,0x4e7)===_0x1d1cf8(0x4e8,0x4ef,0x4e7,0x4e7)){const _0x39d08a=_0x2033b0[_0x1d1cf8(0x4ea,0x4d7,0x4d8,0x4df)](_0x355c89,arguments);return _0x2033b0=null,_0x39d08a;}else{const _0x5df84a=_0x4f7635?function(){function _0x13fb9a(_0x5df1e2,_0x1d30ac,_0x111503,_0x1a56d8){return _0x3e6832(_0x5df1e2-0x15e,_0x1a56d8,_0x111503-0xa0,_0x1a56d8-0x94);}if(_0x5c9399){const _0x5d6f70=_0x171a0e[_0x13fb9a(0x43e,0x44e,0x436,0x43d)](_0x5a32fd,arguments);return _0x51321e=null,_0x5d6f70;}}:function(){};return _0x1fc66d=![],_0x5df84a;}}}:function(){};return _0x48ba39=![],_0x2b748c;};}()),_0x12ac61=_0x5c32a4(this,function(){function _0x31a32e(_0x240beb,_0x12ebf5,_0x18c4b5,_0xa2c0a0){return _0x_0x8c6d(_0x240beb-0x17,_0x12ebf5);}function _0x5e03b9(_0x2fafb4,_0x1aa114,_0x50d65c,_0x4b28d9){return _0x_0x8c6d(_0x50d65c-0x30d,_0x1aa114);}return _0x12ac61['toString']()[_0x31a32e(0x130,0x130,0x129,0x12a)]('(((.+)+)+)+$')[_0x5e03b9(0x442,0x441,0x43d,0x439)]()[_0x5e03b9(0x428,0x425,0x433,0x436)](_0x12ac61)[_0x5e03b9(0x420,0x430,0x426,0x417)]('(((.+)+)+)+$');});_0x12ac61();try{console[_0x40d4d7(0x2e8,0x2ef,0x2e8,0x2e8)](_0x41f19a(0x1c6,0x1b8,0x1c1,0x1cc)),await sequelize['authenticate'](),console[_0x41f19a(0x1dc,0x1d9,0x1e0,0x1d5)](_0x40d4d7(0x2f5,0x2dc,0x2ea,0x2db));const _0x3885ad=await User[_0x41f19a(0x1c8,0x1d7,0x1c0,0x1c3)]({'where':{'role':_0x40d4d7(0x2e2,0x2f5,0x2e5,0x2ef)}});if(_0x3885ad){console[_0x40d4d7(0x2ec,0x2e3,0x2e8,0x2db)]('\x0a找到现有管理员用户:\x20'+_0x3885ad['username']);const _0x5833b8=_0x41f19a(0x1c5,0x1c0,0x1c6,0x1be),_0x331b23=await bcrypt[_0x41f19a(0x1c9,0x1c1,0x1c2,0x1bc)](_0x5833b8,0x53*-0x5c+0x61*-0xd+0xb99*0x3);await _0x3885ad[_0x41f19a(0x1cc,0x1d1,0x1ce,0x1c8)]({'username':_0x40d4d7(0x2e3,0x2ef,0x2e5,0x2e3),'password':_0x331b23}),console[_0x40d4d7(0x2dd,0x2d8,0x2e8,0x2eb)](_0x41f19a(0x1d2,0x1c5,0x1d8,0x1d3)),console[_0x41f19a(0x1dc,0x1d7,0x1cd,0x1e2)]('用户名:\x20admin'),console['log'](_0x41f19a(0x1cd,0x1d6,0x1cf,0x1d1)+_0x5833b8),console[_0x41f19a(0x1dc,0x1e2,0x1dc,0x1ea)]('⚠️\x20\x20请在首次登录后立即修改密码！');}else{const _0x1d5f9d=_0x41f19a(0x1c5,0x1d1,0x1c6,0x1d0),_0x2b8584=await bcrypt[_0x41f19a(0x1c9,0x1bd,0x1c8,0x1d4)](_0x1d5f9d,0xc13+-0x1*-0x2113+-0x2*0x168e),_0x2e7d10=await User['create']({'username':_0x41f19a(0x1d9,0x1e5,0x1e3,0x1dc),'email':_0x40d4d7(0x2e3,0x2d6,0x2df,0x2ea),'password':_0x2b8584,'role':'admin','status':_0x41f19a(0x1c7,0x1c9,0x1ba,0x1cc)});console['log'](_0x41f19a(0x1d5,0x1e3,0x1ce,0x1cf)),console['log']('用户名:\x20admin'),console[_0x41f19a(0x1dc,0x1d3,0x1e2,0x1d3)](_0x40d4d7(0x2e2,0x2d8,0x2d9,0x2dc)+_0x1d5f9d),console[_0x40d4d7(0x2e9,0x2f4,0x2e8,0x2e0)](_0x40d4d7(0x2d7,0x2ee,0x2e4,0x2f2));}process[_0x40d4d7(0x2e7,0x2ee,0x2e0,0x2dc)](-0x498+0xcb0+-0x7*0x128);}catch(_0x7764b7){console['error']('❌\x20重置管理员账户失败:',_0x7764b7),process['exit'](0x71+0x3b*0xd+-0x1*0x36f);}}resetAdminNew();