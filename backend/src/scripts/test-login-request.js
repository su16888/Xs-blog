function _0x_0x50fa(_0x117954,_0x210cd4){const _0xc67b20=_0x_0x31ee();return _0x_0x50fa=function(_0x3e5807,_0x37561f){_0x3e5807=_0x3e5807-(0x1*-0x26d+0x1e93+0x95*-0x2f);let _0x4077f0=_0xc67b20[_0x3e5807];if(_0x_0x50fa['sigaEe']===undefined){var _0x50349a=function(_0x34d888){const _0x869690='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1baa61='',_0xf5d196='',_0x317595=_0x1baa61+_0x50349a;for(let _0x1745a7=0x128a+-0xf4d+0x33d*-0x1,_0x14de24,_0x2a9f0a,_0x5b89bb=0xd2f+0x219*-0xc+0x3*0x3ff;_0x2a9f0a=_0x34d888['charAt'](_0x5b89bb++);~_0x2a9f0a&&(_0x14de24=_0x1745a7%(0x3ee*-0x1+-0x214*-0xa+-0x10d6)?_0x14de24*(-0x156b+-0x19a2+0x2f4d)+_0x2a9f0a:_0x2a9f0a,_0x1745a7++%(-0x299+0x223*0xb+0x2fc*-0x7))?_0x1baa61+=_0x317595['charCodeAt'](_0x5b89bb+(-0x775+-0x135*0xd+0x1a8*0xe))-(-0x913*0x3+0x21a9+-0x666)!==-0xfbe+0x20*-0x128+0x56*0x9d?String['fromCharCode'](0x20fd+-0x2*-0x31a+0x2*-0x1319&_0x14de24>>(-(0xe87*0x2+-0x1313+-0x9f9)*_0x1745a7&0x60f+-0x1*-0x1cba+-0x22c3)):_0x1745a7:0x1a39+-0x1*-0x14b9+-0x2ef2){_0x2a9f0a=_0x869690['indexOf'](_0x2a9f0a);}for(let _0x18dfa4=0x14eb+-0x1e9d*0x1+0x49*0x22,_0x335540=_0x1baa61['length'];_0x18dfa4<_0x335540;_0x18dfa4++){_0xf5d196+='%'+('00'+_0x1baa61['charCodeAt'](_0x18dfa4)['toString'](0x17eb+0x1283+-0x2a5e))['slice'](-(-0xdd*-0x17+0x16a2+-0x2a7b));}return decodeURIComponent(_0xf5d196);};_0x_0x50fa['cJlGIN']=_0x50349a,_0x117954=arguments,_0x_0x50fa['sigaEe']=!![];}const _0x316649=_0xc67b20[0x7f6*0x1+-0x1*-0x18d1+-0xaed*0x3],_0x2dcdcf=_0x3e5807+_0x316649,_0x123fff=_0x117954[_0x2dcdcf];if(!_0x123fff){const _0x93adbe=function(_0x3d2cdb){this['SgvCbg']=_0x3d2cdb,this['bEXcci']=[-0x42e+-0x8*-0x2a4+-0x1*0x10f1,0x1153+-0x4c2*0x8+0x14bd,0x1*-0xb45+0x20dc+-0x1597*0x1],this['pXLgKL']=function(){return'newState';},this['FIjgVo']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['nYeMop']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x93adbe['prototype']['WRVMup']=function(){const _0x38a24d=new RegExp(this['FIjgVo']+this['nYeMop']),_0x1ffaf8=_0x38a24d['test'](this['pXLgKL']['toString']())?--this['bEXcci'][-0x1afd+0x1ce5+-0x1e7]:--this['bEXcci'][-0x2*0x616+0x24c9+-0x1*0x189d];return this['bNayou'](_0x1ffaf8);},_0x93adbe['prototype']['bNayou']=function(_0x1f944e){if(!Boolean(~_0x1f944e))return _0x1f944e;return this['yIttsF'](this['SgvCbg']);},_0x93adbe['prototype']['yIttsF']=function(_0x243660){for(let _0x184d2e=0x1c83*0x1+-0x1680+-0x603,_0x3cb81d=this['bEXcci']['length'];_0x184d2e<_0x3cb81d;_0x184d2e++){this['bEXcci']['push'](Math['round'](Math['random']())),_0x3cb81d=this['bEXcci']['length'];}return _0x243660(this['bEXcci'][0x1851+-0x1ade+0x1*0x28d]);},new _0x93adbe(_0x_0x50fa)['WRVMup'](),_0x4077f0=_0x_0x50fa['cJlGIN'](_0x4077f0),_0x117954[_0x2dcdcf]=_0x4077f0;}else _0x4077f0=_0x123fff;return _0x4077f0;},_0x_0x50fa(_0x117954,_0x210cd4);}function _0x_0x31ee(){const _0x1957ee=['AgfZAa','y29UC3rYDwn0B3i','zxHPDa','lsdOV5NKVjRLR7ZOH7tPQOZOR4hLPlhOTku','4PYfioAvSoAnRUw6K+I/NUAoPEAiKowkNW','Dg9tDhjPBMC','5A2y5ykO55Qe5A+g56cb5zoi5BImoIa','55sO5OI35zcnoIa','ndmYnde5mhvvzfDUuG','odG3nZqYohHyBKjMsa','Bg9N','55sO5zoi5BIm5zco55Qe5A+g56cb6AQm6k+boIa','mtq2mdCXoxjzqNHTtW','ywrTAw4','cUAJGoAFPEs4REMxTos7TUw9SEwtJtO','DxnLCM5HBwu','lsdMJQFLIlBLMAJMLlBLIldNMOtLR4BNOihMMk/LK4JLUiZLKi7NMOtLGlW','mtm4z1fPD3Lo','mNbtBfjxDW','nJyXmtuXodfdtwjkzxy','ntGYodbfCMj0BKG','5A+g56cboIa','4P2mioEuQoAiT+s4JEwTMowCQa','55U05O6L6AQm6k+b57Ut5P6CoIa','5AAc5P6C5A+g56cb6kkR5zoi5BImoIa','EKvuyK8','mta0otKYrwPZz0Hf','4PYfioAiKowkNW','mti0mMzeuwP5zW','nty1odm1sLjbEwPd','kcGOlISPkYKRksSK','4P2miowKSEI0Pq','CgfZC3DVCMq','C2vHCMnO','nMvWAufTBa','5Rwl6k+v55M75B2v6k+35Rgc5Ase55cglI4U','DwnstNC'];_0x_0x31ee=function(){return _0x1957ee;};return _0x_0x31ee();}(function(_0x1d827b,_0x3fe196){function _0x50a279(_0x2b835e,_0x2d8993,_0x14307d,_0x543ae8){return _0x_0x50fa(_0x2d8993-0x61,_0x14307d);}function _0x4be217(_0x54ab25,_0x27b887,_0x475295,_0x1b7b64){return _0x_0x50fa(_0x27b887- -0x292,_0x54ab25);}const _0x598c8f=_0x1d827b();while(!![]){try{const _0x10033c=parseInt(_0x50a279(0x12e,0x12f,0x11d,0x13e))/(0x2267+0x1f84+0x1a*-0x289)*(-parseInt(_0x4be217(-0x1c9,-0x1be,-0x1bb,-0x1c2))/(-0x1027*0x1+0x6b*-0x24+0x3*0xa67))+-parseInt(_0x4be217(-0x1ba,-0x1bf,-0x1b7,-0x1b8))/(0x2*0xde4+0x7f6*-0x4+0x413)*(parseInt(_0x4be217(-0x1bb,-0x1b6,-0x1b1,-0x1a7))/(0x1*-0x26a2+0x2fc*0x8+-0x7a*-0x1f))+-parseInt(_0x50a279(0x13a,0x140,0x132,0x14a))/(0x225*0x5+0x2cf+-0xd83)*(-parseInt(_0x4be217(-0x19d,-0x1ae,-0x1a0,-0x1aa))/(0xa08+-0x5ea*0x1+0x418*-0x1))+-parseInt(_0x50a279(0x138,0x12c,0x128,0x12e))/(-0x8*0x106+-0xd*-0x28d+-0x1f*0xce)+-parseInt(_0x50a279(0x149,0x137,0x13b,0x130))/(-0x2100+-0x15fb+0x3703)*(parseInt(_0x50a279(0x135,0x13f,0x12f,0x12d))/(-0x1*-0x11f2+0xd2d*-0x1+-0x4bc))+-parseInt(_0x4be217(-0x198,-0x1a3,-0x1a7,-0x1a9))/(0x9d*-0x18+-0x1ef7+0x2db9)+parseInt(_0x4be217(-0x1b2,-0x1bd,-0x1b3,-0x1ad))/(0xcf6+-0xef1+-0x103*-0x2);if(_0x10033c===_0x3fe196)break;else _0x598c8f['push'](_0x598c8f['shift']());}catch(_0x3952d4){_0x598c8f['push'](_0x598c8f['shift']());}}}(_0x_0x31ee,0x2091c*0x1+0x1*-0xa6736+0x13ce10));const bcrypt=require('bcryptjs'),{sequelize}=require('../config/database'),User=require('../models/User');async function testLoginRequest(){const _0x23683b=(function(){let _0x4df9b5=!![];return function(_0x43a3e1,_0x5ef89c){const _0x3e094e=_0x4df9b5?function(){if(_0x5ef89c){const _0x204628=_0x5ef89c['apply'](_0x43a3e1,arguments);return _0x5ef89c=null,_0x204628;}}:function(){};return _0x4df9b5=![],_0x3e094e;};}());function _0x188da3(_0x5cc2bf,_0x1cffdd,_0x38f6f2,_0x2f5382){return _0x_0x50fa(_0x38f6f2-0x345,_0x5cc2bf);}const _0x396721=_0x23683b(this,function(){function _0x100af7(_0x3d5e9f,_0x5eccf8,_0x302e7d,_0x42aeed){return _0x_0x50fa(_0x42aeed- -0x20d,_0x302e7d);}function _0x330342(_0x2c358a,_0x327599,_0x580907,_0x20e346){return _0x_0x50fa(_0x327599- -0x74,_0x2c358a);}return _0x396721[_0x100af7(-0x126,-0x12c,-0x11e,-0x121)]()[_0x330342(0x6e,0x6f,0x80,0x6e)](_0x330342(0x71,0x6c,0x77,0x64))['toString']()[_0x100af7(-0x131,-0x119,-0x129,-0x125)](_0x396721)[_0x330342(0x6b,0x6f,0x68,0x65)]('(((.+)+)+)+$');});_0x396721();function _0x5ae909(_0x38d6b8,_0x33997e,_0x5c96e8,_0x3470f0){return _0x_0x50fa(_0x3470f0-0x367,_0x33997e);}try{console[_0x188da3(0x3fe,0x414,0x411,0x416)](_0x188da3(0x41f,0x424,0x42a,0x420)),await sequelize['authenticate'](),console[_0x5ae909(0x42a,0x422,0x43b,0x433)](_0x188da3(0x422,0x42b,0x430,0x41e));const _0x43a964=_0x188da3(0x422,0x414,0x414,0x40c),_0xeba148='XsBlog@2024!Admin';console['log']('\x0a原始登录信息:'),console[_0x5ae909(0x445,0x43c,0x421,0x433)](_0x5ae909(0x457,0x461,0x442,0x455)+_0x43a964),console[_0x5ae909(0x426,0x444,0x428,0x433)](_0x188da3(0x429,0x416,0x41c,0x42c)+_0xeba148);const _0x2a95c7=await User['findOne']({'where':{'username':_0x43a964}});if(!_0x2a95c7){console[_0x5ae909(0x43b,0x42d,0x445,0x433)](_0x5ae909(0x440,0x43f,0x44f,0x43f));return;}console[_0x5ae909(0x424,0x434,0x424,0x433)]('✅\x20找到用户:\x20'+_0x2a95c7[_0x188da3(0x41d,0x41b,0x416,0x419)]),console[_0x188da3(0x3fe,0x404,0x411,0x417)](_0x188da3(0x42b,0x435,0x432,0x433)+_0x2a95c7[_0x188da3(0x43a,0x42e,0x427,0x42c)]),console[_0x188da3(0x420,0x415,0x411,0x419)]('\x0a直接密码验证:');const _0x4978b3=await bcrypt['compare'](_0xeba148,_0x2a95c7[_0x5ae909(0x452,0x43b,0x44e,0x449)]);console[_0x5ae909(0x42b,0x428,0x430,0x433)](_0x188da3(0x42a,0x420,0x41e,0x41b)+(_0x4978b3?_0x5ae909(0x454,0x44e,0x43b,0x444):_0x188da3(0x438,0x437,0x426,0x420))),console[_0x5ae909(0x428,0x42a,0x445,0x433)]('\x0a测试密码被哈希的情况:');const _0x260047=await bcrypt[_0x5ae909(0x45e,0x45a,0x44b,0x44e)](_0xeba148,-0x931*0x1+-0x217b+-0x155b*-0x2);console[_0x188da3(0x403,0x412,0x411,0x41c)](_0x5ae909(0x435,0x432,0x44e,0x441)+_0x260047);const _0x3b568d=await bcrypt['compare'](_0x260047,_0x2a95c7[_0x188da3(0x420,0x41d,0x427,0x428)]);console['log'](_0x5ae909(0x423,0x426,0x432,0x434)+(_0x3b568d?'✅\x20成功':_0x188da3(0x42b,0x425,0x426,0x431)));const _0x27921b=await bcrypt['compare'](_0xeba148,_0x260047);console[_0x188da3(0x419,0x413,0x411,0x402)]('用原始密码验证新哈希:\x20'+(_0x27921b?'✅\x20成功':_0x188da3(0x420,0x421,0x426,0x432))),console[_0x188da3(0x406,0x413,0x411,0x403)](_0x188da3(0x414,0x41b,0x415,0x418)),console[_0x188da3(0x41e,0x41a,0x411,0x41f)]('如果密码在到达控制器前被哈希，那么:'),console[_0x5ae909(0x441,0x434,0x423,0x433)](_0x188da3(0x423,0x41c,0x417,0x414)),console[_0x188da3(0x41d,0x403,0x411,0x40c)]('-\x20控制器用哈希后的值去验证数据库中的哈希值'),console[_0x188da3(0x403,0x401,0x411,0x410)](_0x5ae909(0x45c,0x44b,0x45f,0x451)),process[_0x188da3(0x42e,0x42b,0x42e,0x43f)](0x2a*0x49+0x1462+-0x205c);}catch(_0x59b059){if(_0x188da3(0x422,0x42d,0x420,0x425)===_0x188da3(0x418,0x43a,0x42b,0x428)){console[_0x5ae909(0x441,0x42b,0x42e,0x433)]('❌\x20用户不存在');return;}else console['error']('❌\x20测试失败:',_0x59b059),process['exit'](0x224*-0x6+0x13db+-0x702);}}testLoginRequest();