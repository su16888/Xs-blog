(function(_0x3037d2,_0xaef8f6){function _0x47e722(_0xed001c,_0x3a6976,_0x2ea4d8,_0x5560aa){return _0x_0x3565(_0x5560aa-0x6e,_0x3a6976);}function _0x453cf7(_0x38326d,_0x473cec,_0x44f587,_0x3a58a4){return _0x_0x3565(_0x44f587-0x3ab,_0x473cec);}const _0xd488d3=_0x3037d2();while(!![]){try{const _0x3730cd=parseInt(_0x47e722(0x1d0,0x1cd,0x1ad,0x1c0))/(-0x1679*0x1+-0x458+0x1ad2)+parseInt(_0x47e722(0x19e,0x1cc,0x1d0,0x1b6))/(0x1f+-0x1053+-0x19*-0xa6)+parseInt(_0x453cf7(0x4b4,0x4d2,0x4bc,0x4d1))/(-0x2357+0x1739+0xc21)+-parseInt(_0x47e722(0x19e,0x1bf,0x1be,0x19a))/(-0x4eb*0x2+0x176*0x4+0x402)+parseInt(_0x453cf7(0x4d0,0x4f0,0x4f8,0x4ea))/(0x1462+-0x731+-0xc*0x119)*(-parseInt(_0x453cf7(0x496,0x490,0x4b4,0x4c2))/(0x1317+0xbc*-0x4+-0x1021))+-parseInt(_0x453cf7(0x4c3,0x4c1,0x4ab,0x4a1))/(0x8f1+0x1b3b+-0x2425)*(parseInt(_0x47e722(0x1d8,0x1b6,0x1d5,0x1be))/(-0x1*-0x3e3+0x1842+0x1c1d*-0x1))+parseInt(_0x453cf7(0x4e4,0x506,0x4d9,0x4be))/(-0x23a2+-0x1f13+-0x42be*-0x1);if(_0x3730cd===_0xaef8f6)break;else _0xd488d3['push'](_0xd488d3['shift']());}catch(_0x4c0c59){_0xd488d3['push'](_0xd488d3['shift']());}}}(_0x_0x5b35,-0x1*0xaa440+-0xcf5c7*-0x1+-0x2b6d8*-0x2));const _0x_0x48c508=(function(){let _0x1b2161=!![];return function(_0x57a5db,_0x11942f){const _0xe25b4c=_0x1b2161?function(){function _0x2b48c4(_0x3f5c89,_0xc2b09e,_0x36dc71,_0x2a1f44){return _0x_0x3565(_0xc2b09e- -0x38f,_0x2a1f44);}function _0x33daa5(_0x32160e,_0x2ecc34,_0x23cb0c,_0x1d9f9c){return _0x_0x3565(_0x23cb0c-0x2a3,_0x1d9f9c);}if('PKMVb'!==_0x2b48c4(-0x27b,-0x27a,-0x27d,-0x277)){const _0x5e868c=_0x2af19b?function(){function _0x5f37bd(_0x3cfdf2,_0x17aa98,_0x3e267a,_0x51c71f){return _0x2b48c4(_0x3cfdf2-0x173,_0x3cfdf2-0x4cf,_0x3e267a-0x53,_0x17aa98);}if(_0x34e39f){const _0x3cd3de=_0x378edf[_0x5f37bd(0x247,0x240,0x263,0x226)](_0x53cd82,arguments);return _0x4aed1c=null,_0x3cd3de;}}:function(){};return _0x1893d1=![],_0x5e868c;}else{if(_0x11942f){const _0x247312=_0x11942f[_0x2b48c4(-0x2ae,-0x288,-0x276,-0x261)](_0x57a5db,arguments);return _0x11942f=null,_0x247312;}}}:function(){};return _0x1b2161=![],_0xe25b4c;};}()),_0x_0x1f93f2=_0x_0x48c508(this,function(){function _0x42104b(_0x4f5b50,_0x4c3d27,_0x3871dd,_0x17844f){return _0x_0x3565(_0x3871dd- -0x1b4,_0x4c3d27);}function _0x4ea62a(_0x26ada9,_0x475b0e,_0x165ecd,_0x3c0bc3){return _0x_0x3565(_0x26ada9- -0x105,_0x165ecd);}return _0x_0x1f93f2['toString']()[_0x4ea62a(0x17,-0x2,0x10,0x19)](_0x42104b(-0x69,-0xa2,-0x90,-0xaf))[_0x4ea62a(-0x1,-0x8,0x1a,-0x5)]()[_0x4ea62a(0x3f,0x1f,0x3f,0x58)](_0x_0x1f93f2)[_0x42104b(-0x71,-0xc0,-0x98,-0x76)](_0x4ea62a(0x1f,0x38,0x5,0x2));});_0x_0x1f93f2();function _0x_0x5ee6cf(_0x3cacbb,_0x61ff24,_0x3dc834,_0x256947){return _0x_0x3565(_0x3cacbb- -0x2d4,_0x3dc834);}function _0x_0x5b35(){const _0x3ebbcb=['AxnFChvIBgLZAgvK','BgLRzq','Bg1qBhO','suneqMi','z2v0qwrTAw5oB3rLqNLjza','y29UC3rYDwn0B3i','B1PMt2G','u1Hmtg0','z2v0qwrTAw5oB3rLrgLZA3m','mtqWnduWofftq2TUBa','zMLUzej5ugS','u0vmrunu','AwnVBG','yM9KEq','mtbID2jTExO','y1LuCvu','y29UDgvUDa','oe1MsNnTyq','wvPvzvi','ndGXnZG4AKvZBMXe','BMfTzq','C29YDa','uKvUsxG','ANnVBG','Dg9vChbLCKnHC2u','CMvXDwLYzxnqyxnZD29Yza','nteXnZe4mMnnsMvdtW','zMLUzefUzenVDw50qwXS','C3rHDhvZ','z2v0uhvIBgLJtM90zuj5swq','Dg9tDhjPBMC','z2v0uhvIBgLJtM90zurPC2TZ','CgfNzq','yxbWBhK','5A+g56cb6zsz6k+V','mtu1nta4nK5OreHsAW','DgfNtgLZDa','zvvHDMe','Dg9ku09o','Bwj0vMi','cIaGicaGifnftevdvcaQiezst00GBM90zv9KAxnRCWOGicaGicbxsevsrsbUB3rLx2LKid0GpWOGicaGicbpuKrfuIbcwsbZB3j0x29YzgvYieftqYWGy3jLyxrLzf9HDcbbu0mkicaGia','CMTpAeC','C29YDf9VCMrLCG','mtqXmtG4mwj3CvDJwa','5PEG5P2d6k6/6zEU5Q2K56Yu6k6W','zgvZyW','CMvXDwLYzwq','ueTnvMi','DhjPBq','C2vxCxO','DgfNCW','uxvLCNLuExbLCW','BwvKAwfFDxjSCW','AxnFCgLUBMvK','C2vHCMnO','z2v0qwrTAw5oB3rLvgfNu3rHDhm','ALbYCui','C3rYAw5N','cIaGicaGifnftevdvaOGicaGicaGihqUAwqSihqUBMfTzsWGDc5JB2XVCIWGDc5KzxnJCMLWDgLVBIWGDc5JyxrLz29YEsWGDc5JyxrLz29YEv9PzcWkicaGicaGicbdt1vovcHUDc5UB3rLx2LKksbHCYb1C2fNzv9JB3vUDaOGicaGicbguK9nihrHz3mGDaOGicaGicbmruzuiePpsu4GBM90zv90ywDZig50ie9oihqUAwqGpsbUDc50ywDFAwqkicaGicaGr1jpvvaGqLKGDc5PzaOGicaGicbpuKrfuIbcwsb1C2fNzv9JB3vUDcbervndlcb0lM5HBwuGqvndcIaGica','CxvLCNK','DMTkreq','y2f0zwDVCNLFAwq','kcGOlISPkYKRksSK','ChvIBgLZAgvKx2f0','wffus0W','BwfW','ANbrvLe','cIaGicaGifnftevdvaOGicaGicaGihqUBMfTzsWGDc5JB2XVCIWkicaGicaGicbdt1vovcHUDc5UB3rLx2LKksbHCYb1C2fNzv9JB3vUDaOGicaGicbguK9nihrHz3mGDaOGicaGicbmruzuiePpsu4GBM90zv90ywDZig50ie9oihqUAwqGpsbUDc50ywDFAwqkicaGicaGr1jpvvaGqLKGDc5PzaOGicaGicbpuKrfuIbcwsb1C2fNzv9JB3vUDcbervndlcb0lM5HBwuGqvndcIaGica','5Q2K56Yu6k6W6zYa6kAb5A+g56cb','CgfYyw1Z','otKYotGWt2z2C0vX','CLrmzNu','mZe1nJaWm1nhCezIvG','DunuqLK','y2f0zwDVCNLjBMzV','uwnytKy','z2v0qwrTAw5oB3rLCW','ANHdCLu','revtqW','56Yu6k6W5lIn5A2y5zYO','y2vPBa','y29SB3i','y3jLyxrLzf9HDa','D2HLCMu','y2f0zwDVCNK','DxbKyxrLzf9HDa','zxH0zxjUywXFBgLUAW','z2v0uhvIBgLJtM90zxm','CgfZC3DVCMq'];_0x_0x5b35=function(){return _0x3ebbcb;};return _0x_0x5b35();}exports[_0x_0x3dd5fe(0x1f3,0x1f5,0x21c,0x1d1)]=async(_0x2040c7,_0x191771,_0x434f58)=>{function _0x272c60(_0x2aafe5,_0x48f0b6,_0x4d49af,_0x3de8bc){return _0x_0x3dd5fe(_0x2aafe5-0x8e,_0x3de8bc- -0x368,_0x4d49af-0x5d,_0x48f0b6);}function _0x5f1662(_0x2dc8e8,_0x2ae2ee,_0x4c21b8,_0x28992b){return _0x_0x3dd5fe(_0x2dc8e8-0x7d,_0x4c21b8- -0x445,_0x4c21b8-0x111,_0x2ae2ee);}try{if('ICDBb'===_0x272c60(-0x17e,-0x18d,-0x19a,-0x16e)){const _0x1197fe=parseInt(_0x2040c7['query'][_0x272c60(-0x19a,-0x1cb,-0x1cb,-0x1aa)])||-0x153+0x1*-0x1d89+0x1edd,_0x520a9f=parseInt(_0x2040c7[_0x5f1662(-0x255,-0x27e,-0x26c,-0x253)]['limit'])||-0x190+-0xabb+0xc55,_0x3116b7=_0x2040c7[_0x5f1662(-0x28d,-0x289,-0x26c,-0x265)][_0x272c60(-0x146,-0x16f,-0x177,-0x15c)]||_0x272c60(-0x1b2,-0x1c2,-0x1a3,-0x19d),_0x1bd511=(_0x1197fe-(-0x541*-0x5+0xda*0x2b+-0x3ee2))*_0x520a9f,{category_id:_0x412969,tag_id:_0x51af8d,category:_0x25fecf,tag:_0xec24b3,search:_0x5aac20}=_0x2040c7[_0x5f1662(-0x259,-0x293,-0x26c,-0x250)],_0x12faf6={'is_published':!![],'show_in_list':!![]},_0x3654cb=[{'model':Tag,'as':_0x272c60(-0x18d,-0x1a6,-0x1af,-0x1a6),'attributes':[_0x272c60(-0x157,-0x189,-0x173,-0x15d),_0x5f1662(-0x234,-0x24c,-0x256,-0x251)],'through':{'attributes':[]},'required':![]},{'model':Category,'as':_0x272c60(-0x191,-0x166,-0x174,-0x180),'attributes':['name',_0x5f1662(-0x252,-0x233,-0x242,-0x253)],'required':![]}];if(_0x412969){if(_0x5f1662(-0x244,-0x250,-0x25a,-0x24d)!==_0x5f1662(-0x25e,-0x28f,-0x26f,-0x290))_0x12faf6[_0x5f1662(-0x24a,-0x25a,-0x26a,-0x284)]=_0x412969;else return _0x40bc90[_0x5f1662(-0x267,-0x273,-0x28b,-0x2b4)](-0x16f6+-0x33*-0x17+0x6f*0x2e)[_0x5f1662(-0x253,-0x25c,-0x237,-0x228)]({'success':![],'message':'此笔记需要密码','requiresPassword':!![]});}else _0x25fecf&&(_0x272c60(-0x172,-0x1a5,-0x17e,-0x188)!=='RbzOZ'?_0x12faf6[_0x5f1662(-0x268,-0x257,-0x253,-0x245)]={[Op[_0x272c60(-0x199,-0x17b,-0x144,-0x170)]]:'%'+_0x25fecf+'%'}:_0x24bfc3(_0x392f28));if(_0x51af8d)_0x5f1662(-0x274,-0x286,-0x260,-0x27d)==='rTLfu'?(_0x3654cb[0x1*-0xe99+-0x2a6+-0x1*-0x113f][_0x272c60(-0x188,-0x191,-0x174,-0x177)]={'id':_0x51af8d},_0x3654cb[-0x1e77+-0x13cb+0x3242][_0x272c60(-0x1c5,-0x1b7,-0x18f,-0x19c)]=!![]):_0x3265da(_0x4924f0);else _0xec24b3&&(_0x12faf6[_0x5f1662(-0x24e,-0x250,-0x275,-0x254)]={[Op['like']]:'%'+_0xec24b3+'%'});if(_0x5aac20){if(_0x272c60(-0x1a9,-0x159,-0x16a,-0x181)==='efoYu'){const _0x4e7c1a=_0x511457[_0x272c60(-0x180,-0x1cb,-0x1a1,-0x1a4)]();return delete _0x4e7c1a[_0x5f1662(-0x240,-0x258,-0x24f,-0x247)],delete _0x4e7c1a[_0x272c60(-0x171,-0x165,-0x16c,-0x178)],delete _0x4e7c1a[_0x5f1662(-0x27c,-0x268,-0x252,-0x267)],delete _0x4e7c1a[_0x5f1662(-0x25a,-0x28f,-0x27d,-0x250)],delete _0x4e7c1a[_0x272c60(-0x134,-0x18a,-0x18a,-0x161)],_0x1187cf[_0x272c60(-0x171,-0x146,-0x153,-0x172)]&&_0x30c8f2[_0x5f1662(-0x248,-0x259,-0x24f,-0x26f)][_0x272c60(-0x1b1,-0x1b7,-0x1b4,-0x19a)]()!==''&&(_0x4e7c1a[_0x272c60(-0x1c0,-0x1ae,-0x1ce,-0x1b1)]=!![],delete _0x4e7c1a[_0x272c60(-0x172,-0x192,-0x1b7,-0x196)],delete _0x4e7c1a['external_link']),_0x4e7c1a;}else _0x12faf6[Op['or']]=[{'title':{[Op[_0x5f1662(-0x233,-0x266,-0x24d,-0x271)]]:'%'+_0x5aac20+'%'}},{'content':{[Op[_0x272c60(-0x185,-0x19c,-0x19c,-0x170)]]:'%'+_0x5aac20+'%'}},{'tags':{[Op[_0x5f1662(-0x22f,-0x26c,-0x24d,-0x26b)]]:'%'+_0x5aac20+'%'}}];}const {count:_0x15e54c,rows:_0x563333}=await Note['findAndCountAll']({'where':_0x12faf6,'include':_0x3654cb,'order':[[_0x5f1662(-0x27c,-0x27d,-0x272,-0x24a),_0x272c60(-0x17d,-0x159,-0x165,-0x17c)],[_0x272c60(-0x187,-0x1c2,-0x1a1,-0x1a0),'DESC'],[_0x272c60(-0x183,-0x16a,-0x17d,-0x18b),_0x3116b7[_0x272c60(-0x1d4,-0x1c9,-0x1b2,-0x1b2)]()]],'limit':_0x520a9f,'offset':_0x1bd511,'distinct':!![]}),_0x1e4a95=_0x563333[_0x272c60(-0x197,-0x161,-0x166,-0x189)](_0x58e659=>{const _0x5d5792=_0x58e659['toJSON']();function _0x461599(_0x1c245a,_0x24904f,_0x39a91b,_0x360f64){return _0x272c60(_0x1c245a-0x9,_0x360f64,_0x39a91b-0xb7,_0x1c245a-0x575);}delete _0x5d5792[_0x37176b(0x344,0x317,0x335,0x363)],delete _0x5d5792[_0x37176b(0x33e,0x330,0x34e,0x331)],delete _0x5d5792[_0x461599(0x400,0x3fc,0x414,0x423)],delete _0x5d5792[_0x37176b(0x316,0x339,0x306,0x30b)],delete _0x5d5792[_0x461599(0x414,0x409,0x440,0x3fa)];_0x58e659[_0x461599(0x403,0x40c,0x430,0x425)]&&_0x58e659[_0x37176b(0x344,0x36d,0x317,0x35f)]['trim']()!==''&&(_0x5d5792[_0x37176b(0x305,0x30f,0x306,0x2db)]=!![],delete _0x5d5792[_0x37176b(0x320,0x31e,0x320,0x30e)],delete _0x5d5792[_0x37176b(0x342,0x33d,0x365,0x356)]);function _0x37176b(_0x5c874c,_0x8aa757,_0x3e3c46,_0x604089){return _0x272c60(_0x5c874c-0x147,_0x8aa757,_0x3e3c46-0x130,_0x5c874c-0x4b6);}return _0x5d5792;});_0x191771[_0x5f1662(-0x224,-0x249,-0x237,-0x243)]({'success':!![],'data':{'notes':_0x1e4a95,'pagination':{'current_page':_0x1197fe,'total_pages':Math[_0x272c60(-0x156,-0x196,-0x151,-0x17a)](_0x15e54c/_0x520a9f),'total_count':_0x15e54c,'per_page':_0x520a9f}}});}else _0x4cf0f4[_0x272c60(-0x154,-0x177,-0x18f,-0x176)]={[_0x5785b5[_0x272c60(-0x176,-0x19a,-0x19a,-0x170)]]:'%'+_0x2fa09e+'%'};}catch(_0x154080){_0x434f58(_0x154080);}},exports[_0x_0x5ee6cf(-0x1d1,-0x1df,-0x1f5,-0x1ea)]=async(_0x1d722e,_0x41f695,_0x17dc89)=>{function _0x386583(_0x389c37,_0x23925c,_0x43521d,_0x4b1307){return _0x_0x5ee6cf(_0x389c37-0x652,_0x23925c-0x19f,_0x4b1307,_0x4b1307-0x1c3);}function _0x10e756(_0x3c4ce1,_0x475ce4,_0xebfa81,_0x5664e8){return _0x_0x3dd5fe(_0x3c4ce1-0x82,_0x475ce4- -0x2fc,_0xebfa81-0xc9,_0x3c4ce1);}try{if(_0x10e756(-0x11e,-0x11e,-0x12e,-0x121)==='SARKD')_0x237153[_0x4c16f7['or']]=[{'title':{[_0x4474ce[_0x386583(0x4be,0x4e4,0x4ca,0x496)]]:'%'+_0x1dc8fa+'%'}},{'content':{[_0x185781[_0x10e756(-0x10c,-0x104,-0x115,-0x10e)]]:'%'+_0x233039+'%'}},{'tags':{[_0x2b1328[_0x10e756(-0xde,-0x104,-0xdb,-0x10c)]]:'%'+_0x18548c+'%'}}];else{const {id:_0x5c322a}=_0x1d722e[_0x386583(0x4a9,0x49f,0x4a5,0x4a4)],_0x345441=_0x1d722e[_0x386583(0x4ca,0x4bb,0x4d6,0x4f3)]['password']||_0x1d722e[_0x10e756(-0x136,-0x123,-0x108,-0x14c)][_0x10e756(-0xdf,-0x106,-0x125,-0x109)],_0x1a1649=await Note[_0x10e756(-0xfe,-0xfb,-0x110,-0x107)](_0x5c322a,{'include':[{'model':Tag,'as':'tagList','attributes':['name',_0x386583(0x4b5,0x4a2,0x4cb,0x4ce)],'through':{'attributes':[]}},{'model':Category,'as':_0x386583(0x4ae,0x4b3,0x4bc,0x48f),'attributes':[_0x10e756(-0xfc,-0xf1,-0xe6,-0xda),'icon']}]});if(!_0x1a1649){if(_0x10e756(-0xe3,-0x103,-0xf7,-0x10a)===_0x386583(0x4bf,0x4bd,0x4c3,0x4a4))return _0x41f695[_0x10e756(-0x11e,-0x142,-0x157,-0x15e)](-0x6f3*0x4+-0x17*0x9+0x1*0x1e2f)['json']({'success':![],'message':_0x386583(0x4b3,0x488,0x4af,0x4ce)});else _0x3037ae[-0x30*0x3+0xb43+-0x21*0x53][_0x10e756(-0xf4,-0x10b,-0xeb,-0xe3)]={'id':_0x4ac85c},_0x5991d1[-0xdc3*-0x1+-0xf73+0x1b0][_0x386583(0x492,0x48b,0x4b4,0x4a8)]=!![];}if(!_0x1a1649[_0x386583(0x4bd,0x4a0,0x4bc,0x4e9)])return _0x41f695[_0x386583(0x480,0x46d,0x479,0x46c)](0xff4*-0x2+-0x1a5*0xa+-0x1*-0x31ed)[_0x386583(0x4d4,0x4f4,0x4bc,0x4e4)]({'success':![],'message':_0x10e756(-0x113,-0x132,-0x149,-0x11f)});const _0x3571c9=_0x1a1649[_0x386583(0x4bc,0x4d7,0x4a2,0x495)]&&typeof _0x1a1649['password']===_0x386583(0x49d,0x484,0x4a6,0x49f)&&_0x1a1649[_0x10e756(-0xf0,-0x106,-0xf3,-0x11a)][_0x386583(0x494,0x472,0x481,0x47d)]()!=='';if(_0x3571c9){if(!_0x345441)return _0x41f695[_0x386583(0x4d4,0x4be,0x4b6,0x4d7)]({'success':!![],'data':{'id':_0x1a1649['id'],'title':_0x1a1649['title'],'category':_0x1a1649['category'],'category_id':_0x1a1649[_0x386583(0x4a1,0x488,0x4b4,0x486)],'tags':_0x1a1649[_0x386583(0x496,0x4b2,0x477,0x492)],'tagList':_0x1a1649[_0x386583(0x488,0x49a,0x4a2,0x461)],'categoryInfo':_0x1a1649['categoryInfo'],'is_published':_0x1a1649[_0x10e756(-0x108,-0x105,-0xf7,-0x10c)],'is_pinned':_0x1a1649[_0x10e756(-0x132,-0x129,-0x107,-0x109)],'published_at':_0x1a1649[_0x10e756(-0x11e,-0x11f,-0x123,-0x139)],'created_at':_0x1a1649[_0x386583(0x4b6,0x498,0x4ac,0x4ab)],'requiresPassword':!![],'content':null}});if(_0x345441!==_0x1a1649[_0x10e756(-0xf3,-0x106,-0xf5,-0xf8)])return _0x10e756(-0xec,-0xff,-0x110,-0xe0)!==_0x386583(0x4c3,0x4b6,0x4b2,0x4e1)?_0x485c47[_0x386583(0x480,0x479,0x47c,0x47b)](0x805*0x2+0x1771*-0x1+0x8fb)[_0x10e756(-0x112,-0xee,-0x119,-0xe5)]({'success':![],'message':_0x386583(0x4b3,0x49c,0x4c7,0x4ab)}):_0x41f695[_0x386583(0x480,0x46e,0x492,0x461)](-0x1fa*0x13+-0xf4f+0x1*0x366e)[_0x386583(0x4d4,0x4ab,0x4e4,0x4c5)]({'success':![],'message':'密码错误'});}const _0x1ceda3=_0x1a1649[_0x386583(0x48a,0x46d,0x47f,0x47e)]();delete _0x1ceda3[_0x386583(0x4bc,0x4a7,0x4cb,0x4bc)],delete _0x1ceda3[_0x10e756(-0xe7,-0x10c,-0x109,-0x11b)],delete _0x1ceda3[_0x386583(0x4b9,0x4c3,0x498,0x4e0)],delete _0x1ceda3['sort_order'],_0x41f695['json']({'success':!![],'data':{..._0x1ceda3,'requiresPassword':![]}});}}catch(_0x499f32){_0x17dc89(_0x499f32);}},exports['getPublicNoteTagStats']=async(_0x4542e0,_0xc5e8e,_0xb335f0)=>{function _0x476075(_0x246995,_0x28f91c,_0x433998,_0x295860){return _0x_0x5ee6cf(_0x246995-0x5e6,_0x28f91c-0x39,_0x433998,_0x295860-0xcb);}function _0x267318(_0x2e1071,_0x133818,_0x3f5990,_0x5afd42){return _0x_0x5ee6cf(_0x133818- -0x65,_0x133818-0x24,_0x2e1071,_0x5afd42-0x55);}try{const {sequelize:_0x52ceb6}=require('../config/database'),_0x1d98f2=await _0x52ceb6[_0x476075(0x433,0x45e,0x406,0x440)](_0x476075(0x43b,0x447,0x454,0x450),{'type':_0x52ceb6[_0x267318(-0x203,-0x220,-0x20d,-0x230)][_0x267318(-0x213,-0x1ef,-0x1fb,-0x1c4)]});_0xc5e8e[_0x267318(-0x1bb,-0x1e3,-0x1d9,-0x1f7)]({'success':!![],'data':_0x1d98f2});}catch(_0x2eb18c){_0xb335f0(_0x2eb18c);}},exports[_0x_0x5ee6cf(-0x1cf,-0x1e7,-0x1ea,-0x1f0)]=async(_0x100fbc,_0x22584b,_0x96d99a)=>{function _0x4d9172(_0x49f45a,_0x3baba7,_0x18c743,_0x42d8db){return _0x_0x5ee6cf(_0x3baba7-0x1c2,_0x3baba7-0xb5,_0x49f45a,_0x42d8db-0x1d2);}function _0x8711b8(_0x34f4e4,_0x4a10c5,_0x319db5,_0x518405){return _0x_0x5ee6cf(_0x34f4e4-0x68a,_0x4a10c5-0x15c,_0x518405,_0x518405-0x54);}try{if('FlDkW'==='RtpaS')_0x4934e0['category_id']=_0x3259a;else{const {id:_0xabf22c}=_0x100fbc[_0x4d9172(0x34,0x19,0x3d,0x18)],{password:_0x13d5e6}=_0x100fbc['query'],{sequelize:_0x16425e}=require('../config/database'),_0x45e902=await Note[_0x8711b8(0x4ff,0x505,0x4ed,0x4ed)](_0xabf22c);if(!_0x45e902){if(_0x8711b8(0x4c3,0x4a8,0x4dc,0x4ae)!==_0x8711b8(0x4c1,0x4b9,0x496,0x4da))return _0x22584b[_0x4d9172(-0x27,-0x10,-0x32,-0x22)](-0x1823*0x1+-0x1247+0x1*0x2bfe)[_0x8711b8(0x50c,0x4ed,0x508,0x51a)]({'success':![],'message':_0x4d9172(0x22,0x23,0x38,0xe)});else _0x508fcd[-0x1f2a*0x1+-0x253+0x217d][_0x8711b8(0x4ef,0x4ce,0x4f2,0x4fb)]={'id':_0x55e9a2},_0x2bfef2[-0x5*-0xf1+0x21d6+-0x268b]['required']=!![];}if(!_0x45e902[_0x8711b8(0x4f5,0x512,0x500,0x4e7)])return'CEZdR'!==_0x8711b8(0x50b,0x503,0x4e9,0x50f)?_0x22584b['status'](-0x2ae+-0x100*0xd+0x277*0x7)['json']({'success':![],'message':_0x8711b8(0x4c8,0x4f0,0x4d5,0x4c4)}):_0x291c1a['status'](0x1fe+-0x1*-0x19af+-0x1*0x1a1a)[_0x4d9172(0x25,0x44,0x39,0x64)]({'success':![],'message':_0x4d9172(-0x23,0x0,-0x2b,0x2b)});const _0x490c92=_0x45e902[_0x4d9172(0x27,0x2c,0x46,0xd)]&&typeof _0x45e902[_0x4d9172(0x9,0x2c,0x20,0x2e)]===_0x8711b8(0x4d5,0x4ce,0x4bd,0x4ba)&&_0x45e902['password'][_0x4d9172(0x12,0x4,0x1f,0x7)]()!=='';if(_0x490c92){if(!_0x13d5e6)return _0x8711b8(0x4d8,0x4f5,0x4d1,0x4dc)!==_0x4d9172(0xa,0x5,0x17,-0x1c)?_0x22584b[_0x4d9172(-0x7,-0x10,-0x20,-0x12)](0xe7b+0xe1d*0x1+0x275*-0xb)[_0x4d9172(0x6a,0x44,0x46,0x6f)]({'success':![],'message':_0x4d9172(0x37,0x18,0x2f,0x32),'requiresPassword':!![]}):_0x425f19['toString']()[_0x4d9172(-0x7,0xa,0xa,-0x11)](_0x4d9172(0x0,0x12,0x1,-0xd))[_0x8711b8(0x4ba,0x4d7,0x491,0x4d6)]()[_0x4d9172(0x21,0x32,0x31,0xd)](_0x133ef9)[_0x4d9172(0x21,0xa,0x7,-0xd)](_0x8711b8(0x4da,0x503,0x4b2,0x4bd));if(_0x13d5e6!==_0x45e902[_0x4d9172(0x18,0x2c,0x37,0x37)])return _0x22584b[_0x8711b8(0x4b8,0x49d,0x4dc,0x4be)](0xf86+-0x1*0xb45+-0x2b0)[_0x8711b8(0x50c,0x51f,0x4f5,0x52c)]({'success':![],'message':_0x4d9172(-0x2a,-0xa,0x14,0x1b)});}const _0x21c40d=await _0x16425e[_0x8711b8(0x4d7,0x4ff,0x4cd,0x4e1)](_0x4d9172(-0x12,-0x4,0xe,0x7),{'replacements':[_0xabf22c],'type':_0x16425e['QueryTypes'][_0x4d9172(0x50,0x38,0x53,0x17)]});_0x22584b[_0x8711b8(0x50c,0x4fa,0x4e2,0x519)]({'success':!![],'data':_0x21c40d});}}catch(_0x259c9e){if(_0x4d9172(0x3,-0x3,-0x21,0x20)!==_0x4d9172(0xb,-0x3,0x22,-0x5))return _0x3ff3bc[_0x4d9172(0x0,-0x10,-0xd,0x12)](-0xfa*0x23+0x1aad+0x912)[_0x8711b8(0x50c,0x4f7,0x517,0x529)]({'success':![],'message':_0x4d9172(0x18,-0xa,-0x27,-0x25)});else _0x96d99a(_0x259c9e);}};function _0x_0x3dd5fe(_0x6a7782,_0x46225d,_0x11f2d6,_0x362818){return _0x_0x3565(_0x46225d-0xb8,_0x362818);}function _0x_0x3565(_0x5d25bd,_0x345a0){_0x5d25bd=_0x5d25bd-(-0x2*-0x653+0x144b*-0x1+0xc9*0xb);const _0xb69b6=_0x_0x5b35();let _0x4e192e=_0xb69b6[_0x5d25bd];if(_0x_0x3565['JOOTzd']===undefined){var _0x27a25e=function(_0x1672ab){const _0x835dc8='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1bf3ad='',_0x3acf56='',_0x3341c5=_0x1bf3ad+_0x27a25e;for(let _0x2720cd=-0x128*0x13+-0x210d+0x3705,_0x20cef6,_0x7b0442,_0xd900f=0x184*0x11+-0x1*0xdfb+-0x1*0xbc9;_0x7b0442=_0x1672ab['charAt'](_0xd900f++);~_0x7b0442&&(_0x20cef6=_0x2720cd%(-0x2cc+-0x1*0x9fe+0xcce)?_0x20cef6*(0xef*0x1b+0x673+-0x1f68)+_0x7b0442:_0x7b0442,_0x2720cd++%(0x1030+-0xf8e+-0x1*0x9e))?_0x1bf3ad+=_0x3341c5['charCodeAt'](_0xd900f+(0x1*-0x125f+0x17c0+-0x557))-(0x78f+-0x219b+-0x6a*-0x3f)!==-0x22db+-0x1fd*0xe+-0x3eb1*-0x1?String['fromCharCode'](-0x1*-0x14e8+0x58f*-0x7+-0x1*-0x1300&_0x20cef6>>(-(0x98a+0x9d*0xd+0x1181*-0x1)*_0x2720cd&0x1f7b+-0x1986+-0x7*0xd9)):_0x2720cd:0x1ae1+0xd13+-0x27f4){_0x7b0442=_0x835dc8['indexOf'](_0x7b0442);}for(let _0x1a32b6=-0x2506+0x8*-0x2ef+0x3c7e,_0x22e601=_0x1bf3ad['length'];_0x1a32b6<_0x22e601;_0x1a32b6++){_0x3acf56+='%'+('00'+_0x1bf3ad['charCodeAt'](_0x1a32b6)['toString'](-0x1321+-0xa3e+0x1d6f))['slice'](-(-0x24f7*-0x1+-0x3*-0x20a+-0x2b13));}return decodeURIComponent(_0x3acf56);};_0x_0x3565['zfxgWo']=_0x27a25e,_0x_0x3565['XuVWLE']={},_0x_0x3565['JOOTzd']=!![];}const _0x16a93b=_0xb69b6[0x1e00+-0x9*-0x15+-0x1ebd],_0x3ce963=_0x5d25bd+_0x16a93b,_0x429a0d=_0x_0x3565['XuVWLE'][_0x3ce963];if(!_0x429a0d){const _0x1a7777=function(_0x5dde59){this['TmssEW']=_0x5dde59,this['jwzyEB']=[0x15ae+0x1d08+-0x32b5,0x220e+-0xe0*0x13+0x8b7*-0x2,0x118+-0xf11+0xdf9],this['FjRHBd']=function(){return'newState';},this['NSqcTL']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['WDXFYD']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x1a7777['prototype']['FNvNAx']=function(){const _0x5eb5e5=new RegExp(this['NSqcTL']+this['WDXFYD']),_0x10332e=_0x5eb5e5['test'](this['FjRHBd']['toString']())?--this['jwzyEB'][-0x1ae1+-0x1c5d+0x373f]:--this['jwzyEB'][0xce2*0x2+-0x1288+-0x73c];return this['dsZEqj'](_0x10332e);},_0x1a7777['prototype']['dsZEqj']=function(_0x1fca57){if(!Boolean(~_0x1fca57))return _0x1fca57;return this['fgDYMY'](this['TmssEW']);},_0x1a7777['prototype']['fgDYMY']=function(_0x4791d5){for(let _0xbcbf5d=-0x1df5*0x1+0x1*-0xb1d+-0x7*-0x5de,_0x5ca216=this['jwzyEB']['length'];_0xbcbf5d<_0x5ca216;_0xbcbf5d++){this['jwzyEB']['push'](Math['round'](Math['random']())),_0x5ca216=this['jwzyEB']['length'];}return _0x4791d5(this['jwzyEB'][0x1808+0xacc+-0x22d4]);},new _0x1a7777(_0x_0x3565)['FNvNAx'](),_0x4e192e=_0x_0x3565['zfxgWo'](_0x4e192e),_0x_0x3565['XuVWLE'][_0x3ce963]=_0x4e192e;}else _0x4e192e=_0x429a0d;return _0x4e192e;}exports[_0x_0x5ee6cf(-0x1a2,-0x18b,-0x184,-0x1b4)]=async(_0x5b4e0d,_0x279b22,_0x460221)=>{function _0x29ba6e(_0x3a56f6,_0x360843,_0x5b6781,_0x3036f9){return _0x_0x3dd5fe(_0x3a56f6-0x1bb,_0x5b6781-0x1a0,_0x5b6781-0xc7,_0x360843);}function _0x4edb3a(_0x240173,_0x116189,_0x2e021b,_0xe10506){return _0x_0x3dd5fe(_0x240173-0x170,_0x2e021b-0x2ec,_0x2e021b-0x1e,_0xe10506);}try{const _0x9668df=parseInt(_0x5b4e0d[_0x4edb3a(0x4cf,0x4c4,0x4c5,0x4e9)][_0x29ba6e(0x356,0x37a,0x35e,0x34e)])||-0x1b7f+-0x1665+0x31e5,_0xac61cc=parseInt(_0x5b4e0d[_0x29ba6e(0x34e,0x39d,0x379,0x38e)]['limit'])||0x2*0x57b+-0x1d3f+0x1253,_0x3250f1=_0x5b4e0d[_0x4edb3a(0x4b2,0x4d0,0x4c5,0x4ba)][_0x4edb3a(0x4dc,0x4d7,0x4f8,0x50f)]||_0x4edb3a(0x4e3,0x490,0x4b7,0x4db),_0x975bae=(_0x9668df-(0x57*-0x3e+-0x127b+0x278e))*_0xac61cc,{category_id:_0x1f4f6d,tag_id:_0x22a48d,category:_0x3d88db,tag:_0x2ee49e,search:_0x351e69}=_0x5b4e0d['query'],_0x3ab298={},_0x3c2ccc=[{'model':Tag,'as':_0x29ba6e(0x388,0x383,0x362,0x368),'through':{'attributes':[]},'required':![]},{'model':Category,'as':_0x29ba6e(0x3b5,0x3b3,0x388,0x398),'required':![]}];if(_0x1f4f6d){if(_0x4edb3a(0x50a,0x4dc,0x4f5,0x4cf)===_0x4edb3a(0x4db,0x4d7,0x4f5,0x50d))_0x3ab298[_0x4edb3a(0x49f,0x4c7,0x4c7,0x4bf)]=_0x1f4f6d;else return _0x358382[_0x29ba6e(0x33a,0x358,0x35a,0x367)](0x267*0x1+-0xe25+0xd52)[_0x4edb3a(0x4ec,0x51d,0x4fa,0x50f)]({'success':![],'message':_0x4edb3a(0x4ad,0x4de,0x4d9,0x4e2)});}else _0x3d88db&&(_0x3ab298['category']={[Op[_0x29ba6e(0x3c4,0x37b,0x398,0x3c0)]]:'%'+_0x3d88db+'%'});if(_0x22a48d)_0x4edb3a(0x4fe,0x4e1,0x4ea,0x4d9)!==_0x29ba6e(0x3ad,0x38e,0x3a6,0x382)?(_0x3c2ccc[-0x6*0xa0+-0x16d*-0x8+-0x7a8][_0x29ba6e(0x381,0x3a9,0x391,0x375)]={'id':_0x22a48d},_0x3c2ccc[0x613+0x1*-0x17cc+0x11b9]['required']=!![]):_0x21e0c5[_0x29ba6e(0x369,0x36e,0x392,0x39b)]={[_0x14a0c6['like']]:'%'+_0x480b81+'%'};else _0x2ee49e&&(_0x3ab298[_0x29ba6e(0x392,0x38d,0x370,0x36d)]={[Op[_0x29ba6e(0x3a1,0x396,0x398,0x36c)]]:'%'+_0x2ee49e+'%'});_0x351e69&&(_0x3ab298[Op['or']]=[{'title':{[Op['like']]:'%'+_0x351e69+'%'}},{'content':{[Op[_0x4edb3a(0x4e5,0x4e6,0x4e4,0x4c7)]]:'%'+_0x351e69+'%'}},{'tags':{[Op['like']]:'%'+_0x351e69+'%'}}]);const {count:_0x142ea3,rows:_0x2e6dee}=await Note[_0x4edb3a(0x479,0x49e,0x4a5,0x48d)]({'where':_0x3ab298,'include':_0x3c2ccc,'order':[[_0x29ba6e(0x36d,0x35d,0x373,0x35b),_0x4edb3a(0x501,0x4c0,0x4d8,0x4fb)],[_0x4edb3a(0x490,0x4a2,0x4b4,0x4a6),_0x4edb3a(0x4e5,0x4d0,0x4d8,0x4ed)],[_0x4edb3a(0x4d6,0x4bc,0x4c9,0x4b0),_0x3250f1[_0x4edb3a(0x4bf,0x481,0x4a2,0x4b9)]()]],'limit':_0xac61cc,'offset':_0x975bae,'distinct':!![]});_0x279b22[_0x4edb3a(0x4f7,0x521,0x4fa,0x50b)]({'success':!![],'data':{'notes':_0x2e6dee,'pagination':{'current_page':_0x9668df,'total_pages':Math['ceil'](_0x142ea3/_0xac61cc),'total_count':_0x142ea3,'per_page':_0xac61cc}}});}catch(_0x2caac1){_0x460221(_0x2caac1);}},exports[_0x_0x3dd5fe(0x222,0x1fb,0x20f,0x1de)]=async(_0x10a100,_0x1da76f,_0x1e25d0)=>{function _0x47c015(_0x3c0ca1,_0xa1aa46,_0x426e7e,_0x383a2e){return _0x_0x5ee6cf(_0x383a2e-0x343,_0xa1aa46-0x179,_0x426e7e,_0x383a2e-0x30);}function _0x36b09f(_0x157071,_0x1c07d5,_0x138e47,_0x5b5229){return _0x_0x3dd5fe(_0x157071-0xe1,_0x1c07d5-0x108,_0x138e47-0x51,_0x5b5229);}try{const {id:_0x1b23bc}=_0x10a100[_0x47c015(0x175,0x19f,0x1aa,0x19a)],_0x4da925=await Note['findByPk'](_0x1b23bc,{'include':[{'model':Tag,'as':_0x47c015(0x193,0x195,0x159,0x179),'through':{'attributes':[]}},{'model':Category,'as':_0x47c015(0x1a6,0x1bf,0x1ba,0x19f)}]});if(!_0x4da925)return _0x1da76f[_0x47c015(0x17c,0x17f,0x198,0x171)](0x7*0x3d7+-0x3d5+-0x1578)['json']({'success':![],'message':_0x36b09f(0x30b,0x2f5,0x31a,0x2f4)});_0x1da76f[_0x36b09f(0x2fb,0x316,0x309,0x2f3)]({'success':!![],'data':_0x4da925});}catch(_0x2be89e){_0x1e25d0(_0x2be89e);}},exports[_0x_0x5ee6cf(-0x1b7,-0x1d9,-0x19a,-0x18b)]=async(_0xdd812a,_0x929b30,_0xb96b3)=>{function _0xc07c4f(_0x642c4,_0x10e8f5,_0x43b58a,_0x3d1c37){return _0x_0x3dd5fe(_0x642c4-0x19,_0x10e8f5-0x2a1,_0x43b58a-0x47,_0x642c4);}function _0x4a45f2(_0x4ab8f3,_0x3c0a4c,_0x2d2127,_0x5e5cfe){return _0x_0x5ee6cf(_0x3c0a4c-0x38f,_0x3c0a4c-0x9,_0x4ab8f3,_0x5e5cfe-0xa5);}try{const {sequelize:_0x550e6c}=require('../config/database'),_0x2630ff=await _0x550e6c[_0x4a45f2(0x1ea,0x1dc,0x1e1,0x1f2)](_0x4a45f2(0x205,0x1db,0x1bc,0x1fd),{'type':_0x550e6c[_0x4a45f2(0x1ac,0x1d4,0x1be,0x1c4)][_0x4a45f2(0x1e1,0x205,0x1f1,0x208)]});_0x929b30[_0xc07c4f(0x496,0x4af,0x491,0x494)]({'success':!![],'data':_0x2630ff});}catch(_0x310556){_0xb96b3(_0x310556);}},exports[_0x_0x5ee6cf(-0x18d,-0x18d,-0x19f,-0x160)]=async(_0x46370f,_0x3e6c47,_0xa30253)=>{function _0x4e879b(_0x1840f5,_0x3e3475,_0xab7e84,_0x22723d){return _0x_0x5ee6cf(_0x1840f5-0x4fc,_0x3e3475-0xc9,_0x22723d,_0x22723d-0xfe);}function _0x52041a(_0x5e1970,_0x23c141,_0x4c9a65,_0x1b3b6a){return _0x_0x5ee6cf(_0x5e1970-0x20e,_0x23c141-0x1e5,_0x23c141,_0x1b3b6a-0xcd);}try{if(_0x52041a(0x6b,0x97,0x96,0x8e)==='aTlKw')_0x2d6db9(_0xc75ff0);else{const {id:_0x2ba609}=_0x46370f[_0x52041a(0x65,0x3b,0x70,0x72)],{sequelize:_0x459a19}=require('../config/database'),_0x47d4c7=await Note[_0x52041a(0x83,0x6d,0xad,0x96)](_0x2ba609);if(!_0x47d4c7)return _0x3e6c47[_0x52041a(0x3c,0x38,0x45,0x66)](-0xf69+-0x22e3+0x33e0)[_0x4e879b(0x37e,0x3a3,0x35c,0x376)]({'success':![],'message':'笔记不存在'});const _0xda13ab=await _0x459a19[_0x4e879b(0x349,0x32e,0x353,0x321)]('\x0a\x20\x20\x20\x20\x20\x20SELECT\x20*\x20FROM\x20note_disks\x0a\x20\x20\x20\x20\x20\x20WHERE\x20note_id\x20=\x20?\x0a\x20\x20\x20\x20\x20\x20ORDER\x20BY\x20sort_order\x20ASC,\x20created_at\x20ASC\x0a\x20\x20\x20\x20',{'replacements':[_0x2ba609],'type':_0x459a19['QueryTypes'][_0x4e879b(0x372,0x38e,0x366,0x360)]});_0x3e6c47[_0x52041a(0x90,0x68,0x86,0x9f)]({'success':!![],'data':_0xda13ab});}}catch(_0x1e7491){_0xa30253(_0x1e7491);}};