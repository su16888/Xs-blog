(function(_0x1f83c3,_0x1fe82a){function _0xd60c26(_0xe5161,_0x42371f,_0xff1bbc,_0x3ce12d){return _0x_0x2736(_0xff1bbc- -0x373,_0x3ce12d);}const _0x1a4c44=_0x1f83c3();function _0xef33f0(_0x548a33,_0x337cb9,_0x4afa2c,_0x4708ad){return _0x_0x2736(_0x4708ad- -0x3da,_0x337cb9);}while(!![]){try{const _0x478453=-parseInt(_0xd60c26(-0x2b0,-0x299,-0x2b6,-0x2a1))/(0x54a*-0x1+-0x2*-0x6e9+-0x887)+-parseInt(_0xd60c26(-0x2bc,-0x2d3,-0x2ce,-0x2ed))/(-0x1*-0x127+0x31e*0x2+-0x761*0x1)*(parseInt(_0xef33f0(-0x31b,-0x323,-0x332,-0x32e))/(-0x542+0x12*-0x17f+0x2033))+parseInt(_0xef33f0(-0x33d,-0x333,-0x310,-0x327))/(-0x18a6+0x24c5+0x3*-0x409)*(parseInt(_0xd60c26(-0x2bb,-0x2e5,-0x2d5,-0x2f1))/(-0x237a+-0x42*-0x65+0x975))+-parseInt(_0xef33f0(-0x31f,-0x31e,-0x2f6,-0x30a))/(-0x8b8+-0x9f*0xd+0x11f*0xf)+parseInt(_0xd60c26(-0x2ad,-0x28a,-0x29a,-0x286))/(-0x1e1f+-0x6c4+-0x32*-0xbd)+-parseInt(_0xef33f0(-0x330,-0x352,-0x330,-0x33a))/(-0x10f3*-0x2+0x822+-0x2a00)*(parseInt(_0xef33f0(-0x313,-0x312,-0x311,-0x310))/(-0x23ee+0x12d+-0x1165*-0x2))+-parseInt(_0xd60c26(-0x2b2,-0x2b6,-0x2bf,-0x2d2))/(-0xcaf+0x11ba+-0x501)*(-parseInt(_0xef33f0(-0x2f9,-0x323,-0x31d,-0x30e))/(0x2102+0x9*-0x38a+-0x11d));if(_0x478453===_0x1fe82a)break;else _0x1a4c44['push'](_0x1a4c44['shift']());}catch(_0x251f8d){_0x1a4c44['push'](_0x1a4c44['shift']());}}}(_0x_0x4982,-0xf06fb+0x14e*0x5eb+0x12c08e));function _0x_0x4982(){const _0x480c11=['y291BNq','z2v0qwrTAw5dyxrLz29YAwvZ','C3rHDhvZ','BgvUz3rO','C29YDf9VCMrLCG','y3jLyxrLzf9HDa','ntiZndq3wK5JA3LW','5yIg57g75yIG6zMK5OIq5yQF','DgL0Bgu','qvnd','5yIg57g75zcn56EW5BEY5A2y5zYO','BMfTzq','yvfsCeW','y3jLyxrLq2f0zwDVCNK','C2vHCMnO','ANnVBG','zev2wve','DxbKyxrL','C0rerMC','mtuZy2rRBufp','z2fSBgvYAwvZ','mZi0ntKWntnVtw15quK','BwfW','DNvdC2q','Dg9tDhjPBMC','nJC2nZuYnNDhzuPAzW','5O6s5BQp5PU05PAW5OIq5yQF','5PEG5Pwi55Qe5O6s5BQp5PwW5O2U','CgfYyw1Z','yM9KEq','D2jeEeq','Ee90rNu','zgvSzxrLq2f0zwDVCNK','ywPwuue','ntmYnZyYm21LuwP0wa','y29UC3rYDwn0B3i','ywXS','zMLUzej5ugS','kcGOlISPkYKRksSK','AwnVBG','zMLUze9Uzq','ndu5nwTjrvHMBG','yxbWBhK','nJq2ndmYAwfKu2nt','5yIg57g75lIn5A2y5zYO','zgvZy3jPChrPB24','CuT6BK4','tuX4qw0','nJq3mZrer01SChm','tK1LvKy','z2v0q2f0zwDVCNK','AxnbCNjHEq','Dgfzy0y','rNv6u24','revtqW','ntDbu3LTqKi','5yIg57g75zcn56EW5lIn6io95lI656M6','y3jLyxrL','tMDusK8','BfD4tMG','zxHWB3j0CW','zMLUzefSBa','mJK1mLLusfjjCq','mtbXveHluMC','DxbKyxrLq2f0zwDVCNK','z2fSBgvYEunVDw50'];_0x_0x4982=function(){return _0x480c11;};return _0x_0x4982();}const _0x_0x53a8a3=(function(){let _0x32c3d5=!![];return function(_0x3614a,_0x372499){const _0x4e0ad7=_0x32c3d5?function(){function _0x35a24e(_0x48cf5a,_0x31dd08,_0x3ac99f,_0x2d1e9b){return _0x_0x2736(_0x48cf5a-0x35a,_0x31dd08);}function _0x595700(_0x599b16,_0x4de78b,_0x37f1ab,_0x14709a){return _0x_0x2736(_0x4de78b- -0x39c,_0x37f1ab);}if(_0x595700(-0x2db,-0x2d9,-0x2e6,-0x2ce)!==_0x595700(-0x2e0,-0x2ed,-0x2f8,-0x30d)){if(_0x372499){if(_0x595700(-0x2ee,-0x2f6,-0x2d7,-0x2ef)===_0x35a24e(0x400,0x41e,0x410,0x3f9)){const _0x1fb9cf=_0x372499[_0x595700(-0x300,-0x2fd,-0x317,-0x31c)](_0x3614a,arguments);return _0x372499=null,_0x1fb9cf;}else{if(_0x266657){const _0x1ddae2=_0x2f5940[_0x35a24e(0x3f9,0x400,0x3f0,0x414)](_0x3ce0a7,arguments);return _0x497728=null,_0x1ddae2;}}}}else{const _0x1f238b=_0xcdb0c0?function(){function _0x4f0dcd(_0x5c91e1,_0x4787e5,_0x49c8e6,_0x2c8343){return _0x35a24e(_0x4787e5- -0x61a,_0x2c8343,_0x49c8e6-0x121,_0x2c8343-0x24);}if(_0x55ac1e){const _0x2413f0=_0x4e4d45[_0x4f0dcd(-0x22c,-0x221,-0x241,-0x202)](_0x2b95b6,arguments);return _0x4ddaab=null,_0x2413f0;}}:function(){};return _0x49e7df=![],_0x1f238b;}}:function(){};return _0x32c3d5=![],_0x4e0ad7;};}()),_0x_0xcab9ba=_0x_0x53a8a3(this,function(){function _0x404898(_0x48e673,_0x31826a,_0x2a5f44,_0x411364){return _0x_0x2736(_0x48e673- -0x359,_0x31826a);}function _0x52d669(_0x370e72,_0x506bd2,_0x4fe547,_0x3bdbc3){return _0x_0x2736(_0x506bd2- -0x18f,_0x3bdbc3);}return _0x_0xcab9ba[_0x52d669(-0xc0,-0xc0,-0xce,-0xd6)]()['search'](_0x52d669(-0xf6,-0xf4,-0xe7,-0x101))['toString']()[_0x404898(-0x27f,-0x27e,-0x298,-0x27a)](_0x_0xcab9ba)[_0x52d669(-0xc8,-0xca,-0xb0,-0xd3)](_0x52d669(-0xfb,-0xf4,-0xed,-0x102));});_0x_0xcab9ba();const GalleryCategory=require('../models/GalleryCategory'),Gallery=require('../models/Gallery');function _0x_0x2736(_0x409b2f,_0x3de490){_0x409b2f=_0x409b2f-(-0x1d2a+-0x1874+0x295*0x15);const _0xc1be34=_0x_0x4982();let _0x2c5728=_0xc1be34[_0x409b2f];if(_0x_0x2736['xqOmvX']===undefined){var _0x120421=function(_0x2a3103){const _0x312b92='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x17c90b='',_0x1519c4='',_0x37c4af=_0x17c90b+_0x120421;for(let _0x4cd0f0=-0x6f1*0x1+0x5*-0x2d9+0x1*0x152e,_0x234242,_0x3a45ee,_0x24b547=0x27f*-0x2+-0x295*-0x3+0x2c1*-0x1;_0x3a45ee=_0x2a3103['charAt'](_0x24b547++);~_0x3a45ee&&(_0x234242=_0x4cd0f0%(-0x197*0x1+-0xc24*-0x3+-0x22d1)?_0x234242*(-0x1915*-0x1+-0x24d7+0x2*0x601)+_0x3a45ee:_0x3a45ee,_0x4cd0f0++%(0x1511+-0x103*-0x22+-0x1*0x3773))?_0x17c90b+=_0x37c4af['charCodeAt'](_0x24b547+(0xace+0x151f+-0x1fe3))-(0xd08+-0x1eae+0x11b0)!==0x2146+-0xa6*0x15+-0x13a8?String['fromCharCode'](-0x21c3+0x26*0x18+0x1f32&_0x234242>>(-(0x1672+0x1*0xe9d+-0x250d)*_0x4cd0f0&-0x16af+0x1*0x137+-0x312*-0x7)):_0x4cd0f0:0x3*-0xabc+0x25c*-0xd+0x3ee0){_0x3a45ee=_0x312b92['indexOf'](_0x3a45ee);}for(let _0x2f7099=-0x6*-0x322+0x1*0x1196+0x1231*-0x2,_0x51804c=_0x17c90b['length'];_0x2f7099<_0x51804c;_0x2f7099++){_0x1519c4+='%'+('00'+_0x17c90b['charCodeAt'](_0x2f7099)['toString'](0x374+-0x1be4+0x1880))['slice'](-(0x55+0x1827*0x1+-0x2*0xc3d));}return decodeURIComponent(_0x1519c4);};_0x_0x2736['qunoDe']=_0x120421,_0x_0x2736['dGagNQ']={},_0x_0x2736['xqOmvX']=!![];}const _0x327316=_0xc1be34[-0x23bd+0x5*-0x53b+0x44*0xe9],_0x4780ad=_0x409b2f+_0x327316,_0x457eec=_0x_0x2736['dGagNQ'][_0x4780ad];if(!_0x457eec){const _0x190f21=function(_0x1587c2){this['YjdmpE']=_0x1587c2,this['iZcHMz']=[-0x1*0x1faf+0x20df+-0x12f,0x9d*-0x3b+-0x270f+0x259f*0x2,0x71*-0x44+-0x6*-0x4db+0xe2],this['EhArRT']=function(){return'newState';},this['hPORGT']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ysAWhV']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x190f21['prototype']['cgWNVT']=function(){const _0x58bef6=new RegExp(this['hPORGT']+this['ysAWhV']),_0x2a876e=_0x58bef6['test'](this['EhArRT']['toString']())?--this['iZcHMz'][0x176+0x19a0+-0x1*0x1b15]:--this['iZcHMz'][-0x223c+-0x5bc+0x27f8];return this['hMLUZs'](_0x2a876e);},_0x190f21['prototype']['hMLUZs']=function(_0x48effa){if(!Boolean(~_0x48effa))return _0x48effa;return this['WaEaRY'](this['YjdmpE']);},_0x190f21['prototype']['WaEaRY']=function(_0xe42338){for(let _0x3a569a=-0x2d1*-0x2+0x526+-0xac8,_0x57bec2=this['iZcHMz']['length'];_0x3a569a<_0x57bec2;_0x3a569a++){this['iZcHMz']['push'](Math['round'](Math['random']())),_0x57bec2=this['iZcHMz']['length'];}return _0xe42338(this['iZcHMz'][-0x1069*-0x2+0x119*0x17+-0x3a11]);},new _0x190f21(_0x_0x2736)['cgWNVT'](),_0x2c5728=_0x_0x2736['qunoDe'](_0x2c5728),_0x_0x2736['dGagNQ'][_0x4780ad]=_0x2c5728;}else _0x2c5728=_0x457eec;return _0x2c5728;}exports['getPublicCategories']=async(_0x19f8c2,_0x4d4738,_0x66ca72)=>{function _0x320421(_0x23b927,_0x154256,_0x4c8063,_0xb37b4e){return _0x_0x2736(_0x23b927-0x2e9,_0xb37b4e);}function _0x2d1ddf(_0x2ef804,_0x1dd834,_0x4595fc,_0x47840c){return _0x_0x2736(_0x4595fc- -0x120,_0x1dd834);}try{const _0x2b8079=await GalleryCategory['findAll']({'where':{'is_visible':!![]},'attributes':['id',_0x2d1ddf(-0x51,-0x77,-0x5e,-0x76),_0x320421(0x38b,0x390,0x39a,0x376),'icon','sort_order'],'order':[[_0x2d1ddf(-0x4b,-0x7a,-0x65,-0x51),_0x320421(0x3a9,0x38e,0x3c6,0x397)],['created_at',_0x2d1ddf(-0x8a,-0x83,-0x75,-0x5d)]]});_0x4d4738[_0x320421(0x3af,0x3a6,0x3b1,0x3bb)]({'success':!![],'data':_0x2b8079});}catch(_0x6092f8){_0x66ca72(_0x6092f8);}},exports[_0x_0x41ce0d(0xfd,0x100,0xde,0xfb)]=async(_0x6aa903,_0x55bc1e,_0xebad07)=>{function _0x14a647(_0x214d15,_0x3e00fb,_0xf86073,_0x1cfc92){return _0x_0x41ce0d(_0x214d15-0x2a,_0x1cfc92,_0xf86073-0x144,_0x3e00fb-0x1ed);}function _0x44a0be(_0x2abdc8,_0xabe0cd,_0xa235e1,_0x36dfad){return _0x_0x41ce0d(_0x2abdc8-0x185,_0xabe0cd,_0xa235e1-0x149,_0xa235e1- -0x1ae);}try{const _0x5dbb6c=await GalleryCategory[_0x14a647(0x2f8,0x2e2,0x2fb,0x2e7)]({'include':[{'model':Gallery,'as':_0x14a647(0x304,0x2fb,0x2fa,0x2e3),'attributes':['id']}],'order':[[_0x14a647(0x2d4,0x2eb,0x2f1,0x2f2),'ASC'],[_0x14a647(0x2ce,0x2ec,0x309,0x302),_0x14a647(0x2d6,0x2db,0x2d6,0x2f6)]]}),processedCategories=_0x5dbb6c[_0x44a0be(-0xbc,-0xa8,-0x9e,-0xb4)](_0x51a68b=>{const _0x1fa701=_0x51a68b['toJSON']();function _0x2a222b(_0x2a00ce,_0x11525a,_0x2aa269,_0x215221){return _0x44a0be(_0x2a00ce-0x2a,_0x2a00ce,_0x11525a- -0x43,_0x215221-0x70);}_0x1fa701[_0x2a222b(-0x113,-0xf8,-0x10b,-0xf2)]=_0x1fa701['galleries']?_0x1fa701[_0x596d95(-0x282,-0x274,-0x280,-0x283)][_0x596d95(-0x293,-0x285,-0x29d,-0x27a)]:0x1336+0x18f9*0x1+-0x2c2f*0x1;function _0x596d95(_0x1c39e8,_0x33e608,_0x2d3433,_0x3cdcb9){return _0x44a0be(_0x1c39e8-0x37,_0x1c39e8,_0x33e608- -0x1d4,_0x3cdcb9-0x1ef);}return delete _0x1fa701[_0x596d95(-0x28e,-0x274,-0x264,-0x26f)],_0x1fa701;});_0x55bc1e[_0x44a0be(-0x9c,-0x86,-0xa5,-0x8e)]({'success':!![],'data':processedCategories});}catch(_0x50148a){if(_0x14a647(0x310,0x2f9,0x2ea,0x2e1)!==_0x44a0be(-0xa6,-0x74,-0x93,-0x9a))_0xebad07(_0x50148a);else return _0x35ccb0[_0x44a0be(-0xb6,-0xa5,-0xb2,-0x96)](-0x134a+-0x1364+0x283e)[_0x14a647(0x2fa,0x2f6,0x310,0x2fe)]({'success':![],'message':'分类名称不能为空'});}},exports[_0x_0x264aa4(0x247,0x229,0x22d,0x23d)]=async(_0x9e4674,_0x4a652f,_0x21018f)=>{function _0x4bfb3e(_0x4dc778,_0x521000,_0x25ff8b,_0x29985b){return _0x_0x41ce0d(_0x4dc778-0xa9,_0x521000,_0x25ff8b-0x1b2,_0x4dc778- -0xcc);}function _0x191908(_0x583ea0,_0x5a5119,_0x2f1897,_0x1c869b){return _0x_0x264aa4(_0x583ea0,_0x2f1897- -0x29a,_0x2f1897-0x19a,_0x1c869b-0x157);}try{const {id:_0x78fa3f}=_0x9e4674[_0x4bfb3e(0x4a,0x3d,0x2c,0x37)],_0x1b0f04=await GalleryCategory[_0x191908(-0x49,-0x1e,-0x3c,-0x3c)](_0x78fa3f,{'include':[{'model':Gallery,'as':_0x4bfb3e(0x42,0x4b,0x5d,0x31),'attributes':['id',_0x4bfb3e(0x36,0x17,0x25,0x4c)]}]});if(!_0x1b0f04)return _0x4a652f[_0x4bfb3e(0x30,0x2a,0x21,0x12)](-0x10ac+-0x1*-0x1f96+-0x6*0x239)[_0x191908(-0x6e,-0x6a,-0x52,-0x3c)]({'success':![],'message':_0x191908(-0x8a,-0x81,-0x77,-0x57)});_0x4a652f[_0x191908(-0x6a,-0x42,-0x52,-0x48)]({'success':!![],'data':_0x1b0f04});}catch(_0xb9c573){_0x21018f(_0xb9c573);}},exports[_0x_0x264aa4(0x25e,0x246,0x230,0x245)]=async(_0x120520,_0x1c3e8c,_0x52a607)=>{function _0x2bb195(_0x2d8513,_0x540098,_0x457abc,_0x913a6c){return _0x_0x41ce0d(_0x2d8513-0xfc,_0x540098,_0x457abc-0x1b4,_0x457abc- -0x26f);}function _0x59dba2(_0x522ee5,_0x138b40,_0x124f7e,_0x315cce){return _0x_0x264aa4(_0x522ee5,_0x138b40- -0x354,_0x124f7e-0x62,_0x315cce-0x76);}try{if(_0x2bb195(-0x19f,-0x16c,-0x182,-0x199)===_0x59dba2(-0x11b,-0x122,-0x124,-0x142))return _0x46a183['status'](-0x1321*0x1+-0x1*-0xbcd+0x8e4)[_0x2bb195(-0x157,-0x158,-0x166,-0x182)]({'success':![],'message':'分类名称已存在'});else{const {name:_0x3fceda,description:_0x2b1f14,icon:_0x32bf1c,sort_order:_0x1209d4,is_visible:_0x326b6f}=_0x120520[_0x59dba2(-0x11b,-0xfe,-0x103,-0x101)];if(!_0x3fceda)return _0x1c3e8c['status'](0xe3*0x16+-0x2103+0xf11)[_0x2bb195(-0x16a,-0x182,-0x166,-0x17e)]({'success':![],'message':_0x2bb195(-0x19a,-0x190,-0x17f,-0x17e)});const _0xa824fb=await GalleryCategory[_0x2bb195(-0x1a1,-0x17c,-0x18f,-0x192)]({'where':{'name':_0x3fceda}});if(_0xa824fb)return _0x59dba2(-0x11f,-0x12e,-0x125,-0x11c)!==_0x59dba2(-0x114,-0x12e,-0x136,-0x124)?_0xdc8d03['status'](-0x25e2+0xff5*0x2+0x788)[_0x2bb195(-0x17a,-0x182,-0x166,-0x161)]({'success':![],'message':_0x59dba2(-0x10a,-0x111,-0x104,-0xf3)}):_0x1c3e8c[_0x59dba2(-0x12b,-0x119,-0x133,-0x122)](0x2e*-0x3d+-0x13*0xeb+0x1df7)[_0x59dba2(-0x108,-0x10c,-0x118,-0x127)]({'success':![],'message':'分类名称已存在'});const _0x41edce=await GalleryCategory[_0x2bb195(-0x166,-0x168,-0x17e,-0x192)]({'name':_0x3fceda,'description':_0x2b1f14,'icon':_0x32bf1c,'sort_order':_0x1209d4||0x14d2+-0xa3f*-0x3+-0x1*0x338f,'is_visible':_0x326b6f!==undefined?_0x326b6f:!![]});_0x1c3e8c[_0x2bb195(-0x16b,-0x17c,-0x173,-0x18a)](0xe28*-0x2+0x17a2+0x577*0x1)[_0x59dba2(-0x10e,-0x10c,-0xfc,-0xf8)]({'success':!![],'message':'分类创建成功','data':_0x41edce});}}catch(_0x2659d1){_0x52a607(_0x2659d1);}},exports[_0x_0x41ce0d(0xe9,0x102,0xed,0xf8)]=async(_0x539fe7,_0x4ae0f6,_0x20aef0)=>{function _0x1c8ca4(_0x78a9df,_0xaeaca,_0x42f985,_0x555c30){return _0x_0x41ce0d(_0x78a9df-0x1ef,_0x42f985,_0x42f985-0x1c2,_0x78a9df- -0x405);}function _0x515636(_0x8ea996,_0x50fd9f,_0x3f6dcd,_0x2d40cc){return _0x_0x264aa4(_0x2d40cc,_0x8ea996- -0x1ee,_0x3f6dcd-0x8e,_0x2d40cc-0x1a2);}try{const {id:_0x2206c9}=_0x539fe7[_0x1c8ca4(-0x2ef,-0x2d0,-0x2d7,-0x2e5)],{name:_0x5d3f1c,description:_0x4e98df,icon:_0x2e1fa0,sort_order:_0x581033,is_visible:_0x3e483d}=_0x539fe7['body'],_0x54f593=await GalleryCategory[_0x1c8ca4(-0x2e6,-0x2e2,-0x2cb,-0x2ea)](_0x2206c9);if(!_0x54f593){if(_0x515636(0x6a,0x4d,0x66,0x5d)==='xOtFu')return _0x4ae0f6['status'](-0x3d*-0x9b+-0x432*-0x8+-0x1*0x44eb)['json']({'success':![],'message':_0x1c8ca4(-0x321,-0x313,-0x30d,-0x31a)});else _0x67bc61(_0x340916);}if(_0x5d3f1c&&_0x5d3f1c!==_0x54f593[_0x515636(0x56,0x55,0x6e,0x4c)]){const _0x5dd91a=await GalleryCategory[_0x515636(0x31,0x10,0x21,0x18)]({'where':{'name':_0x5d3f1c}});if(_0x5dd91a)return _0x4ae0f6[_0x515636(0x4d,0x3d,0x6b,0x3e)](0x3*0x35+0x2527+-0x2436)[_0x515636(0x5a,0x4d,0x55,0x79)]({'success':![],'message':_0x515636(0x55,0x48,0x51,0x75)});}await _0x54f593[_0x515636(0x5c,0x60,0x44,0x72)]({'name':_0x5d3f1c!==undefined?_0x5d3f1c:_0x54f593[_0x515636(0x56,0x69,0x48,0x37)],'description':_0x4e98df!==undefined?_0x4e98df:_0x54f593[_0x515636(0x36,0x52,0x37,0x1f)],'icon':_0x2e1fa0!==undefined?_0x2e1fa0:_0x54f593[_0x1c8ca4(-0x326,-0x333,-0x32a,-0x32b)],'sort_order':_0x581033!==undefined?_0x581033:_0x54f593[_0x515636(0x4f,0x4b,0x30,0x54)],'is_visible':_0x3e483d!==undefined?_0x3e483d:_0x54f593['is_visible']}),_0x4ae0f6[_0x1c8ca4(-0x2fc,-0x30b,-0x2f0,-0x317)]({'success':!![],'message':'分类更新成功','data':_0x54f593});}catch(_0xef507b){_0x20aef0(_0xef507b);}},exports[_0x_0x264aa4(0x26f,0x259,0x253,0x267)]=async(_0x592f0a,_0x5e424f,_0x59981f)=>{function _0x3890f0(_0x214059,_0x315625,_0x3b083b,_0x1db1c1){return _0x_0x41ce0d(_0x214059-0xef,_0x214059,_0x3b083b-0x9f,_0x315625-0x61);}function _0x38f85d(_0xe99898,_0x5cf851,_0x536c43,_0x2caeb5){return _0x_0x41ce0d(_0xe99898-0xc9,_0x2caeb5,_0x536c43-0xac,_0x5cf851-0x208);}try{if('tSXeq'===_0x38f85d(0x339,0x320,0x313,0x337))return _0x34d419[_0x3890f0(0x17a,0x15d,0x164,0x14a)](-0x2489*-0x1+0x5b3*-0x4+-0xc29)[_0x3890f0(0x15f,0x16a,0x14f,0x17f)]({'success':![],'message':_0x38f85d(0x2e1,0x2ec,0x2ff,0x2e5)});else{const {id:_0x60f232}=_0x592f0a[_0x38f85d(0x338,0x31e,0x316,0x322)],_0x10e4ec=await GalleryCategory['findByPk'](_0x60f232);if(!_0x10e4ec)return _0x5e424f[_0x38f85d(0x312,0x304,0x323,0x315)](0x3c5+-0x63+-0x1ce)[_0x38f85d(0x310,0x311,0x2f5,0x319)]({'success':![],'message':_0x3890f0(0x160,0x145,0x148,0x14a)});const _0x1b873f=await Gallery[_0x3890f0(0x14c,0x15b,0x167,0x170)]({'where':{'category_id':_0x60f232}});if(_0x1b873f>0x9a*0x1+-0xb8d*-0x3+-0x19*0x169)return'CjGVc'!==_0x3890f0(0x182,0x172,0x17f,0x18d)?_0x5e424f[_0x38f85d(0x308,0x304,0x313,0x2ea)](0xfa1+-0x25*-0xb3+0x4*-0x9fc)[_0x3890f0(0x187,0x16a,0x16e,0x181)]({'success':![],'message':'该分类下有\x20'+_0x1b873f+'\x20个图册，无法删除。请先将图册移到其他分类或删除图册。'}):_0x214c61['toString']()[_0x38f85d(0x304,0x310,0x316,0x2f5)](_0x3890f0(0x124,0x13f,0x12c,0x15f))[_0x38f85d(0x32b,0x31a,0x2fc,0x319)]()[_0x3890f0(0x18e,0x17e,0x176,0x198)](_0x39647b)[_0x38f85d(0x305,0x310,0x30a,0x326)]('(((.+)+)+)+$');await _0x10e4ec['destroy'](),_0x5e424f[_0x38f85d(0x2f0,0x311,0x311,0x314)]({'success':!![],'message':_0x3890f0(0x16a,0x162,0x160,0x15b)});}}catch(_0x5dd374){_0x59981f(_0x5dd374);}},exports['updateCategoryOrder']=async(_0xb6bb21,_0xbde71f,_0x4ecbb6)=>{function _0xd17854(_0x1799a2,_0x164d04,_0x3e98bd,_0x1f8b69){return _0x_0x41ce0d(_0x1799a2-0x146,_0x1f8b69,_0x3e98bd-0x1a3,_0x164d04- -0x3fe);}function _0x433f31(_0x16707f,_0x5a65f5,_0x2ff2a0,_0x2c183f){return _0x_0x41ce0d(_0x16707f-0x9e,_0x2ff2a0,_0x2ff2a0-0x148,_0x2c183f- -0x263);}try{const {categoryOrders:_0x280e04}=_0xb6bb21[_0x433f31(-0x12e,-0x143,-0x160,-0x14c)];if(!_0x280e04||!Array[_0xd17854(-0x32c,-0x313,-0x325,-0x333)](_0x280e04)){if(_0x433f31(-0x18b,-0x195,-0x17c,-0x17d)!==_0xd17854(-0x2f1,-0x312,-0x2ff,-0x32a))return _0xbde71f[_0xd17854(-0x31a,-0x302,-0x2fe,-0x317)](0x82*-0x26+-0x12e1+0x27bd)[_0x433f31(-0x13b,-0x13e,-0x149,-0x15a)]({'success':![],'message':_0xd17854(-0x2fc,-0x2e9,-0x2db,-0x2eb)});else _0x269134(_0x411a94);}await Promise[_0x433f31(-0x144,-0x125,-0x152,-0x145)](_0x280e04[_0xd17854(-0x2ec,-0x2ee,-0x2fe,-0x30b)](({id:_0x2704dc,sort_order:_0x486876})=>GalleryCategory[_0x433f31(-0x16c,-0x145,-0x168,-0x158)]({'sort_order':_0x486876},{'where':{'id':_0x2704dc}}))),_0xbde71f['json']({'success':!![],'message':_0x433f31(-0x13b,-0x15f,-0x131,-0x14f)});}catch(_0x24441d){_0xd17854(-0x2e9,-0x2f4,-0x2dd,-0x2f1)==='dGWwO'?_0x1dd6a4(_0x42ccfc):_0x4ecbb6(_0x24441d);}};function _0x_0x41ce0d(_0x342d06,_0x1d6b12,_0xbb2277,_0x3eb1c7){return _0x_0x2736(_0x3eb1c7-0x43,_0x1d6b12);}function _0x_0x264aa4(_0x5b10f0,_0x4c356b,_0x5dcddd,_0x41ee49){return _0x_0x2736(_0x4c356b-0x182,_0x5b10f0);}module[_0x_0x41ce0d(0x10c,0x10c,0xf0,0xf4)]=exports;