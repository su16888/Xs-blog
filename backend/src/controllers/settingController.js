(function(_0x220fa0,_0x502417){const _0x592d59=_0x220fa0();function _0x1e2722(_0x1226e3,_0x49351b,_0x2518fd,_0x4606b1){return _0x_0x6f5d(_0x2518fd-0x19f,_0x49351b);}function _0x1abd7d(_0x28ba14,_0x3e2550,_0xf90949,_0x2c28a6){return _0x_0x6f5d(_0x2c28a6- -0x141,_0xf90949);}while(!![]){try{const _0x2a51e0=-parseInt(_0x1e2722(0x366,0x32d,0x384,0x358))/(0x2042+0x1*-0x2f6+-0x1d4b)+parseInt(_0x1e2722(0x3a6,0x375,0x34a,0x30b))/(-0x1b6b*-0x1+0xc1*0x11+-0x283a)*(-parseInt(_0x1e2722(0x343,0x392,0x338,0x35e))/(-0xe*0xa0+-0x76f*-0x3+0xd8a*-0x1))+-parseInt(_0x1e2722(0x3a1,0x3c1,0x3a8,0x364))/(0xcd4+0x1*0xd61+-0x1a31)+parseInt(_0x1abd7d(0x4e,-0x3,0x76,0x45))/(0x1*0x21db+-0x1611+-0xbc5)+-parseInt(_0x1abd7d(0x8c,0xd5,0x126,0xcb))/(-0x1*-0xa4c+0x24bc+-0x2f02)*(parseInt(_0x1e2722(0x3af,0x3b2,0x3c8,0x3a3))/(-0x1c27+0x21a9+-0x57b*0x1))+parseInt(_0x1abd7d(0x88,0xe1,0xa3,0xd8))/(-0x1*-0x704+0x5e*-0x13+-0x2)+parseInt(_0x1abd7d(0xb3,0x80,0x23,0x78))/(0x1ab*-0x7+0x32b*0x5+-0x1*0x421);if(_0x2a51e0===_0x502417)break;else _0x592d59['push'](_0x592d59['shift']());}catch(_0x5d4692){_0x592d59['push'](_0x592d59['shift']());}}}(_0x_0x5a4b,-0x4c*0x1849+0x281dc+0x984ab));function _0x_0x6f5d(_0x473952,_0x5c0370){const _0x3d116d=_0x_0x5a4b();return _0x_0x6f5d=function(_0x4ae920,_0x7ba284){_0x4ae920=_0x4ae920-(0x1b95+-0x85*0x49+-0xbc5*-0x1);let _0x339f1b=_0x3d116d[_0x4ae920];if(_0x_0x6f5d['FYmgyW']===undefined){var _0x2c76e5=function(_0xb9213d){const _0x264139='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x44c9d8='',_0x578391='',_0x298aff=_0x44c9d8+_0x2c76e5;for(let _0x550d82=0x247e+0x21d9+0x1*-0x4657,_0x100e39,_0x18ba57,_0x4e0e6e=-0x15c7+-0x8b1+0x1e78;_0x18ba57=_0xb9213d['charAt'](_0x4e0e6e++);~_0x18ba57&&(_0x100e39=_0x550d82%(-0x1d5c+-0xeb6+0x201*0x16)?_0x100e39*(-0x3fe*-0x1+0xb9f+-0xf5d)+_0x18ba57:_0x18ba57,_0x550d82++%(-0xf95*-0x1+0x499*0x7+-0x2fc0))?_0x44c9d8+=_0x298aff['charCodeAt'](_0x4e0e6e+(0x1*0x2189+0x14ae+-0x605*0x9))-(0x448+-0xa5d+0x61f)!==0x1*-0xb16+0xbaf+-0x99?String['fromCharCode'](0x1e62*0x1+-0xc4e*-0x1+-0x29b1&_0x100e39>>(-(0x17*-0x2a+0x293+-0x1*-0x135)*_0x550d82&-0xfe5+0x1dc*-0xd+0x2817)):_0x550d82:-0x270b*-0x1+0xf9*0xb+-0x31be*0x1){_0x18ba57=_0x264139['indexOf'](_0x18ba57);}for(let _0x5790c7=0x12c6+0x1f8c+0x2*-0x1929,_0x4b1feb=_0x44c9d8['length'];_0x5790c7<_0x4b1feb;_0x5790c7++){_0x578391+='%'+('00'+_0x44c9d8['charCodeAt'](_0x5790c7)['toString'](-0xad1+-0x941+0x1*0x1422))['slice'](-(-0xd3e+-0x4*-0x922+-0x4*0x5d2));}return decodeURIComponent(_0x578391);};_0x_0x6f5d['bZrGWG']=_0x2c76e5,_0x473952=arguments,_0x_0x6f5d['FYmgyW']=!![];}const _0x2ae50a=_0x3d116d[0x2*0x944+-0x245b+-0x1fb*-0x9],_0x39f275=_0x4ae920+_0x2ae50a,_0x5ac3a1=_0x473952[_0x39f275];if(!_0x5ac3a1){const _0x4eda5e=function(_0x3c39e9){this['JyrHSd']=_0x3c39e9,this['uLjvOx']=[0x1a49+-0x1026+-0xa22,0x1f18+0x3c2+-0x22da,0x16d9*-0x1+-0x1687+0x20*0x16b],this['WJXXSM']=function(){return'newState';},this['lDDbFJ']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['ENUHBT']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4eda5e['prototype']['esYzfH']=function(){const _0x457d0e=new RegExp(this['lDDbFJ']+this['ENUHBT']),_0xb418e5=_0x457d0e['test'](this['WJXXSM']['toString']())?--this['uLjvOx'][-0x58a+-0xc0f+0x119a*0x1]:--this['uLjvOx'][-0x2*-0x82+0x1*-0x541+0x43d];return this['WHHxlT'](_0xb418e5);},_0x4eda5e['prototype']['WHHxlT']=function(_0x547c60){if(!Boolean(~_0x547c60))return _0x547c60;return this['jDUAZu'](this['JyrHSd']);},_0x4eda5e['prototype']['jDUAZu']=function(_0x22e5b9){for(let _0x1beffe=0x1f48+-0x15a0+-0x9a8,_0x2890f5=this['uLjvOx']['length'];_0x1beffe<_0x2890f5;_0x1beffe++){this['uLjvOx']['push'](Math['round'](Math['random']())),_0x2890f5=this['uLjvOx']['length'];}return _0x22e5b9(this['uLjvOx'][-0x2*0x8c3+-0x451+0x15d7]);},new _0x4eda5e(_0x_0x6f5d)['esYzfH'](),_0x339f1b=_0x_0x6f5d['bZrGWG'](_0x339f1b),_0x473952[_0x39f275]=_0x339f1b;}else _0x339f1b=_0x5ac3a1;return _0x339f1b;},_0x_0x6f5d(_0x473952,_0x5c0370);}const _0x_0x166b71=(function(){let _0x5dfb7f=!![];return function(_0x1fb69c,_0x667c37){const _0x1c3d01=_0x5dfb7f?function(){function _0x77036b(_0x41f28b,_0x3166af,_0x4f67a5,_0x3d1ca9){return _0x_0x6f5d(_0x41f28b- -0x25e,_0x4f67a5);}function _0x532b7d(_0x19afe5,_0xe3e07a,_0x19ae2d,_0x99775b){return _0x_0x6f5d(_0xe3e07a- -0x87,_0x19afe5);}if(_0x667c37){if(_0x532b7d(0xff,0x103,0x100,0x11f)!==_0x532b7d(0x10b,0x13a,0xee,0xfe)){const _0xa86e01=_0x667c37['apply'](_0x1fb69c,arguments);return _0x667c37=null,_0xa86e01;}else return _0x264ed9[_0x77036b(-0x53,-0x22,-0x5b,-0x23)](-0x12*-0x127+-0x1ed7+0x7*0x1ab)[_0x77036b(-0xec,-0xa6,-0x114,-0x9f)]({'success':![],'message':'背景图片设置不存在'});}}:function(){};return _0x5dfb7f=![],_0x1c3d01;};}());function _0x_0x43b721(_0x3a406b,_0x3774cc,_0x183e45,_0x456be9){return _0x_0x6f5d(_0x183e45- -0x18,_0x3774cc);}const _0x_0x3e8ed7=_0x_0x166b71(this,function(){function _0x7ec7b9(_0x5e1d0c,_0x182366,_0x3924a1,_0x12b264){return _0x_0x6f5d(_0x5e1d0c- -0x5b,_0x3924a1);}function _0x56ecd3(_0x3e21a7,_0x2259f7,_0x3c1601,_0x1f1cbf){return _0x_0x6f5d(_0x3c1601-0x1c4,_0x3e21a7);}return _0x_0x3e8ed7[_0x56ecd3(0x3e5,0x3e0,0x3bb,0x365)]()[_0x7ec7b9(0x1b6,0x19d,0x1d6,0x1d9)](_0x56ecd3(0x35c,0x38c,0x360,0x39d))[_0x7ec7b9(0x19c,0x1ad,0x147,0x1f1)]()['constructor'](_0x_0x3e8ed7)[_0x7ec7b9(0x1b6,0x15a,0x17b,0x179)](_0x7ec7b9(0x141,0xf6,0x126,0xe6));});_0x_0x3e8ed7();function _0x_0x5a4b(){const _0xeef5be=['u3n1ve8','DhLWzq','DhLWmq','z2v0qwXSu2v0DgLUz3m','vLHhCwu','AgncEMS','BNvTyMvY','AxnbCNjHEq','Aw1Hz2uVC3zNk3HTBa','DxbKyxrL','Aw1Hz2uVz2LM','yMXVz0nHCM91C2vSrw5HyMXLza','C0ruDva','zxH0BMfTzq','BvfVvwu','Aw5JBhvKzxm','yLLmsMu','5zU+54Mh5yIG6zMK5OIq5yQF','qvnd','uhnwvxe','C2HVD05VDgvuywDZ','DMfSDwu','yuHhzgm','C2HVD1nPDgvoyxy','D3vOELy','zMLSzq','6k+36ycj5OUP6kAb5lIk5lYG55Qe5A2x5l2t5PAh5lU2','C0PwyLi','CMncAgS','6k6+572U5yIB5BU65OIq5yQF','C2HVD0fKBwLUtgLUAW','zgvMyxvSDerPC3bSyxLtzwn0Aw9U','zMLSzw5HBwu','lNDVzMyY','z2v0qwrTAw5tzxr0Aw5N','q25tyuy','mtiYodaWEvDUrKXb','C2HVD1DHCfnPzgvIyxi','z2v0rMLSzvbHDgHgCM9TvxjS','yMXVz0nHCM91C2vSsw1Hz2vZ','yMXVz0XVz29uzxH0','5yMn5y+W6iom5PMV5zU+54Mh','yMfJA2DYB3vUzeLTywDL','CgfYyw1Z','C2HVD05VDgvdyxrLz29YAwvZ','tLbjzLG','C2L0zurLC2nYAxb0Aw9U','6k+36ycj5OUP6kAb5lIk5lYG55Qe5PAh5lU2','Dhj1zq','tgndr3O','5zU+54Mh5lIk5lYG5OIq5yQF','vuzJB0u','Aw1Hz2uVCg5N','zgvSzxrLu2v0DgLUzW','Dg9tDhjPBMC','BgT6BNK','Dg9mB3DLCKnHC2u','yMXVz0nHCM91C2vSv2LKDgG','D012Agm','5PEG5Pwi55Qe6k6+572U5PwW5O2U','yM9KEq','thPkAgO','5A2x5l2t5PAh5lU25lI656M6','C2XPy2u','Cgf0Aa','DuzYt3a','5PEG5Pwi55Qev09grJlLRzFKVzpMLOFKU7y','vvrnEw4','yLrwy2y','zhLnD1u','6k6+572U5yIG6zMK5OIq5yQF','6k6+572U5lIn5A2y5zYO','mtG5otiZmMnPs3DxqG','6k+35O+q5l6B6kAb5yIG6zMK55Qe5zU+54Mhvvjm','C3rHDhvZ','odyZmZy0C0PnExbS','BvfTELC','z2v0uhvIBgLJu2v0DgLUzW','Aw1Hz2uVD2vICa','vvz3v20','C2vHCMnO','yxzHDgfYu2HHCgu','D1v6DhO','zMLUze9Uzq','lNDVzMy','v2jHs3i','C3rYAw5N','C2HVD1nVy2LHBeXPBMTZ','mZm4odyWofzfuwzQCG','6iom5PMV5zU+54Mh6k6+572U5lIn5A2y5zYO','C2L6zq','yKDTAMi','sLjwz1O','lNr0zG','AgvHzgvYCW','DxbSB2fKrMf2AwnVBG','CNPqB2u','zMf2AwnVBG','AgHYBeq','CgTPy0e','wg9euvO','C2HVD1rVCe5HDMjHCG','zgvSzxrLq3vZDg9TrM9UDa','s3ndDMK','n3jeAvf0Aa','yxv0Ag9YAxPHDgLVBG','yxnJAwK','sxvUr24','zfLqANe','zMf2AwnVBUIUVUE9RUs4JEwTMowCQa','ANnVBG','lMvVDa','Aw1Hz2uVEc1Py29U','zMLUzefSBa','6k6+572U6zsU5lIn6io95lI656M6','zM9VDgvYq29WExjPz2H0','C2L0zvn1yNrPDgXL','l2fKBwLU','6iEQ5A6A5lMj5A2x5l2t6k6+572U5lIn5A2y5zYO','zgvZDhjVEq','DxbSB2fKsw1Hz2u','DxbKyxrLu2v0DgLUzW','tgTrC1e','zxHPC3rZu3LUyW','DgHLBwvdB2XVCG','5lIn5PsV5OYb55Qe5PAh5lU257g75z6l77Ym6k+35lIk5lYGigPWz+oaGxbUz+oaGwDPzUoaGxDLyNaG5OIwihn2zYdMOlZLVi/NMOtLM77NIyC','6iom5PMV5zU+54Mh5lIk5lYG5OIq5yQF','CgfYC2u','BM90zuXHEw91DenVBhvTBNm','Aw1Hz2uVANbLzW','mJqXnJm2mhHMs3n6qq','v1fpshK','DuXlsKu','BwLTzxr5Cgu','DufSuva','5lIn5PsV5OYb55Qe5PAh5lU257g75z6l77Ym6k+35lIk5lYGihr0zUoaGw90zUoaGxDVzMBJGif3B2zMmIdMOlZLVi/NMOtLRzFKVzpMLOFKU7y','C2L0zvrPDgXL','zgvSzxrLrMf2AwnVBG','C2L0zuTLExDVCMrZ','Dw5SAw5Ru3LUyW','rffVDve','CMvHzezPBgvtEw5J','sNHhEhO','Dg9KB1jLBwLUzgvYq2HLy2TjBNrLCNzHBa','qMvHCMvYia','D09gmG','yMXVz05HDKXPBMTZ','q2r2B0G','DgHLBwvuExbL','ndGZnJLLA1Hduhq','y29UC3rYDwn0B3i','B3jPz2LUywXUyw1L','kcGOlISPkYKRksSK','D09grG','A2v5','C2HVD05VDgvdB3zLCG','lM90zG','AKTqvhm','5PEG5Pwi55Qevfrgl09urUwTL+s9K+AwH+s7TG','yM9VBgvHBG','5A2x5l2t5lIk5lYG5OIq5yQF','6k6+572U5PU05PAW5OIq5yQF','BM90zurPC3bSyxLnB2rL','yMXVz0XVz28','572r56UzzMf2AwnVBUwBVUAGHW','yMXVz1bYB2zPBgvfBMfIBgvK','y3vZDg9TrM9UDa','ndbRz2DHAwu','zgvSzxrLsw1Hz2u','t0n4uuS','C3rYAw5NAwz5','z2v0u2v0DgLUzW','y3vZDg9TrM9UDe5HBwu','zLzfCfK','zgvZy3jPChrPB24','6iEQ5A6A5lMj5A2x5l2t5PAh5lU2','zgvMyxvSDe5VDgvdB3zLCG','5PEG5Pwi55Qev09grUwTL+s9K+AwH+s7TG','z2v0rMLSzvvYBa','B2jQzwn0','y3Djs3a','ndi1nduYnwHiAvzWqq','zMLUze9Yq3jLyxrL','6iEQ5A6A5lMj5A2x5l2t5yIG6zMK5OIq5yQF','5lIn5PsV5OYb55Qe5PAh5lU257g75z6l77Ym6k+35lIk5lYGigPWz+oaGxbUz+oaGwDPzUoaGxDLyNdJGifZDMCG5OIwigLJBYdMOlZLVi/NMOtLM77NIyC','vM5Htu8','C2HVD05HDMLNyxrPB25szwnVBw1LBMrLza','yMfJA2DYB3vUze9WywnPDhK','zgvSzxrLqMfJA2DYB3vUzeLTywDL'];_0x_0x5a4b=function(){return _0xeef5be;};return _0x_0x5a4b();}const Setting=require('../models/Setting'),upload=require('../middlewares/upload'),fs=require('fs'),path=require('path'),config=require('../config/config'),publicSettingsKeys=[_0x_0x14e05a(0x47c,0x49d,0x468,0x4b6),'showNotes',_0x_0x43b721(0x209,0x216,0x200,0x1f1),_0x_0x43b721(0x141,0x167,0x168,0x17f),_0x_0x14e05a(0x4bc,0x43a,0x4d3,0x476),_0x_0x14e05a(0x486,0x42e,0x3ff,0x455),_0x_0x14e05a(0x4dd,0x46d,0x4a9,0x4c9),'backgroundOpacity',_0x_0x43b721(0x1bb,0x1f2,0x1c7,0x193),_0x_0x14e05a(0x4db,0x4b7,0x51b,0x4be),_0x_0x43b721(0x1df,0x1cf,0x20a,0x1bc),_0x_0x14e05a(0x43b,0x481,0x478,0x46a),_0x_0x43b721(0x122,0x18c,0x160,0x169),_0x_0x43b721(0x1cd,0x199,0x1d7,0x1c6),_0x_0x43b721(0x190,0x161,0x176,0x19f),_0x_0x43b721(0x199,0x142,0x192,0x176),'customFontName','messageIpLimitDays',_0x_0x43b721(0x1e4,0x192,0x18e,0x14c),'showNoteCategories',_0x_0x43b721(0x17c,0x1f6,0x1bd,0x16c),'todoReminderCheckInterval',_0x_0x43b721(0x1f9,0x1fa,0x1a6,0x1d4),_0x_0x14e05a(0x444,0x4a5,0x447,0x462),_0x_0x14e05a(0x4d3,0x511,0x509,0x4f0),'showNoteCover',_0x_0x14e05a(0x4b3,0x495,0x4df,0x492),_0x_0x43b721(0x20c,0x1e8,0x20e,0x228),_0x_0x14e05a(0x4e7,0x496,0x4f9,0x4c4),_0x_0x14e05a(0x4a3,0x4b2,0x471,0x485),_0x_0x43b721(0x1b7,0x197,0x1d1,0x1ea),'blogNavLinks',_0x_0x14e05a(0x472,0x452,0x45d,0x4aa),'blogCarouselImages',_0x_0x14e05a(0x4f8,0x4bc,0x4b7,0x4d8),_0x_0x43b721(0x1bb,0x148,0x191,0x18d),'cacheTime'];exports['getPublicSettings']=async(_0x48958a,_0x180964,_0x242ee9)=>{function _0x5a9c73(_0x513f6f,_0x197820,_0x18cf7f,_0x5a68e6){return _0x_0x43b721(_0x513f6f-0x181,_0x18cf7f,_0x513f6f- -0xb5,_0x5a68e6-0x18f);}function _0x577c18(_0x361ab1,_0x20e07b,_0x37412b,_0x6bbeff){return _0x_0x43b721(_0x361ab1-0x7a,_0x6bbeff,_0x361ab1-0x397,_0x6bbeff-0xdf);}try{if(_0x5a9c73(0xf8,0x127,0x10d,0x135)===_0x577c18(0x544,0x566,0x596,0x50f)){const _0x415de3=await Setting[_0x577c18(0x4f4,0x4e6,0x4ab,0x4ca)]({'where':{'key':publicSettingsKeys},'attributes':[_0x577c18(0x51d,0x4f3,0x564,0x4e0),_0x5a9c73(0x109,0xab,0xf9,0x14e)],'order':[[_0x577c18(0x51d,0x508,0x571,0x518),'ASC']]});_0x180964['json']({'success':!![],'data':_0x415de3});}else _0x508274[_0x577c18(0x50e,0x54b,0x4cb,0x503)](_0x5dc548);}catch(_0x98290b){_0x242ee9(_0x98290b);}},exports[_0x_0x43b721(0x1fd,0x236,0x1f6,0x21a)]=async(_0x5dcd27,_0x166572,_0x5f49b5)=>{function _0x49350f(_0x4263e7,_0x2eb267,_0x582879,_0x3d56f8){return _0x_0x14e05a(_0x4263e7-0xe0,_0x2eb267,_0x582879-0x168,_0x582879- -0x20b);}function _0x152cc1(_0x5d0b83,_0x169f4c,_0x1d6d3a,_0x48ea0f){return _0x_0x14e05a(_0x5d0b83-0x2,_0x48ea0f,_0x1d6d3a-0x99,_0x5d0b83- -0x16e);}try{const {key:_0x526d8a}=_0x5dcd27[_0x49350f(0x2dd,0x2b4,0x2bf,0x2f8)];if(!publicSettingsKeys['includes'](_0x526d8a)){if('QyZja'===_0x49350f(0x2e0,0x270,0x2ce,0x2b6))_0x4ae920(_0x7ba284);else return _0x166572[_0x49350f(0x329,0x2f1,0x2de,0x2e0)](-0x1f3d+-0x1e95+0x3f65)['json']({'success':![],'message':'该设置不公开'});}const _0x20a890=await Setting[_0x49350f(0x2b0,0x2a1,0x2e7,0x2f0)]({'where':{'key':_0x526d8a},'attributes':[_0x152cc1(0x30e,0x369,0x324,0x326),_0x152cc1(0x346,0x367,0x32d,0x319)]});if(!_0x20a890)return _0x166572[_0x152cc1(0x37b,0x3d8,0x32b,0x37c)](0x2f*0x49+0xfb2+-0x1b85)[_0x49350f(0x27c,0x29b,0x245,0x27e)]({'success':![],'message':_0x49350f(0x312,0x2a8,0x2db,0x2d1)});let _0x2a3851=_0x20a890[_0x49350f(0x24d,0x2ff,0x2a9,0x2f8)];if(_0x20a890['type']===_0x49350f(0x254,0x260,0x276,0x275))_0x2a3851=_0x2a3851==='true';else{if(_0x20a890['type']===_0x152cc1(0x337,0x2db,0x377,0x303))_0x49350f(0x288,0x20d,0x25a,0x245)!=='WQOHy'?(_0x4dacc7=_0x152cc1(0x313,0x343,0x2e3,0x2fc),_0x4ffbf=_0x390299(_0x26fe65)):_0x2a3851=parseFloat(_0x2a3851);else{if(_0x20a890['type']===_0x152cc1(0x2e2,0x2b3,0x2d8,0x2dd))try{if(_0x152cc1(0x2ee,0x32d,0x2cc,0x2a4)!==_0x152cc1(0x38c,0x35d,0x3d2,0x369))_0x2a3851=JSON[_0x49350f(0x266,0x291,0x256,0x206)](_0x2a3851);else throw new _0x1e8456(_0x49350f(0x2c3,0x2a5,0x288,0x2c7));}catch(_0x37c8a3){_0x2a3851=_0x20a890[_0x49350f(0x28f,0x2b0,0x2a9,0x2d0)];}}}_0x166572[_0x49350f(0x240,0x213,0x245,0x260)]({'success':!![],'data':{'key':_0x20a890[_0x49350f(0x293,0x2a0,0x271,0x2b6)],'value':_0x2a3851}});}catch(_0x25967c){if(_0x49350f(0x295,0x25d,0x2a4,0x2ed)==='bYLJe')_0x5f49b5(_0x25967c);else{const _0x2eb1ac=fileBuffer[_0x152cc1(0x367,0x349,0x354,0x31b)](_0x152cc1(0x2de,0x332,0x32a,0x33b),0x2c9+0x1*-0x1ecb+0x1c02,-0x2483+0x26b3*0x1+0x8b*-0x4);if(_0x2eb1ac!==_0x49350f(0x25b,0x2b1,0x268,0x22b))throw new _0x50d031(_0x49350f(0x286,0x2a8,0x2d6,0x303));}}},exports['getAdminSettings']=async(_0x14267f,_0x8ce17a,_0x216998)=>{function _0x4c997f(_0x2480c0,_0x34ec38,_0x3611ba,_0x2db914){return _0x_0x14e05a(_0x2480c0-0xe0,_0x2480c0,_0x3611ba-0x137,_0x34ec38- -0x586);}function _0x4f3e0b(_0x241c29,_0xdce66b,_0x2c60e6,_0x42dc75){return _0x_0x43b721(_0x241c29-0x1ca,_0xdce66b,_0x42dc75-0x3a2,_0x42dc75-0x1a5);}try{if(_0x4c997f(-0xe6,-0x87,-0x33,-0x5a)==='aJrMZ')_0x582232=_0x68d527[_0x4c997f(-0x83,-0xd2,-0xb5,-0xdc)];else{const _0x39e836=await Setting[_0x4f3e0b(0x4de,0x4a7,0x526,0x4ff)]({'order':[[_0x4c997f(-0x135,-0x10a,-0x15d,-0x13f),'ASC']]});_0x8ce17a[_0x4c997f(-0xf6,-0x136,-0xdd,-0x10b)]({'success':!![],'data':_0x39e836});}}catch(_0x249f85){_0x216998(_0x249f85);}},exports[_0x_0x43b721(0x21b,0x1ce,0x1cb,0x1db)]=async(_0x5520e3,_0x3f221b,_0x34931f)=>{function _0x2e916b(_0x39cf1e,_0x2f14b6,_0x4ee85b,_0x2202d3){return _0x_0x43b721(_0x39cf1e-0xf9,_0x39cf1e,_0x4ee85b- -0xc6,_0x2202d3-0x17d);}function _0x414fdb(_0x2d4baf,_0xdc5545,_0xa9ee4c,_0x1b05cd){return _0x_0x14e05a(_0x2d4baf-0x31,_0x1b05cd,_0xa9ee4c-0x15c,_0xa9ee4c- -0xed);}try{const {key:_0x4b7db9}=_0x5520e3[_0x414fdb(0x3c6,0x434,0x3dd,0x3fa)],_0x2fdf40=await Setting['findOne']({'where':{'key':_0x4b7db9}});if(!_0x2fdf40)return _0x3f221b[_0x2e916b(0x165,0x138,0x12d,0xe4)](0x347*0x5+-0x9*0x9+-0x35*0x46)[_0x414fdb(0x31c,0x3b9,0x363,0x37b)]({'success':![],'message':_0x414fdb(0x414,0x3d3,0x3f9,0x431)});let _0x4768af=_0x2fdf40[_0x414fdb(0x3ca,0x3bd,0x3c7,0x3d3)];if(_0x2fdf40[_0x2e916b(0x100,0xfc,0xe4,0x141)]===_0x2e916b(0xa0,0xf0,0xc5,0xf5)){if('hwBsD'!=='hwBsD')return _0x4f6a9b[_0x2e916b(0x106,0x174,0x12d,0xde)](0x1*0x1ded+-0x8d9+-0x9c2*0x2)[_0x2e916b(0x55,0xd0,0x94,0xb9)]({'success':![],'message':'设置键不能为空'});else _0x4768af=_0x4768af===_0x414fdb(0x434,0x3ba,0x3e2,0x3e1);}else{if(_0x2fdf40['type']===_0x2e916b(0x130,0x9b,0xe9,0xc6))_0x4768af=parseFloat(_0x4768af);else{if(_0x2fdf40['type']===_0x414fdb(0x39c,0x3a6,0x363,0x37a)){if(_0x414fdb(0x425,0x3f5,0x3ef,0x3fc)!==_0x2e916b(0xe3,0x128,0x120,0x13e))_0x35d55f(_0x1d3a1d);else try{_0x4768af=JSON[_0x414fdb(0x36e,0x3d1,0x374,0x363)](_0x4768af);}catch(_0x2e6abb){_0x4768af=_0x2fdf40[_0x414fdb(0x3a2,0x396,0x3c7,0x417)];}}}}_0x3f221b[_0x414fdb(0x382,0x30c,0x363,0x30c)]({'success':!![],'data':{'key':_0x2fdf40['key'],'value':_0x4768af,'type':_0x2fdf40['type'],'description':_0x2fdf40[_0x414fdb(0x3f6,0x359,0x3a3,0x3d2)]}});}catch(_0x432b14){_0x34931f(_0x432b14);}},exports[_0x_0x14e05a(0x481,0x4c9,0x4d3,0x4a2)]=async(_0x465d89,_0x284c6d,_0xf67982)=>{function _0x56ef00(_0x421e73,_0x51b6be,_0x43d77d,_0x19a96f){return _0x_0x43b721(_0x421e73-0x1e4,_0x19a96f,_0x421e73- -0x24c,_0x19a96f-0x17b);}function _0x23249f(_0x5b2204,_0x3f3ea7,_0x5a6bf4,_0x500af4){return _0x_0x14e05a(_0x5b2204-0x4e,_0x500af4,_0x5a6bf4-0xc5,_0x5b2204- -0x7b);}try{const _0x44db0b=_0x465d89[_0x23249f(0x482,0x47c,0x49d,0x4df)][_0x23249f(0x3d0,0x3fe,0x3ed,0x389)]&&_0x465d89['headers'][_0x56ef00(-0xf7,-0xe1,-0xbd,-0x153)]['startsWith'](_0x56ef00(-0xd0,-0xfa,-0xdf,-0x9a)),_0x2cbe71=[_0x56ef00(-0x8c,-0x45,-0x7f,-0x90),'showNotes',_0x56ef00(-0x4c,-0x17,-0x2c,-0xa9),_0x23249f(0x3e3,0x3e2,0x409,0x3d6),_0x56ef00(-0xcc,-0x11c,-0x10c,-0xc4),_0x23249f(0x3da,0x40e,0x409,0x403),_0x56ef00(-0x79,-0x75,-0xb5,-0x4d),_0x56ef00(-0xa5,-0xde,-0x6b,-0x75),_0x56ef00(-0x85,-0x39,-0x47,-0x5a),_0x23249f(0x443,0x497,0x406,0x40a),_0x56ef00(-0x42,0x11,-0x7c,-0x15),_0x23249f(0x3ef,0x3da,0x426,0x42a),'siteSubtitle',_0x23249f(0x452,0x489,0x3f6,0x401),_0x56ef00(-0xd6,-0xc7,-0x83,-0xd2),_0x23249f(0x40d,0x3f0,0x3ff,0x3d9),'customFontName','messageIpLimitDays','noteDisplayMode',_0x56ef00(-0x77,-0xd0,-0xc3,-0xb8),_0x56ef00(-0x8f,-0xe8,-0xca,-0x91),_0x56ef00(-0x77,-0x2e,-0x82,-0x63),_0x23249f(0x3f6,0x3b7,0x3b6,0x3ff),_0x56ef00(-0xa6,-0xf0,-0x60,-0x4f),_0x23249f(0x3e7,0x3a5,0x3dd,0x400),_0x23249f(0x475,0x437,0x49d,0x49a),_0x56ef00(-0xc5,-0xd2,-0x10e,-0xa5),_0x56ef00(-0xb0,-0x52,-0xea,-0x62),_0x56ef00(-0x3e,-0x14,-0x2,0x7),_0x23249f(0x449,0x48b,0x459,0x488),_0x23249f(0x40a,0x417,0x423,0x3ab),_0x56ef00(-0x7b,-0x6e,-0x21,-0xd5),_0x23249f(0x3f9,0x424,0x3f9,0x446),_0x56ef00(-0x98,-0xa5,-0x4a,-0x42),_0x56ef00(-0x7c,-0x42,-0x38,-0x8b),'blogCarouselWidth',_0x23249f(0x40c,0x3f4,0x41c,0x438),'cacheTime'];let _0x267f17;const isPublicRequest=!_0x465d89[_0x23249f(0x464,0x41e,0x479,0x45f)][_0x56ef00(-0x94,-0xd7,-0xb0,-0x5f)](_0x56ef00(-0xeb,-0x115,-0x142,-0x8c));_0x44db0b&&!isPublicRequest?_0x267f17=await Setting[_0x56ef00(-0xef,-0x136,-0x146,-0x10c)]({'order':[[_0x56ef00(-0xc6,-0xa0,-0x81,-0xa9),_0x23249f(0x436,0x48b,0x46f,0x3e7)]]}):_0x267f17=await Setting['findAll']({'where':{'key':_0x2cbe71},'attributes':[_0x56ef00(-0xc6,-0xde,-0x119,-0x97),_0x56ef00(-0x8e,-0x79,-0xb2,-0xd2)],'order':[['key','ASC']]}),_0x284c6d['json']({'success':!![],'data':_0x267f17});}catch(_0x194e18){'mQmzW'!==_0x56ef00(-0x57,-0xf,-0x59,-0x97)?_0x39e8fd=_0x567ec4(_0x1284e2):_0xf67982(_0x194e18);}},exports[_0x_0x14e05a(0x4b2,0x481,0x472,0x48d)]=async(_0x59cd20,_0x506265,_0x4734bd)=>{function _0x16deaf(_0x492fd8,_0x59d04e,_0x3475f2,_0x3af625){return _0x_0x43b721(_0x492fd8-0x157,_0x59d04e,_0x3475f2- -0x165,_0x3af625-0xb1);}function _0x116eaf(_0x29882b,_0x417ede,_0x465ee2,_0x2c557a){return _0x_0x43b721(_0x29882b-0x1b1,_0x29882b,_0x465ee2-0x1f2,_0x2c557a-0x65);}try{const {key:_0x331b48}=_0x59cd20[_0x16deaf(0x44,0x1f,0x6f,0x6b)],_0x305a1a=await Setting[_0x116eaf(0x3da,0x3f4,0x3ee,0x39c)]({'where':{'key':_0x331b48}});if(!_0x305a1a)return _0x506265[_0x16deaf(0xcd,0x2f,0x8e,0x44)](-0x1a55+0x2*0x2ad+0x168f)[_0x16deaf(0x4e,0x4b,-0xb,0x15)]({'success':![],'message':_0x16deaf(0x8f,0xdd,0x8b,0xe1)});let _0x4329c1=_0x305a1a['value'];if(_0x305a1a[_0x16deaf(0x81,-0x18,0x45,-0x1)]===_0x116eaf(0x389,0x3d4,0x37d,0x396))_0x4329c1=_0x4329c1==='true';else{if(_0x305a1a['type']===_0x16deaf(-0x7,0xa,0x4a,-0x14)){if(_0x16deaf(0x8d,-0xf,0x40,0x25)===_0x16deaf(0x76,-0xa,0x3b,0x5d))throw new _0x1603bd('字体文件为空');else _0x4329c1=parseFloat(_0x4329c1);}else{if(_0x305a1a['type']===_0x16deaf(-0x26,-0x20,-0xb,-0x5f))try{_0x16deaf(0x6a,0x75,0x71,0x2b)===_0x116eaf(0x392,0x3f7,0x3a0,0x3fa)?_0x1a4d4a=_0x2a6af8[_0x16deaf(0x48,-0x2c,0x6,-0x23)](_0x4b01ce):_0x4329c1=JSON[_0x16deaf(0x52,-0x45,0x6,0x35)](_0x4329c1);}catch(_0x5787f9){_0x4329c1=_0x305a1a['value'];}}}_0x506265[_0x116eaf(0x358,0x389,0x34c,0x341)]({'success':!![],'data':{'key':_0x305a1a[_0x116eaf(0x3a6,0x359,0x378,0x319)],'value':_0x4329c1,'type':_0x305a1a[_0x16deaf(0x2c,0x89,0x45,0xf)],'description':_0x305a1a[_0x116eaf(0x3e1,0x3af,0x38c,0x358)]}});}catch(_0x424207){_0x4734bd(_0x424207);}},exports[_0x_0x43b721(0x158,0x155,0x165,0x17a)]=async(_0x15a7df,_0x2604e4,_0x22f776)=>{function _0x4949a3(_0x71e95f,_0x25a698,_0xce4958,_0x1662ef){return _0x_0x43b721(_0x71e95f-0x14a,_0x25a698,_0x71e95f- -0x2b1,_0x1662ef-0x13f);}function _0x2b517e(_0x2c84d9,_0x3ce88e,_0x323ec1,_0x24bae4){return _0x_0x43b721(_0x2c84d9-0xd1,_0x323ec1,_0x3ce88e-0xf2,_0x24bae4-0x1);}try{const {key:_0x2bbf1e}=_0x15a7df[_0x4949a3(-0xdd,-0xbf,-0x123,-0x108)],{value:_0x2b1637,type:_0x13f219,description:_0x3e0d5c}=_0x15a7df[_0x2b517e(0x334,0x2d7,0x335,0x2d6)];if(!_0x2bbf1e)return _0x4949a3(-0x159,-0x1a8,-0x19c,-0x139)==='dYPjq'?_0x2604e4['status'](0x1e5b+-0x2159*-0x1+-0x1*0x3e24)[_0x4949a3(-0x157,-0x134,-0x11d,-0x15d)]({'success':![],'message':_0x2b517e(0x2a9,0x250,0x206,0x205)}):(_0x4b6610['existsSync'](_0x594e62[_0x4949a3(-0xef,-0xff,-0x122,-0xe9)][_0x2b517e(0x293,0x2db,0x2de,0x28b)])&&_0x52f249[_0x2b517e(0x257,0x269,0x249,0x285)](_0x54572e[_0x2b517e(0x2ee,0x2b4,0x2f8,0x2c3)][_0x2b517e(0x2d6,0x2db,0x2c6,0x322)]),_0x15250f['status'](-0x166c+0x2295+-0x1*0xa99)[_0x4949a3(-0x157,-0x123,-0x165,-0x15f)]({'success':![],'message':'不支持的文件类型，请上传\x20ttf、otf、woff、woff2\x20格式的字体文件'}));let _0x54af5f=_0x2b1637;if(_0x13f219===_0x2b517e(0x2a9,0x24c,0x291,0x28b)&&typeof _0x2b1637===_0x4949a3(-0x112,-0xfb,-0x102,-0xc3))_0x54af5f=JSON[_0x2b517e(0x296,0x288,0x283,0x231)](_0x2b1637);else typeof _0x2b1637!==_0x4949a3(-0xb2,-0x97,-0xf4,-0xe2)&&(_0x54af5f=String(_0x2b1637));const [_0x178eb2,_0x2b94bb]=await Setting[_0x4949a3(-0x10f,-0xfc,-0x143,-0x12f)]({'where':{'key':_0x2bbf1e},'defaults':{'key':_0x2bbf1e,'value':_0x54af5f,'type':_0x13f219||_0x2b517e(0x317,0x2f1,0x2a1,0x301),'description':_0x3e0d5c}});!_0x2b94bb&&await _0x178eb2[_0x2b517e(0x24e,0x2a4,0x27c,0x2db)]({'value':_0x54af5f,'type':_0x13f219||_0x178eb2['type'],'description':_0x3e0d5c||_0x178eb2[_0x4949a3(-0x117,-0xfd,-0x15e,-0x16b)]}),_0x2604e4[_0x4949a3(-0x157,-0x17f,-0x145,-0x179)]({'success':!![],'message':_0x2b94bb?_0x4949a3(-0xeb,-0xad,-0x9c,-0x12c):_0x2b517e(0x281,0x27f,0x226,0x27d),'data':_0x178eb2});}catch(_0x4bdf9c){_0x22f776(_0x4bdf9c);}},exports['updateMultipleSettings']=async(_0x56f478,_0x1aab6b,_0x5b13f1)=>{function _0x1ab7d1(_0x84d60c,_0x218e62,_0x9abc1b,_0x4fc1eb){return _0x_0x43b721(_0x84d60c-0x1b9,_0x4fc1eb,_0x9abc1b-0x11a,_0x4fc1eb-0x14a);}function _0x113e81(_0x38fa41,_0x249ab4,_0x345713,_0x211f23){return _0x_0x43b721(_0x38fa41-0xec,_0x345713,_0x249ab4-0x24a,_0x211f23-0x18c);}try{const {settings:_0x4f28c6}=_0x56f478[_0x113e81(0x3fe,0x42f,0x43e,0x40d)];if(!_0x4f28c6||!Array[_0x113e81(0x41e,0x3fa,0x39b,0x3a7)](_0x4f28c6))return _0x1aab6b[_0x1ab7d1(0x31b,0x325,0x30d,0x2dc)](0x2219+0x2399*-0x1+0x310)[_0x1ab7d1(0x299,0x246,0x274,0x274)]({'success':![],'message':_0x113e81(0x45a,0x42e,0x45b,0x46f)});const _0x3fb89b=[];for(const _0x286aac of _0x4f28c6){const {key:_0x3e0804,value:_0x1568b7,type:_0x21541c}=_0x286aac;if(!_0x3e0804)continue;let _0x2e4a8e=_0x1568b7,_0x206e7f=_0x21541c||'string';if(typeof _0x1568b7===_0x1ab7d1(0x2cb,0x2b6,0x2a5,0x2a9))_0x113e81(0x492,0x456,0x401,0x4a5)!==_0x113e81(0x3da,0x436,0x40a,0x48c)?(_0x206e7f=_0x113e81(0x37c,0x3d5,0x426,0x406),_0x2e4a8e=String(_0x1568b7)):_0x1431c7=_0x5bca97(_0x5bb31f);else{if(typeof _0x1568b7===_0x113e81(0x3e1,0x3f9,0x42a,0x40b))_0x206e7f=_0x1ab7d1(0x2e1,0x27b,0x2c9,0x26c),_0x2e4a8e=String(_0x1568b7);else typeof _0x1568b7===_0x113e81(0x3f8,0x3e9,0x3a9,0x3a1)&&(_0x206e7f='json',_0x2e4a8e=JSON[_0x113e81(0x3d6,0x3e0,0x3e5,0x3bf)](_0x1568b7));}const [_0x46239f,_0x1c8bd2]=await Setting[_0x1ab7d1(0x2fe,0x29c,0x2bc,0x2e3)]({'where':{'key':_0x3e0804},'defaults':{'key':_0x3e0804,'value':_0x2e4a8e,'type':_0x206e7f}});if(!_0x1c8bd2){if('rcBhk'!==_0x1ab7d1(0x333,0x315,0x2df,0x2d6)){const _0x336cda=_0x5836b8[_0x113e81(0x456,0x419,0x3e8,0x41e)](_0x1a6b99[_0x113e81(0x3d6,0x408,0x3e6,0x3d1)]);_0x336cda&&_0x299482[_0x1ab7d1(0x24d,0x297,0x281,0x22b)](_0x336cda)&&_0x10da56['unlinkSync'](_0x336cda);}else await _0x46239f[_0x113e81(0x438,0x3fc,0x456,0x3cb)]({'value':_0x2e4a8e,'type':_0x206e7f});}_0x3fb89b['push'](_0x46239f);}_0x1aab6b['json']({'success':!![],'message':_0x113e81(0x414,0x3d7,0x3aa,0x394),'data':_0x3fb89b});}catch(_0x179cc0){_0x1ab7d1(0x2a2,0x2f9,0x2d1,0x2c6)===_0x113e81(0x432,0x448,0x416,0x44f)?(_0x2abf61['file']&&_0xad8912[_0x1ab7d1(0x2c3,0x24f,0x281,0x28f)](_0x4fbe3f[_0x113e81(0x3b4,0x40c,0x447,0x44a)]['path'])&&_0x538715[_0x1ab7d1(0x235,0x2e8,0x291,0x2c6)](_0xf52490['file'][_0x1ab7d1(0x2dd,0x353,0x303,0x2b1)]),_0x431b0a(_0x408ccc)):_0x5b13f1(_0x179cc0);}},exports[_0x_0x43b721(0x184,0x1d3,0x1de,0x1d1)]=async(_0x2bc653,_0x8d81a0,_0x10ffbd)=>{function _0x2d73d0(_0x516e55,_0x780482,_0xda725,_0x2b5d2f){return _0x_0x14e05a(_0x516e55-0x1d,_0x2b5d2f,_0xda725-0x21,_0x516e55- -0x183);}function _0x328e04(_0xc9d80e,_0x5afca6,_0x304e59,_0x3c52d4){return _0x_0x43b721(_0xc9d80e-0x12b,_0x3c52d4,_0x304e59- -0xe7,_0x3c52d4-0x19f);}try{if(_0x328e04(0xd1,0x4d,0x91,0x69)!==_0x328e04(0xcc,0x3c,0x91,0xb6))return _0x37154d[_0x2d73d0(0x366,0x390,0x36e,0x328)](-0x366+-0x179*-0x11+-0x1413)['json']({'success':![],'message':'请提供要删除的图片URL'});else{const {key:_0x4e5d28}=_0x2bc653[_0x2d73d0(0x347,0x36d,0x316,0x3a3)],_0x25940e=await Setting[_0x2d73d0(0x36f,0x393,0x353,0x33e)]({'where':{'key':_0x4e5d28}});if(!_0x25940e){if(_0x328e04(0x86,0xc9,0xb2,0xa0)!==_0x2d73d0(0x30c,0x34e,0x2c3,0x33b))throw new _0x3f7614('无效的TTF/OTF字体文件');else return _0x8d81a0[_0x2d73d0(0x366,0x327,0x34d,0x395)](0x315+0x1d0b*0x1+-0x1e8c)[_0x2d73d0(0x2cd,0x30a,0x320,0x298)]({'success':![],'message':_0x328e04(0x11d,0x13a,0x109,0x12e)});}await _0x25940e[_0x2d73d0(0x2d6,0x28b,0x27f,0x2bf)](),_0x8d81a0['json']({'success':!![],'message':_0x328e04(0x103,0x160,0x108,0xd9)});}}catch(_0xce7ad3){if(_0x2d73d0(0x37e,0x322,0x3b5,0x3d8)!=='neioH')_0x10ffbd(_0xce7ad3);else return _0xf57ada['unlinkSync'](_0x3984dc[_0x328e04(0xef,0xe1,0xdb,0x10f)][_0x328e04(0x123,0x115,0x102,0x102)]),_0x15af6d['status'](-0x1*0x2697+-0x8*0x418+0x1*0x48e7)[_0x328e04(0xa8,0x65,0x73,0xa5)]({'success':![],'message':_0x328e04(0x4b,0x97,0x82,0x51)});}},exports[_0x_0x14e05a(0x51a,0x4aa,0x4c5,0x4fe)]=async(_0x13a382,_0x41ef66,_0x331fe9)=>{function _0x3b9afc(_0x31f6c4,_0x1dff02,_0x35d805,_0x11377f){return _0x_0x43b721(_0x31f6c4-0x141,_0x11377f,_0x31f6c4-0x273,_0x11377f-0x2e);}function _0x3a2a09(_0x1f9879,_0x28f846,_0x3024de,_0x4d7771){return _0x_0x14e05a(_0x1f9879-0x49,_0x28f846,_0x3024de-0x164,_0x1f9879- -0x2fa);}try{if(!_0x13a382[_0x3b9afc(0x435,0x457,0x3e8,0x421)])return _0x41ef66[_0x3a2a09(0x1ef,0x23f,0x22a,0x227)](0x1*0xadf+-0x2*-0x589+-0x1461)[_0x3a2a09(0x156,0x101,0x12e,0x133)]({'success':![],'message':_0x3b9afc(0x44b,0x3f6,0x47d,0x3f2)});const _0xbbd616=['image/jpeg',_0x3b9afc(0x450,0x493,0x46c,0x406),_0x3a2a09(0x1af,0x1ef,0x1b5,0x1e9),'image/webp',_0x3b9afc(0x424,0x430,0x47d,0x471),_0x3a2a09(0x158,0x11b,0x1b1,0x17e)];if(!_0xbbd616[_0x3b9afc(0x42b,0x412,0x40f,0x460)](_0x13a382[_0x3a2a09(0x1be,0x217,0x1a0,0x1ee)]['mimetype']))return fs[_0x3b9afc(0x3ea,0x3f7,0x432,0x411)](_0x13a382[_0x3b9afc(0x435,0x481,0x449,0x485)]['path']),_0x41ef66[_0x3a2a09(0x1ef,0x23a,0x1d3,0x1cc)](0x1506+-0x496*-0x7+-0x3390)[_0x3a2a09(0x156,0x1a4,0x10c,0x116)]({'success':![],'message':'不支持的文件类型，请上传\x20jpg、png、gif、webp、svg\x20或\x20ico\x20格式的图片'});const _0x44f30c=config['getFileUrl'](_0x13a382['file'][_0x3a2a09(0x1c5,0x212,0x1c5,0x1e0)],_0x13a382),[_0x43d019,_0x14f38d]=await Setting[_0x3b9afc(0x415,0x413,0x401,0x44c)]({'where':{'key':_0x3a2a09(0x206,0x1f3,0x23a,0x1c1)},'defaults':{'key':'favicon','value':_0x44f30c,'type':_0x3a2a09(0x1fb,0x200,0x1ba,0x22a),'description':_0x3a2a09(0x18c,0x1a5,0x195,0x170)}});if(!_0x14f38d){const _0x347fbf=_0x43d019['value'];if(_0x347fbf){if(_0x3b9afc(0x437,0x419,0x46a,0x414)===_0x3b9afc(0x437,0x46b,0x420,0x3e4)){const oldFilePath=config[_0x3a2a09(0x1cb,0x226,0x20c,0x1c6)](_0x347fbf);oldFilePath&&fs['existsSync'](oldFilePath)&&fs[_0x3a2a09(0x173,0x166,0x190,0x11c)](oldFilePath);}else _0x4318e0=_0x2c4f2d===_0x3b9afc(0x44c,0x424,0x4a8,0x46b);}await _0x43d019[_0x3b9afc(0x425,0x477,0x465,0x462)]({'value':_0x44f30c,'type':_0x3a2a09(0x1fb,0x244,0x259,0x1ff),'description':_0x3b9afc(0x403,0x3f6,0x3a8,0x454)});}_0x41ef66['json']({'success':!![],'message':'favicon上传成功','data':{'url':_0x44f30c,'filename':_0x13a382[_0x3b9afc(0x435,0x443,0x45e,0x3f5)][_0x3b9afc(0x43c,0x46f,0x3fb,0x480)]}});}catch(_0x4cb66e){_0x13a382[_0x3b9afc(0x435,0x3e7,0x463,0x420)]&&fs['existsSync'](_0x13a382[_0x3b9afc(0x435,0x44e,0x454,0x3f6)][_0x3a2a09(0x1e5,0x1cc,0x1ae,0x1ec)])&&fs[_0x3a2a09(0x173,0x12c,0x150,0x179)](_0x13a382[_0x3b9afc(0x435,0x492,0x471,0x3e1)][_0x3a2a09(0x1e5,0x23e,0x1e1,0x22b)]),_0x331fe9(_0x4cb66e);}},exports[_0x_0x14e05a(0x422,0x45b,0x454,0x46b)]=async(_0x45d6dc,_0x3ed86a,_0x4f737b)=>{function _0x20113e(_0x113b72,_0x1e0223,_0x56718a,_0x366115){return _0x_0x43b721(_0x113b72-0xa8,_0x366115,_0x113b72- -0x61,_0x366115-0xad);}function _0x5e26ff(_0x414395,_0x4addb5,_0x40c19d,_0x56b153){return _0x_0x43b721(_0x414395-0x1cf,_0x56b153,_0x414395- -0x3c5,_0x56b153-0x174);}try{const _0x16adcc=await Setting[_0x20113e(0x19b,0x1c9,0x19c,0x142)]({'where':{'key':'favicon'}});if(!_0x16adcc)return _0x3ed86a[_0x20113e(0x192,0x177,0x16e,0x1a4)](0x231b+-0x2d3+-0x1eb4)['json']({'success':![],'message':_0x5e26ff(-0x26c,-0x26a,-0x28c,-0x215)});const _0x1757a8=config['getFilePathFromUrl'](_0x16adcc[_0x20113e(0x15d,0x141,0x1b8,0x105)]);_0x1757a8&&fs[_0x5e26ff(-0x25e,-0x2bb,-0x246,-0x295)](_0x1757a8)&&(_0x5e26ff(-0x1ca,-0x16f,-0x1e2,-0x21b)===_0x5e26ff(-0x1ca,-0x19d,-0x1d5,-0x184)?fs['unlinkSync'](_0x1757a8):(_0xe30958[_0x20113e(0x161,0x1ae,0x1ac,0x13b)]&&_0x55ec75[_0x20113e(0x106,0x134,0x133,0xfa)](_0x4f01dd[_0x5e26ff(-0x203,-0x1bc,-0x22c,-0x200)]['path'])&&_0x12d3f4[_0x5e26ff(-0x24e,-0x257,-0x232,-0x1f1)](_0xdbe5d5['file'][_0x20113e(0x188,0x192,0x19b,0x167)]),_0x37caf1(_0x3dc639))),await _0x16adcc['destroy'](),_0x3ed86a[_0x20113e(0xf9,0xd6,0x10d,0x124)]({'success':!![],'message':'favicon删除成功'});}catch(_0x3cf2a3){if(_0x20113e(0x16b,0x188,0x138,0x15d)!=='CnSaF')try{_0x14fc31=_0x2a332f['parse'](_0x40489d);}catch(_0x3e662f){_0x24652d=_0x2483fc['value'];}else _0x4f737b(_0x3cf2a3);}},exports['uploadBackgroundImage']=async(_0x36abc9,_0x120e9b,_0x532976)=>{function _0x3af13f(_0x2c48c5,_0x17952b,_0x403b02,_0x51ffc1){return _0x_0x14e05a(_0x2c48c5-0x27,_0x2c48c5,_0x403b02-0x12,_0x51ffc1-0x22);}function _0x45d0ce(_0xe24fa6,_0x28d68e,_0x32e534,_0x1b789f){return _0x_0x43b721(_0xe24fa6-0xa6,_0x28d68e,_0x32e534-0xaa,_0x1b789f-0xf0);}try{if(_0x3af13f(0x483,0x484,0x503,0x4ad)==='HbIyg')_0x1ca053[_0x3af13f(0x4b0,0x4dd,0x493,0x48f)](_0x53906f[_0x45d0ce(0x2b0,0x24d,0x26c,0x269)]['path']);else{if(!_0x36abc9[_0x45d0ce(0x226,0x28d,0x26c,0x25f)])return _0x120e9b['status'](-0x2483+0x1d7+-0x305*-0xc)[_0x3af13f(0x49a,0x441,0x450,0x472)]({'success':![],'message':_0x3af13f(0x523,0x4ef,0x4c4,0x4f0)});const _0x1678c3=[_0x3af13f(0x4bd,0x499,0x48a,0x485),_0x45d0ce(0x2bd,0x237,0x287,0x28d),'image/gif','image/webp',_0x45d0ce(0x22d,0x1fe,0x25b,0x250)];if(!_0x1678c3[_0x3af13f(0x496,0x4d0,0x4cc,0x4d0)](_0x36abc9[_0x3af13f(0x47b,0x4ef,0x4ed,0x4da)][_0x45d0ce(0x1bf,0x213,0x21b,0x201)])){if(_0x3af13f(0x4c9,0x487,0x49a,0x4cd)!==_0x3af13f(0x4b7,0x4df,0x4fd,0x4cd))_0x5f4c17=_0x584c02[_0x3af13f(0x505,0x48c,0x4b1,0x4ae)](_0x18cfad);else return fs[_0x3af13f(0x491,0x49a,0x4c0,0x48f)](_0x36abc9['file'][_0x3af13f(0x547,0x532,0x51f,0x501)]),_0x120e9b[_0x45d0ce(0x2cb,0x291,0x29d,0x2f6)](0x320*-0x3+0x20b*-0xc+-0x8dd*-0x4)['json']({'success':![],'message':_0x3af13f(0x449,0x466,0x45f,0x481)});}const _0x52e2ed=config[_0x45d0ce(0x296,0x251,0x248,0x1ff)](_0x36abc9[_0x3af13f(0x4ca,0x49a,0x529,0x4da)]['filename'],_0x36abc9),[_0x1fd666,_0x1b26a2]=await Setting['findOrCreate']({'where':{'key':_0x45d0ce(0x2b5,0x286,0x27d,0x235)},'defaults':{'key':_0x45d0ce(0x2bf,0x273,0x27d,0x2a6),'value':_0x52e2ed,'type':_0x45d0ce(0x2d1,0x2e7,0x2a9,0x269),'description':_0x45d0ce(0x234,0x26e,0x27c,0x294)}});if(!_0x1b26a2){const _0x1da361=_0x1fd666[_0x3af13f(0x4b3,0x49b,0x4a7,0x4d6)];if(_0x1da361){if(_0x45d0ce(0x292,0x2ff,0x2b7,0x2ea)==='XoDQZ'){const oldFilePath=config[_0x3af13f(0x515,0x4fb,0x4d7,0x4e7)](_0x1da361);oldFilePath&&fs[_0x45d0ce(0x235,0x1b4,0x211,0x252)](oldFilePath)&&fs['unlinkSync'](oldFilePath);}else{const _0x231632=_0x3db7e7[_0x45d0ce(0x24a,0x224,0x279,0x295)](_0x463199[_0x3af13f(0x4cd,0x47d,0x50b,0x4d6)]);_0x231632&&_0x3f2d01[_0x3af13f(0x49b,0x4a6,0x493,0x47f)](_0x231632)&&_0x2d4a6a[_0x3af13f(0x47a,0x471,0x487,0x48f)](_0x231632);}}await _0x1fd666[_0x3af13f(0x492,0x4c5,0x504,0x4ca)]({'value':_0x52e2ed,'type':_0x3af13f(0x509,0x4c2,0x52e,0x517),'description':_0x45d0ce(0x271,0x2af,0x27c,0x2bc)});}_0x120e9b[_0x3af13f(0x490,0x4c1,0x496,0x472)]({'success':!![],'message':_0x3af13f(0x4c6,0x429,0x485,0x482),'data':{'url':_0x52e2ed,'filename':_0x36abc9[_0x3af13f(0x4e2,0x51d,0x49e,0x4da)][_0x3af13f(0x483,0x496,0x4af,0x4e1)]}});}}catch(_0x3ac403){if(_0x36abc9[_0x3af13f(0x4c0,0x4cd,0x4c5,0x4da)]&&fs[_0x3af13f(0x432,0x47b,0x43f,0x47f)](_0x36abc9[_0x3af13f(0x496,0x4d2,0x4d8,0x4da)][_0x45d0ce(0x24f,0x288,0x293,0x236)])){if(_0x3af13f(0x497,0x505,0x4ab,0x4d9)!=='wuhzV')return _0x2ffa6e[_0x45d0ce(0x282,0x290,0x29d,0x282)](-0x1178+0x1024+0x4a*0xa)[_0x45d0ce(0x1f2,0x20e,0x204,0x24a)]({'success':![],'message':_0x45d0ce(0x2bf,0x2ca,0x282,0x241)});else fs[_0x3af13f(0x4c4,0x47c,0x46d,0x48f)](_0x36abc9[_0x3af13f(0x4fe,0x4c5,0x537,0x4da)][_0x3af13f(0x4b3,0x506,0x521,0x501)]);}_0x532976(_0x3ac403);}},exports[_0x_0x43b721(0x1e0,0x167,0x1a8,0x17c)]=async(_0x5906fd,_0x27276f,_0x3f554c)=>{function _0x2b4904(_0x11c3af,_0x41e724,_0x3a126c,_0x2ebd88){return _0x_0x14e05a(_0x11c3af-0x1f3,_0x3a126c,_0x3a126c-0xe5,_0x2ebd88- -0x38f);}function _0x2328d9(_0x495bdb,_0x15a81b,_0x1c7357,_0x5ed3f3){return _0x_0x14e05a(_0x495bdb-0x67,_0x1c7357,_0x1c7357-0x1d7,_0x15a81b- -0x567);}try{const _0x59a44f=await Setting[_0x2b4904(0x143,0x194,0x129,0x163)]({'where':{'key':_0x2328d9(-0xfa,-0x9e,-0x82,-0xbc)}});if(!_0x59a44f)return _0x2328d9(-0x22,-0x61,-0x68,-0x94)==='KsCvi'?_0x27276f[_0x2328d9(-0xb9,-0x7e,-0x77,-0xa9)](-0x33*-0x34+-0x1*-0x13df+-0x1ca7)[_0x2328d9(-0x15d,-0x117,-0xe6,-0xe6)]({'success':![],'message':_0x2328d9(-0x4e,-0x6f,-0xa5,-0x19)}):_0xb9213d[_0x2328d9(-0x72,-0x7e,-0x86,-0x62)](0xa9f*0x1+-0x9*-0x377+-0x10f*0x26)[_0x2b4904(0x77,0xa3,0xe7,0xc1)]({'success':![],'message':_0x2328d9(-0x95,-0x81,-0xb8,-0xd2)});if(_0x59a44f['value']){if(_0x2328d9(-0x99,-0x87,-0x9f,-0xc9)===_0x2328d9(-0x53,-0xb2,-0xf8,-0x64)){const {url:_0x2ddb39}=_0x429143[_0x2b4904(0x105,0x190,0x14a,0x14c)];if(!_0x2ddb39)return _0x41dc2e['status'](0xf39+-0x523*-0x2+-0x17ef*0x1)[_0x2328d9(-0xbc,-0x117,-0xfe,-0xeb)]({'success':![],'message':_0x2328d9(-0xdc,-0x7f,-0x7a,-0xda)});const _0x33b7a8=_0x3e6a0e[_0x2328d9(-0x5b,-0xa2,-0xcc,-0xe9)](_0x2ddb39);_0x33b7a8&&_0x19f438['existsSync'](_0x33b7a8)&&_0xbfc8a3[_0x2b4904(0xb2,0xf0,0x11d,0xde)](_0x33b7a8),_0x565671[_0x2b4904(0xc0,0xbc,0x80,0xc1)]({'success':!![],'message':'图片删除成功'});}else{const _0x55575=config[_0x2328d9(-0x8c,-0xa2,-0x56,-0xfc)](_0x59a44f[_0x2b4904(0xd6,0x104,0xdd,0x125)]);_0x55575&&fs[_0x2b4904(0xc2,0x8c,0xf8,0xce)](_0x55575)&&fs[_0x2b4904(0xa6,0xc6,0xd4,0xde)](_0x55575);}}await _0x59a44f['update']({'value':''}),_0x27276f[_0x2b4904(0x111,0x91,0x76,0xc1)]({'success':!![],'message':'背景图片删除成功'});}catch(_0x29eab5){'YkRVv'==='YkRVv'?_0x3f554c(_0x29eab5):_0x148263(_0x15bd88);}},exports[_0x_0x14e05a(0x433,0x3ff,0x463,0x45a)]=async(_0xd26ee0,_0x133d7e,_0x250321)=>{function _0x53f5d6(_0x5107dc,_0xd692c2,_0x416b2a,_0x1a9c3c){return _0x_0x14e05a(_0x5107dc-0x6b,_0x5107dc,_0x416b2a-0x120,_0x1a9c3c- -0x10a);}function _0xbf73fc(_0x414adb,_0x3321ed,_0x2c5fb2,_0x28de8f){return _0x_0x43b721(_0x414adb-0x71,_0x414adb,_0x3321ed-0x3b,_0x28de8f-0x156);}try{if(_0xbf73fc(0x1a4,0x192,0x1e4,0x13b)!==_0x53f5d6(0x2f7,0x2fe,0x336,0x343))_0x2c7dcb['unlinkSync'](_0x1a9e4d[_0x53f5d6(0x3a3,0x390,0x3a7,0x3ae)][_0x53f5d6(0x42e,0x394,0x42d,0x3d5)]);else{if(!_0xd26ee0[_0x53f5d6(0x3af,0x35b,0x3ee,0x3ae)])return _0x133d7e[_0xbf73fc(0x28a,0x22e,0x239,0x1e7)](0x1a1b*-0x1+0x56c*0x2+0x10d3)[_0xbf73fc(0x1d1,0x195,0x1cd,0x174)]({'success':![],'message':_0x53f5d6(0x413,0x403,0x3a9,0x3c4)});const _0x57dc4a=[_0xbf73fc(0x1d0,0x1a8,0x163,0x196),_0xbf73fc(0x1cb,0x218,0x1dc,0x214),_0xbf73fc(0x1b7,0x1ee,0x20b,0x196),_0xbf73fc(0x226,0x232,0x1fe,0x280),'image/svg+xml'];if(!_0x57dc4a[_0xbf73fc(0x224,0x1f3,0x1cf,0x1bb)](_0xd26ee0[_0xbf73fc(0x1a6,0x1fd,0x229,0x238)][_0x53f5d6(0x32c,0x315,0x374,0x35d)]))return fs[_0x53f5d6(0x340,0x31a,0x318,0x363)](_0xd26ee0[_0x53f5d6(0x402,0x371,0x3c4,0x3ae)]['path']),_0x133d7e['status'](-0x2274+0x8c3+0x1b41)[_0xbf73fc(0x1a4,0x195,0x1ee,0x1da)]({'success':![],'message':'不支持的文件类型，请上传\x20jpg、png、gif、webp\x20或\x20svg\x20格式的图片'});const _0x574f53=config[_0xbf73fc(0x222,0x1d9,0x1ca,0x1e5)](_0xd26ee0['file']['filename'],_0xd26ee0);_0x133d7e[_0xbf73fc(0x1bd,0x195,0x1ec,0x1ef)]({'success':!![],'message':_0xbf73fc(0x20e,0x216,0x200,0x1f6),'data':{'url':_0x574f53,'filename':_0xd26ee0[_0xbf73fc(0x240,0x1fd,0x237,0x237)]['filename']}});}}catch(_0x5540b0){_0xd26ee0[_0xbf73fc(0x1f7,0x1fd,0x1fa,0x221)]&&fs['existsSync'](_0xd26ee0[_0xbf73fc(0x200,0x1fd,0x20e,0x208)]['path'])&&fs[_0xbf73fc(0x156,0x1b2,0x15d,0x16e)](_0xd26ee0['file'][_0xbf73fc(0x210,0x224,0x1d7,0x23a)]),_0x250321(_0x5540b0);}},exports['uploadCustomFont']=async(_0x32c88c,_0x4c527f,_0x3678e7)=>{function _0x3064a3(_0x3e15d,_0x2f44ce,_0x49f25a,_0x3cc189){return _0x_0x43b721(_0x3e15d-0x199,_0x49f25a,_0x3e15d-0x3b,_0x3cc189-0x86);}function _0x415c89(_0x370fc5,_0xa6605d,_0x1549e7,_0x8631b){return _0x_0x43b721(_0x370fc5-0xb2,_0x8631b,_0x1549e7- -0x9a,_0x8631b-0x170);}try{if(!_0x32c88c[_0x415c89(0x122,0x16e,0x128,0x13e)])return _0x4c527f[_0x415c89(0x117,0x15d,0x159,0x10e)](-0x4ff+0x7a9*-0x5+0x2cdc)[_0x415c89(0x8d,0x114,0xc0,0x79)]({'success':![],'message':_0x3064a3(0x1fe,0x205,0x1c7,0x236)});const _0x349cb6=path[_0x415c89(0x156,0xcb,0x11c,0xce)](_0x32c88c[_0x3064a3(0x1fd,0x1ff,0x211,0x20a)]['originalname'])[_0x3064a3(0x21c,0x216,0x1d2,0x268)](),_0x38b034=[_0x415c89(0x1ac,0x12f,0x16c,0x127),_0x3064a3(0x1c3,0x1c7,0x20a,0x178),'.woff',_0x3064a3(0x205,0x201,0x1c4,0x23c),_0x3064a3(0x196,0x1a6,0x173,0x17c)];if(!_0x38b034[_0x415c89(0x142,0x144,0x11e,0x12b)](_0x349cb6)){if(_0x3064a3(0x1b5,0x1f7,0x1a9,0x16d)===_0x415c89(0x171,0x15f,0x153,0x120))return _0x5eeef2[_0x415c89(0x1a4,0x156,0x159,0x112)](0x7ac*-0x2+0xfc4*0x1+0x124*0x1)['json']({'success':![],'message':_0x415c89(0x111,0x15d,0x13e,0x180)});else{if(fs[_0x3064a3(0x1a2,0x1f4,0x15e,0x17a)](_0x32c88c['file'][_0x415c89(0x100,0x172,0x14f,0x18b)])){if(_0x3064a3(0x229,0x206,0x1f5,0x274)===_0x3064a3(0x229,0x1f2,0x23c,0x248))fs[_0x3064a3(0x1b2,0x201,0x1cc,0x189)](_0x32c88c[_0x3064a3(0x1fd,0x1af,0x252,0x1bd)][_0x415c89(0x16d,0x15d,0x14f,0x18c)]);else{const _0x31456e=fileBuffer['toString'](_0x415c89(0xdf,0xbf,0xbc,0xb5),-0x1594+0x25f8+-0x1064,0x1*0x1d02+-0x1d*0xe5+-0x30d);if(_0x31456e!=='wOFF')throw new _0x2a4b99(_0x3064a3(0x1d8,0x1ba,0x224,0x1e4));}}return _0x4c527f['status'](0x2*-0x191+-0x1616+0x1ac8)[_0x415c89(0xaf,0x114,0xc0,0x11b)]({'success':![],'message':_0x3064a3(0x1ae,0x1f1,0x16c,0x1ca)});}}const _0x29448a=(0x234e*-0x1+-0x1*-0x8b3+0x1aa5)*(-0x14ed+-0x4f7+0x4*0x779)*(-0x39*-0x61+0x4*0x4c7+-0x24b5);if(_0x32c88c['file'][_0x415c89(0x118,0x18f,0x169,0x1af)]>_0x29448a){if('CdvoH'!==_0x3064a3(0x1ba,0x15f,0x1f5,0x1bf))_0x53a7a7(_0x954d5);else return fs[_0x415c89(0xe7,0x7b,0xcd,0xb2)](_0x32c88c[_0x415c89(0xdb,0x185,0x128,0x107)][_0x3064a3(0x224,0x27a,0x1f3,0x1d0)])&&fs[_0x415c89(0xd3,0x11d,0xdd,0x8d)](_0x32c88c['file']['path']),_0x4c527f[_0x3064a3(0x22e,0x245,0x1fd,0x227)](-0x9f9+0x1fe7*-0x1+-0xadc*-0x4)[_0x3064a3(0x195,0x13e,0x1be,0x138)]({'success':![],'message':'字体文件大小不能超过\x2010MB'});}try{const fileBuffer=fs[_0x3064a3(0x1b4,0x162,0x19c,0x205)](_0x32c88c[_0x415c89(0x14a,0x148,0x128,0xf3)][_0x415c89(0xfe,0xff,0x14f,0x1ad)]);if(fileBuffer['length']===-0x22ae+0x156f+0xd3f)throw new Error(_0x415c89(0x177,0x180,0x14d,0x182));if(_0x349cb6===_0x3064a3(0x241,0x249,0x259,0x227)||_0x349cb6===_0x415c89(0xde,0x14c,0xee,0xe1)){const _0x3d0936=fileBuffer[_0x415c89(0x199,0x1ab,0x14e,0x175)](-0x7f*-0xb+-0xd1f+0x3d5*0x2,-0x90e+-0xa8*0x7+0x16*0x9f),_0x4810e7=_0x3d0936[-0x1d7*0x1+0x2681+-0x24aa]===-0x16*-0xd+0xf29*-0x1+-0x2cf*-0x5&&_0x3d0936[0x13a1+0x2169+-0x1*0x3509]===-0x1476+-0x526*-0x1+0xf51&&_0x3d0936[0x1f6f+-0xfe+0x1*-0x1e6f]===-0x1436+-0x457+0x5*0x4e9&&_0x3d0936[-0x1a59+-0x1017*-0x2+-0x5d2]===-0x7d+0x3*0x105+0x7*-0x5e,_0x3d11d0=_0x3d0936['toString'](_0x415c89(0xe9,0x100,0xbc,0x10e)),_0x121fa3=_0x4810e7||_0x3d11d0==='OTTO'||_0x3d11d0==='true'||_0x3d11d0===_0x415c89(0xbd,0x115,0x111,0xc7);if(!_0x121fa3){if(_0x3064a3(0x215,0x1be,0x1c9,0x207)==='LcCGz')throw new Error(_0x3064a3(0x1c5,0x191,0x1c7,0x1d3));else{if(!_0x2e6eb7['file'])return _0x343753[_0x415c89(0x1a2,0x13b,0x159,0x187)](-0x2709+-0xce0+0x3579)['json']({'success':![],'message':_0x415c89(0xea,0x156,0x13e,0xf4)});const _0x464c61=[_0x3064a3(0x1a8,0x1fe,0x14a,0x1c8),_0x415c89(0x119,0x148,0x143,0x117),'image/gif',_0x3064a3(0x232,0x201,0x27a,0x1ff),_0x415c89(0xd3,0xed,0x117,0x12a)];if(!_0x464c61[_0x3064a3(0x1f3,0x220,0x1d0,0x1ee)](_0x4f49be[_0x3064a3(0x1fd,0x20e,0x1f1,0x21f)][_0x415c89(0x95,0xec,0xd7,0xfc)]))return _0x3b7492[_0x415c89(0x12b,0xf9,0xdd,0x13a)](_0x367ffd[_0x3064a3(0x1fd,0x1de,0x1cd,0x23d)]['path']),_0x1b92d9[_0x3064a3(0x22e,0x243,0x229,0x277)](0xd4c+-0x4e1+0xc3*-0x9)['json']({'success':![],'message':_0x415c89(0x76,0xdf,0xcf,0xcf)});const _0x3cdc49=_0x2d497a['getFileUrl'](_0x293f91[_0x3064a3(0x1fd,0x1e3,0x256,0x19f)][_0x415c89(0x113,0x145,0x12f,0xd2)],_0x390baa);_0x4acd7c[_0x3064a3(0x195,0x191,0x1f1,0x1b3)]({'success':!![],'message':_0x3064a3(0x216,0x225,0x1bf,0x206),'data':{'url':_0x3cdc49,'filename':_0x580ff2[_0x3064a3(0x1fd,0x1b5,0x1e0,0x1ff)][_0x3064a3(0x204,0x1ba,0x1cf,0x1ab)]}});}}}if(_0x349cb6===_0x415c89(0x13a,0x11c,0x163,0x1a3)){const _0x18e652=fileBuffer[_0x415c89(0x120,0xf2,0x145,0x11e)](_0x3064a3(0x191,0x1a6,0x199,0x18a),-0x1c60+0x348+0x124*0x16,-0x1ef6+0x154c+0x1*0x9ae);if(_0x18e652!==_0x415c89(0x10b,0x92,0xeb,0xc6))throw new Error(_0x415c89(0xc7,0x13e,0x103,0x146));}if(_0x349cb6===_0x415c89(0x124,0x11d,0x130,0x13c)){if(_0x415c89(0x13b,0xed,0xef,0x141)===_0x3064a3(0x1c4,0x1f6,0x1d7,0x19a)){const _0x22533a=fileBuffer[_0x415c89(0x101,0x189,0x145,0x12a)](_0x415c89(0xf2,0x98,0xbc,0xa4),-0x637+-0x26ad*-0x1+-0x2076,0x1f47+0x324+0x2267*-0x1);if(_0x22533a!==_0x415c89(0xb9,0x87,0xe3,0x11c))throw new Error(_0x3064a3(0x226,0x243,0x272,0x22c));}else _0x325a07[_0x415c89(0x108,0x162,0x128,0xea)]&&_0x53b242['existsSync'](_0x5b3d59[_0x415c89(0x11b,0x11b,0x128,0x125)][_0x3064a3(0x224,0x245,0x201,0x1d6)])&&_0x28d10e['unlinkSync'](_0x4aa92d['file'][_0x415c89(0x14e,0x1a7,0x14f,0x151)]),_0xfa6a2f(_0x319fad);}}catch(_0x53cd4d){return fs[_0x415c89(0xe1,0xfb,0xcd,0xa1)](_0x32c88c['file'][_0x3064a3(0x224,0x225,0x26d,0x231)])&&fs[_0x3064a3(0x1b2,0x1f6,0x208,0x1b8)](_0x32c88c[_0x415c89(0x12c,0x106,0x128,0x17e)][_0x415c89(0x104,0x194,0x14f,0x189)]),_0x4c527f[_0x415c89(0x106,0x106,0x159,0x1ae)](-0x265*-0x4+-0x1509+-0xb*-0x12f)[_0x3064a3(0x195,0x169,0x169,0x1e0)]({'success':![],'message':'字体文件验证失败：'+_0x53cd4d['message']});}const _0x2ef88c=config[_0x415c89(0xe0,0x145,0x104,0x157)](_0x32c88c[_0x415c89(0x100,0xf8,0x128,0x150)][_0x415c89(0x11e,0xea,0x12f,0x154)],_0x32c88c),_0x3fb3aa=_0x32c88c['file'][_0x415c89(0xb4,0x11b,0xe9,0xb0)],[_0x2027a2,_0x14e967]=await Setting[_0x415c89(0xc4,0xbd,0x108,0x161)]({'where':{'key':_0x3064a3(0x1cd,0x1f7,0x1fc,0x194)},'defaults':{'key':_0x415c89(0xcd,0xbe,0xf8,0xeb),'value':_0x2ef88c,'type':'string','description':_0x3064a3(0x1d6,0x17c,0x232,0x223)}});if(!_0x14e967){const _0x5244af=_0x2027a2[_0x3064a3(0x1f9,0x19e,0x1dd,0x19b)];if(_0x5244af){if('JHwix'===_0x415c89(0x145,0xdd,0x122,0xe3))_0xa5cbfd[_0x3064a3(0x1b2,0x1bb,0x1b8,0x158)](_0x19e3b1);else{const oldFilePath=config[_0x415c89(0x151,0xdc,0x135,0x10d)](_0x5244af);oldFilePath&&fs[_0x415c89(0x9c,0xd1,0xcd,0x121)](oldFilePath)&&fs[_0x415c89(0xda,0xdd,0xdd,0xe1)](oldFilePath);}}await _0x2027a2[_0x3064a3(0x1ed,0x1d2,0x1e4,0x1b0)]({'value':_0x2ef88c,'type':_0x415c89(0x148,0x171,0x165,0x10f),'description':_0x3064a3(0x1d6,0x1a0,0x22c,0x1a7)});}const [_0x166114]=await Setting['findOrCreate']({'where':{'key':_0x3064a3(0x1d3,0x228,0x225,0x175)},'defaults':{'key':'customFontName','value':_0x3fb3aa,'type':_0x415c89(0x180,0x179,0x165,0x19a),'description':'自定义字体文件名'}});_0x166114&&await _0x166114[_0x3064a3(0x1ed,0x1d4,0x1f2,0x192)]({'value':_0x3fb3aa}),_0x4c527f[_0x3064a3(0x195,0x148,0x1c3,0x150)]({'success':!![],'message':_0x415c89(0xe8,0xe4,0xf2,0x137),'data':{'url':_0x2ef88c,'filename':_0x32c88c['file'][_0x415c89(0x130,0x135,0x12f,0xf3)],'originalName':_0x3fb3aa,'size':_0x32c88c[_0x3064a3(0x1fd,0x1a1,0x1be,0x1e3)][_0x415c89(0x187,0x145,0x169,0x176)]}});}catch(_0x444715){_0x32c88c[_0x415c89(0x16b,0xd7,0x128,0x14d)]&&fs['existsSync'](_0x32c88c[_0x415c89(0xfe,0x186,0x128,0x175)]['path'])&&fs['unlinkSync'](_0x32c88c[_0x3064a3(0x1fd,0x1e0,0x1df,0x226)][_0x3064a3(0x224,0x223,0x1cd,0x281)]),_0x3678e7(_0x444715);}},exports[_0x_0x14e05a(0x4c8,0x4b8,0x500,0x505)]=async(_0x1f26a5,_0x23de7f,_0x17c368)=>{function _0x571e2a(_0x110a05,_0x22227f,_0x545105,_0x5f53c9){return _0x_0x14e05a(_0x110a05-0x7c,_0x5f53c9,_0x545105-0x169,_0x22227f- -0x9d);}function _0x49cb73(_0x120521,_0x28925d,_0x5d7371,_0x2cd7d9){return _0x_0x43b721(_0x120521-0xc8,_0x5d7371,_0x2cd7d9-0x3e9,_0x2cd7d9-0x3f);}try{const _0x4bda45=await Setting['findOne']({'where':{'key':_0x49cb73(0x567,0x53f,0x585,0x57b)}});if(!_0x4bda45)return _0x23de7f[_0x571e2a(0x45a,0x44c,0x46e,0x471)](0x10b2+0x1025*0x2+0x148*-0x25)[_0x571e2a(0x3ae,0x3b3,0x3d6,0x3f1)]({'success':![],'message':_0x571e2a(0x3af,0x3bb,0x3c1,0x3f6)});if(_0x4bda45['value']){if('UVwWm'!==_0x571e2a(0x41e,0x451,0x41f,0x484))_0x1013fd(_0x31cdd5);else{const _0x1838d1=config[_0x571e2a(0x438,0x428,0x45b,0x438)](_0x4bda45['value']);_0x1838d1&&fs[_0x571e2a(0x3b7,0x3c0,0x3e4,0x369)](_0x1838d1)&&fs[_0x571e2a(0x3ff,0x3d0,0x3ea,0x428)](_0x1838d1);}}await _0x4bda45[_0x49cb73(0x54e,0x5ef,0x545,0x59b)]({'value':''});const _0x57e567=await Setting['findOne']({'where':{'key':_0x49cb73(0x534,0x59e,0x537,0x581)}});_0x57e567&&await _0x57e567[_0x49cb73(0x59b,0x5d2,0x551,0x59b)]({'value':''}),_0x23de7f[_0x571e2a(0x3e3,0x3b3,0x400,0x356)]({'success':!![],'message':_0x49cb73(0x595,0x5e9,0x539,0x58c)});}catch(_0x516d8d){if(_0x49cb73(0x599,0x642,0x63f,0x5ee)===_0x571e2a(0x382,0x3c9,0x3f3,0x420))return _0x54c53e[_0x571e2a(0x491,0x438,0x463,0x439)]()[_0x571e2a(0x4aa,0x452,0x442,0x457)](_0x571e2a(0x3c7,0x3dd,0x3f8,0x42d))[_0x49cb73(0x5e9,0x578,0x603,0x5c8)]()[_0x571e2a(0x3d4,0x3db,0x3a1,0x3f4)](_0x3eb455)[_0x49cb73(0x63f,0x625,0x587,0x5e2)](_0x571e2a(0x417,0x3dd,0x39d,0x3f1));else _0x17c368(_0x516d8d);}};function _0x_0x14e05a(_0x1d08eb,_0x124245,_0x2e05bd,_0x1e25aa){return _0x_0x6f5d(_0x1e25aa-0x2de,_0x124245);}exports[_0x_0x14e05a(0x49d,0x4b3,0x46f,0x48a)]=async(_0x3cba61,_0x4c9c48,_0x12fe12)=>{function _0x2ce50c(_0x3ce72e,_0xd1550,_0x1be8bd,_0x64f56){return _0x_0x43b721(_0x3ce72e-0x9a,_0x3ce72e,_0x64f56-0x28b,_0x64f56-0x74);}function _0x596ea9(_0x3c6e5f,_0x3fa5ce,_0x1ca07c,_0x925e9e){return _0x_0x43b721(_0x3c6e5f-0x74,_0x3c6e5f,_0x3fa5ce-0x1ba,_0x925e9e-0x60);}try{if(_0x596ea9(0x3c0,0x396,0x36e,0x341)!==_0x2ce50c(0x43a,0x44d,0x46b,0x46b)){const {url:_0x3163e5}=_0x3cba61[_0x596ea9(0x375,0x39f,0x35b,0x388)];if(!_0x3163e5)return _0x4c9c48[_0x596ea9(0x3e6,0x3ad,0x3d6,0x368)](0x1ba3+-0x1*-0x266c+-0x407f)[_0x596ea9(0x34c,0x314,0x364,0x343)]({'success':![],'message':_0x596ea9(0x352,0x3ac,0x369,0x394)});const _0x25affe=config[_0x2ce50c(0x409,0x448,0x456,0x45a)](_0x3163e5);_0x25affe&&fs[_0x596ea9(0x347,0x321,0x301,0x35d)](_0x25affe)&&fs[_0x596ea9(0x37f,0x331,0x372,0x363)](_0x25affe),_0x4c9c48[_0x596ea9(0x2c3,0x314,0x342,0x311)]({'success':!![],'message':_0x596ea9(0x334,0x374,0x3b0,0x3d0)});}else return _0x7dc7f7[_0x2ce50c(0x3e6,0x439,0x411,0x402)](_0x59168a['file'][_0x2ce50c(0x47e,0x4bc,0x48d,0x474)]),_0x18e446[_0x596ea9(0x39e,0x3ad,0x401,0x408)](0x250c+0x1667+-0x39e3)[_0x2ce50c(0x3d4,0x436,0x38e,0x3e5)]({'success':![],'message':_0x596ea9(0x398,0x35e,0x3b6,0x31a)});}catch(_0xc8cc23){_0x12fe12(_0xc8cc23);}};