(function(_0x460457,_0x3b82ab){function _0x222354(_0x29c04f,_0x5d8597,_0x275163,_0x22e414){return _0x_0x26c0(_0x22e414- -0x3c4,_0x5d8597);}const _0x5e40e7=_0x460457();function _0x3ea937(_0x56d075,_0x14cbec,_0x5e44fe,_0xb779fd){return _0x_0x26c0(_0x5e44fe- -0x20,_0xb779fd);}while(!![]){try{const _0x3e7164=-parseInt(_0x222354(-0x2e5,-0x2f5,-0x2f2,-0x2fd))/(-0x31*0x47+-0x25d5+0xa49*0x5)+-parseInt(_0x3ea937(0xb7,0x94,0x9f,0x90))/(0x425+0x1f40+0x1*-0x2363)*(parseInt(_0x222354(-0x2f0,-0x2ea,-0x2fe,-0x2ef))/(-0x259e+-0x12*-0x222+-0xc3))+parseInt(_0x222354(-0x301,-0x2d4,-0x2e4,-0x2ec))/(0x984+-0x2362+0x19e2)*(-parseInt(_0x222354(-0x2fc,-0x2f7,-0x2f6,-0x2ee))/(0x6*-0x1d3+0x25f8*-0x1+0x30ef))+-parseInt(_0x222354(-0x2e1,-0x2e5,-0x2d6,-0x2e2))/(-0x146*-0x1b+0xce*-0x22+0x1c0*-0x4)+-parseInt(_0x3ea937(0xa2,0x9f,0xae,0xb7))/(0x1335+-0x1b9d+-0x1*-0x86f)+-parseInt(_0x3ea937(0xb5,0xc7,0xbb,0xd0))/(-0xd01*0x3+0x7e7+0xf92*0x2)+parseInt(_0x222354(-0x2c2,-0x2de,-0x2dc,-0x2d9))/(0x2153*0x1+-0x2*0x5e0+-0x1*0x158a);if(_0x3e7164===_0x3b82ab)break;else _0x5e40e7['push'](_0x5e40e7['shift']());}catch(_0x3603e2){_0x5e40e7['push'](_0x5e40e7['shift']());}}}(_0x_0xdb21,0x47905+0x74627+-0x2303*0x1c));const _0x_0x178ce7=(function(){let _0x77e4c6=!![];return function(_0x547bd5,_0x442643){const _0x3dd04b=_0x77e4c6?function(){function _0x103750(_0xc43912,_0x3cb2c9,_0x14d9ea,_0x304631){return _0x_0x26c0(_0xc43912-0x1b1,_0x304631);}function _0x4c683f(_0x33087a,_0x1fbb5b,_0x3c5ae2,_0x21d013){return _0x_0x26c0(_0x3c5ae2- -0xba,_0x21d013);}if(_0x4c683f(0x45,0x43,0x2e,0x30)!==_0x4c683f(0x16,0x11,0x11,0x1d)){if(_0x442643){const _0x5235cc=_0x442643['apply'](_0x547bd5,arguments);return _0x442643=null,_0x5235cc;}}else _0x4023e8(_0x221926);}:function(){};return _0x77e4c6=![],_0x3dd04b;};}()),_0x_0xb3206=_0x_0x178ce7(this,function(){function _0x557bf0(_0x43b2b6,_0x3133aa,_0x32a506,_0x4afbd3){return _0x_0x26c0(_0x43b2b6- -0x37b,_0x3133aa);}function _0x307341(_0xc7fcda,_0x14bd4c,_0x29a138,_0x3f949e){return _0x_0x26c0(_0xc7fcda- -0x191,_0x29a138);}return _0x_0xb3206[_0x557bf0(-0x2ae,-0x2b6,-0x29f,-0x2a7)]()[_0x307341(-0xad,-0xc2,-0xbd,-0xb6)](_0x307341(-0xb4,-0xb3,-0xb3,-0xae))[_0x557bf0(-0x2ae,-0x2ba,-0x2c2,-0x2b8)]()[_0x307341(-0xae,-0xbf,-0x9d,-0xb4)](_0x_0xb3206)['search'](_0x557bf0(-0x29e,-0x294,-0x28b,-0x286));});_0x_0xb3206();function _0x_0xdbeea(_0x400142,_0x49fd24,_0x586466,_0x165ec7){return _0x_0x26c0(_0x586466-0xd0,_0x400142);}function _0x_0xdb21(){const _0x1ff043=['kcGOlISPkYKRksSK','v3Lzrfe','BgLRzq','6k+35Rgc5PwW5O2U5Qc85BYp5PEG5Pwi','5l6/562+5lIn5A2y5zYO','nJe2mJqWmMnyq1bMBa','y29UC3rYDwn0B3i','C2vHCMnO','z2v0u3rPy2T5tM90zuj5swq','DxbKyxrLu29YDe9YzgvY','5O6s5BQp5PU05PAW5OIq5yQF','EhnduMG','y3jLyxrLu3rPy2T5tM90zq','se51EeG','mZy4mJe0otn5sNzHyM4','A1Hgvfi','5l6/562+5PU05PAW5OIq5yQF','BwfW','mNnRDhPxAq','C29YDf9VCMrLCG','y3jLyxrLzf9HDa','z2v0u3rPy2T5tM90zxm','zMLUzefSBa','5l6/562+5yIB5BU65OIq5yQF','AfvSB3a','CgfYyw1Z','nteYotG4z0PxBevf','AxnbCNjHEq','s1DewgC','zMLUzej5ugS','sM1kz2C','yM9KEq','Dg9tDhjPBMC','mZm1mJKXnMrlzKPHEG','yxbWBhK','y3jLyxrL','zgvSzxrLu3rPy2T5tM90zq','DxbKyxrLu3rPy2T5tM90zq','C3rHDhvZ','CxvLCNK','nZm0nJeZC0H3sefN','mtvjCgXRANC','yuXdBKK','mte4otq5nMHOuKnsvq','ANnVBG','y2f0zwDVCNK','mZmZmdK1mMLJuvfQAa','Cuj2Duy'];_0x_0xdb21=function(){return _0x1ff043;};return _0x_0xdb21();}function _0x_0x26c0(_0x2071f0,_0x20b3df){_0x2071f0=_0x2071f0-(0xde1+0xaa4+-0x17c7);const _0x849c8e=_0x_0xdb21();let _0x2e3a54=_0x849c8e[_0x2071f0];if(_0x_0x26c0['CFqISC']===undefined){var _0x1d8f2b=function(_0x582f8a){const _0x2cdd93='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5c9319='',_0x3620c2='',_0x4ea473=_0x5c9319+_0x1d8f2b;for(let _0x126828=-0x1bda+-0x752*0x1+0x8cb*0x4,_0x34325e,_0x5b01ba,_0x344138=0x1594+0x1b6a+-0x30fe*0x1;_0x5b01ba=_0x582f8a['charAt'](_0x344138++);~_0x5b01ba&&(_0x34325e=_0x126828%(0x5*0x1+0x58f*-0x7+0x26e8)?_0x34325e*(-0x31e+0x1852+-0x14f4*0x1)+_0x5b01ba:_0x5b01ba,_0x126828++%(0x11*0x227+0x17ed+-0x3c80))?_0x5c9319+=_0x4ea473['charCodeAt'](_0x344138+(0x9a8*-0x1+-0x236f+0x2d21))-(-0x2*0x105d+-0xc2*0x2c+0x421c)!==-0x261b*0x1+0xb*0xec+0x1bf7?String['fromCharCode'](0xf*-0xd5+0x9ab+0x3cf&_0x34325e>>(-(-0x5f4+-0x1078+0x6*0x3bd)*_0x126828&-0x296+-0x1091*-0x2+-0x1e86)):_0x126828:-0x13*0xc5+-0x5f7+0x1496){_0x5b01ba=_0x2cdd93['indexOf'](_0x5b01ba);}for(let _0x1dc6ba=-0x1f39*0x1+-0x59e*0x5+0x3b4f,_0x333564=_0x5c9319['length'];_0x1dc6ba<_0x333564;_0x1dc6ba++){_0x3620c2+='%'+('00'+_0x5c9319['charCodeAt'](_0x1dc6ba)['toString'](-0x3*-0x643+0x4a8*-0x5+0x1*0x48f))['slice'](-(0xf2*0x21+0x1*-0x1deb+0xd*-0x19));}return decodeURIComponent(_0x3620c2);};_0x_0x26c0['wHXjJk']=_0x1d8f2b,_0x_0x26c0['NkmsxB']={},_0x_0x26c0['CFqISC']=!![];}const _0x48d91d=_0x849c8e[-0x1014+-0x5*0x86+-0x12b2*-0x1],_0x479b98=_0x2071f0+_0x48d91d,_0x4480f0=_0x_0x26c0['NkmsxB'][_0x479b98];if(!_0x4480f0){const _0x2756bb=function(_0x26186d){this['juTfRr']=_0x26186d,this['wtltlC']=[0x247d+-0x1b34+-0x948,0x450+-0x2a1*-0xa+-0x1e9a*0x1,-0x5*0x5c1+-0x1*-0x295+0x1a30],this['pzlOeM']=function(){return'newState';},this['vfqdiP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['slWDep']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x2756bb['prototype']['Mylooi']=function(){const _0x39b01a=new RegExp(this['vfqdiP']+this['slWDep']),_0x5635b1=_0x39b01a['test'](this['pzlOeM']['toString']())?--this['wtltlC'][-0x641+-0x166+0x7a8]:--this['wtltlC'][-0x1a3a+-0x5e*-0x4+-0x1*-0x18c2];return this['BWeRGj'](_0x5635b1);},_0x2756bb['prototype']['BWeRGj']=function(_0x463094){if(!Boolean(~_0x463094))return _0x463094;return this['epDIBN'](this['juTfRr']);},_0x2756bb['prototype']['epDIBN']=function(_0x2f7c4b){for(let _0x18e1cc=-0x2115+-0x912+0x2a27,_0x48e125=this['wtltlC']['length'];_0x18e1cc<_0x48e125;_0x18e1cc++){this['wtltlC']['push'](Math['round'](Math['random']())),_0x48e125=this['wtltlC']['length'];}return _0x2f7c4b(this['wtltlC'][0x1*0x1c1e+-0x270e+0x4*0x2bc]);},new _0x2756bb(_0x_0x26c0)['Mylooi'](),_0x2e3a54=_0x_0x26c0['wHXjJk'](_0x2e3a54),_0x_0x26c0['NkmsxB'][_0x479b98]=_0x2e3a54;}else _0x2e3a54=_0x4480f0;return _0x2e3a54;}const {StickyNote}=require('../models'),{Op}=require('sequelize');exports[_0x_0x2cac1a(0x482,0x476,0x492,0x47b)]=async(_0x11774,_0x3e0a28,_0x7470e2)=>{function _0x55148d(_0x6e6ec5,_0xa26076,_0x470f20,_0x195152){return _0x_0x2cac1a(_0x6e6ec5-0xe7,_0x470f20,_0x470f20-0x2a,_0x195152- -0x212);}function _0x149a9a(_0x1864c3,_0x2099f1,_0x40a2f7,_0x1af210){return _0x_0x2cac1a(_0x1864c3-0xda,_0x40a2f7,_0x40a2f7-0x151,_0x1af210- -0x574);}try{const {category:_0x45f2ae,search:_0x42d123}=_0x11774[_0x149a9a(-0xe5,-0xf7,-0xd5,-0xe7)],_0x1ce36f={};_0x45f2ae&&(_0x1ce36f[_0x55148d(0x269,0x289,0x289,0x281)]=_0x45f2ae);_0x42d123&&('idiAt'!=='WhMzd'?_0x1ce36f[Op['or']]=[{'title':{[Op[_0x149a9a(-0xd3,-0xe6,-0xe1,-0xdc)]]:'%'+_0x42d123+'%'}},{'content':{[Op['like']]:'%'+_0x42d123+'%'}}]:_0x1dd844(_0x2868af));const _0x197ab7=await StickyNote[_0x149a9a(-0x110,-0xf2,-0xea,-0xf8)]({'where':_0x1ce36f,'order':[[_0x149a9a(-0xfa,-0xe3,-0xf5,-0xfb),'ASC'],[_0x55148d(0x253,0x276,0x280,0x268),'DESC']]});_0x3e0a28['json']({'success':!![],'data':_0x197ab7});}catch(_0x12b456){if('aLCnI'!==_0x149a9a(-0xf0,-0xe2,-0xcc,-0xe4))return _0x3efa3e[_0x149a9a(-0xf9,-0x100,-0xf0,-0xee)]()['search'](_0x55148d(0x27a,0x29b,0x299,0x284))['toString']()[_0x55148d(0x295,0x2a2,0x27a,0x28a)](_0xe219ac)[_0x149a9a(-0xe3,-0xc0,-0xe3,-0xd7)]('(((.+)+)+)+$');else _0x7470e2(_0x12b456);}},exports['getCategories']=async(_0x16859d,_0x3e493c,_0x1033be)=>{function _0x15ebf7(_0x59af38,_0x2f367b,_0x43bfa1,_0x1e87bf){return _0x_0x2cac1a(_0x59af38-0x71,_0x1e87bf,_0x43bfa1-0xeb,_0x2f367b- -0x74a);}function _0x1384d6(_0x1331cf,_0x2a0bf7,_0x5f5cc8,_0xc344d7){return _0x_0x2cac1a(_0x1331cf-0x40,_0xc344d7,_0x5f5cc8-0x27,_0x1331cf- -0x19c);}try{const _0x41ecb0=await StickyNote[_0x1384d6(0x2e0,0x2f2,0x2dd,0x2db)]({'attributes':[_0x15ebf7(-0x2bf,-0x2b7,-0x2c8,-0x2c6)],'where':{'category':{[Op['ne']]:null,[Op['ne']]:''}},'group':[_0x15ebf7(-0x2cd,-0x2b7,-0x2a1,-0x2ce)],'raw':!![]}),_0xf3742e=_0x41ecb0[_0x1384d6(0x2db,0x2f3,0x2d7,0x2c5)](_0x27bd03=>_0x27bd03[_0x1384d6(0x2f7,0x2f7,0x2e5,0x2ee)])['filter'](Boolean)['sort']();_0x3e493c[_0x15ebf7(-0x2bc,-0x2b8,-0x2a2,-0x2b8)]({'success':!![],'data':_0xf3742e});}catch(_0x5c66db){_0x1033be(_0x5c66db);}},exports[_0x_0xdbeea(0x19f,0x19f,0x1b5,0x1a6)]=async(_0x2332c8,_0x13032e,_0x26016d)=>{function _0x43f4aa(_0x58c47a,_0x581db3,_0x3ca935,_0x536b36){return _0x_0xdbeea(_0x58c47a,_0x581db3-0xe7,_0x581db3- -0x9c,_0x536b36-0x155);}function _0x3dfd8b(_0x588c94,_0xfb48ea,_0x1e8dee,_0x448f05){return _0x_0xdbeea(_0x1e8dee,_0xfb48ea-0xf5,_0xfb48ea- -0x18e,_0x448f05-0x3b);}try{if(_0x43f4aa(0x126,0x112,0x110,0x107)===_0x3dfd8b(0x27,0x20,0x38,0x8)){const {id:_0x4c6a9c}=_0x2332c8['params'],_0x3ac348=await StickyNote[_0x3dfd8b(-0x3,0xc,0x6,0x6)](_0x4c6a9c);if(!_0x3ac348)return _0x13032e['status'](0x1e*-0x67+-0x3*0x35e+0xbe*0x20)[_0x43f4aa(0x11f,0x10d,0x111,0x11f)]({'success':![],'message':_0x43f4aa(0x10c,0x115,0x111,0x115)});_0x13032e['json']({'success':!![],'data':_0x3ac348});}else _0x3291e6(_0x55c300);}catch(_0x36fb2a){_0x43f4aa(0x126,0x110,0x103,0x11b)===_0x3dfd8b(0x35,0x1e,0x32,0x6)?_0x26016d(_0x36fb2a):_0x4f9c4e(_0x107c82);}};function _0x_0x2cac1a(_0x139813,_0x4abfa4,_0x311ef0,_0xa9ce9f){return _0x_0x26c0(_0xa9ce9f-0x3b9,_0x4abfa4);}exports[_0x_0x2cac1a(0x49f,0x4ab,0x4b5,0x4a2)]=async(_0x5e9bb2,_0xedc0f5,_0x4e70b6)=>{function _0x34ad0c(_0x37ad47,_0x45e135,_0x45dbb9,_0x1a08f7){return _0x_0x2cac1a(_0x37ad47-0xe9,_0x45dbb9,_0x45dbb9-0x124,_0x1a08f7- -0x8d);}function _0x5ae70f(_0x355a48,_0x31f588,_0x172264,_0x35db2a){return _0x_0x2cac1a(_0x355a48-0x9e,_0x31f588,_0x172264-0x160,_0x172264- -0x1f5);}try{const {title:_0x1aecdb,content:_0x26a8e2,category:_0x35ae69,color:_0x3ea21e,sort_order:_0x1ed6f6}=_0x5e9bb2['body'],_0x5e9483=await StickyNote[_0x5ae70f(0x29a,0x28c,0x294,0x29f)]({'title':_0x1aecdb,'content':_0x26a8e2,'category':_0x35ae69||null,'color':_0x3ea21e||'#fef68a','sort_order':_0x1ed6f6||0x83+-0x264b+0x25c8});_0xedc0f5[_0x34ad0c(0x40e,0x3fb,0x40f,0x3ff)](0x1ab7+-0xcc6+-0xd28)[_0x5ae70f(0x2a1,0x2b3,0x29d,0x2ac)]({'success':!![],'message':_0x5ae70f(0x274,0x285,0x288,0x297),'data':_0x5e9483});}catch(_0x5b3f61){_0x4e70b6(_0x5b3f61);}},exports[_0x_0x2cac1a(0x48b,0x48b,0x480,0x48b)]=async(_0x53d24b,_0x2bcd9d,_0x26a392)=>{function _0x51176a(_0x2ca3fd,_0x574bfe,_0x268ac2,_0x1746d3){return _0x_0xdbeea(_0x268ac2,_0x574bfe-0xc9,_0x2ca3fd-0x2e9,_0x1746d3-0x158);}function _0x53f7dc(_0x26ae54,_0x2cc20c,_0x446915,_0x4f189c){return _0x_0x2cac1a(_0x26ae54-0xfb,_0x2cc20c,_0x446915-0x1a4,_0x4f189c- -0xbd);}try{if('kXFTR'===_0x53f7dc(0x3d1,0x3e4,0x3ef,0x3e8)){const {id:_0x226cc8}=_0x53d24b[_0x51176a(0x47f,0x47b,0x497,0x46c)],{title:_0x36e872,content:_0x53c2db,category:_0x874be7,color:_0x34377b,sort_order:_0x272fe4}=_0x53d24b['body'],_0x39d91c=await StickyNote[_0x53f7dc(0x3bf,0x3bd,0x3bf,0x3c6)](_0x226cc8);if(!_0x39d91c)return _0x2bcd9d[_0x51176a(0x48c,0x48a,0x494,0x49a)](0x14fc+-0x4f5+-0xe73)[_0x53f7dc(0x3c8,0x3e6,0x3c6,0x3d5)]({'success':![],'message':_0x53f7dc(0x3da,0x3d6,0x3e3,0x3dd)});await _0x39d91c['update']({'title':_0x36e872,'content':_0x53c2db,'category':_0x874be7||null,'color':_0x34377b,'sort_order':_0x272fe4}),_0x2bcd9d[_0x51176a(0x492,0x4a5,0x4a6,0x4a1)]({'success':!![],'message':_0x53f7dc(0x401,0x3e4,0x3e6,0x3e9),'data':_0x39d91c});}else{if(_0x47157a){const _0x3d3516=_0x14a659[_0x53f7dc(0x3b8,0x3e0,0x3d5,0x3cb)](_0x7beab7,arguments);return _0x6fd661=null,_0x3d3516;}}}catch(_0x23325d){_0x26a392(_0x23325d);}},exports[_0x_0x2cac1a(0x47f,0x491,0x487,0x48a)]=async(_0x164b09,_0x144d65,_0x4f72e8)=>{function _0x2af13a(_0x54ecb7,_0x401af3,_0x317416,_0x272ebb){return _0x_0xdbeea(_0x54ecb7,_0x401af3-0x4c,_0x272ebb- -0x36e,_0x272ebb-0x17b);}function _0x405555(_0x190f82,_0xca76b9,_0x56948f,_0x3ea6d1){return _0x_0xdbeea(_0x3ea6d1,_0xca76b9-0x1f1,_0x56948f- -0x1d9,_0x3ea6d1-0xca);}try{const {id:_0x374767}=_0x164b09['params'],_0x322790=await StickyNote[_0x405555(-0x3c,-0x40,-0x3f,-0x57)](_0x374767);if(!_0x322790)return _0x144d65[_0x405555(-0x39,-0x27,-0x36,-0x48)](0x822+0x2057*0x1+0x26e5*-0x1)['json']({'success':![],'message':'便签不存在'});await _0x322790['destroy'](),_0x144d65[_0x405555(-0x28,-0x32,-0x30,-0x29)]({'success':!![],'message':'便签删除成功'});}catch(_0x8ae97e){_0x4f72e8(_0x8ae97e);}},exports['updateSortOrder']=async(_0x4528dd,_0x1fab77,_0x375d2e)=>{function _0x78eb1e(_0x1fb7ff,_0x14c044,_0x3548de,_0x28b3cf){return _0x_0x2cac1a(_0x1fb7ff-0x55,_0x14c044,_0x3548de-0x4e,_0x3548de- -0x36a);}function _0x778356(_0x16f6ac,_0x124ae0,_0xb5f8ca,_0x48c970){return _0x_0xdbeea(_0x124ae0,_0x124ae0-0x1d9,_0x48c970- -0x19c,_0x48c970-0xc8);}try{if('hUlop'!==_0x778356(-0x1,-0xb,-0xb,-0x7))_0x332230(_0x32a23d);else{const {notes:_0x27cb48}=_0x4528dd[_0x778356(-0x2,-0x17,-0x12,0x0)];if(!Array[_0x778356(-0x1a,-0x1a,-0xa,-0x4)](_0x27cb48))return _0x1fab77[_0x778356(0x1e,0x15,0x5,0x7)](0x1172*0x1+0x2143+-0x17*0x223)[_0x78eb1e(0x113,0x11f,0x128,0x134)]({'success':![],'message':_0x78eb1e(0x12d,0x119,0x12f,0x127)});await Promise['all'](_0x27cb48['map'](({id:_0x14f20e,sort_order:_0x3aba4e})=>StickyNote['update']({'sort_order':_0x3aba4e},{'where':{'id':_0x14f20e}}))),_0x1fab77[_0x778356(-0x6,0x7,-0x4,0xd)]({'success':!![],'message':_0x78eb1e(0x125,0x12c,0x136,0x12f)});}}catch(_0xdf557b){if(_0x78eb1e(0x106,0x112,0x118,0x129)===_0x78eb1e(0x121,0x151,0x139,0x129))return _0x1c1109[_0x78eb1e(0x11c,0x13a,0x122,0x12b)](0x2*0xb9b+0x1*-0x202d+-0xf5*-0xb)[_0x78eb1e(0x13d,0x13b,0x128,0x131)]({'success':![],'message':_0x778356(-0x3,-0x3,0x2,0x14)});else _0x375d2e(_0xdf557b);}},exports['getAllStickyNotes']=exports[_0x_0xdbeea(0x1a0,0x199,0x192,0x185)],exports['getStickyNote']=exports['getStickyNoteById'],exports['updateOrder']=exports[_0x_0x2cac1a(0x4a1,0x49a,0x4b7,0x49f)];