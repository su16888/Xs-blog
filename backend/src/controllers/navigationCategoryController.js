function _0x_0x306a(){const _0x3eed4f=['y3jLyxrLq2f0zwDVCNK','ANnVBG','C29YDf9VCMrLCG','AwnVBG','DxbKyxrLq2f0zwDVCNK','zMLUzej5ugS','zMLUze9Uzq','tw5QsxG','ntq3mdy2ofzLsNjstq','qvnd','C3rHDhvZ','BgLUAW','CgfYyw1Z','mZq2nJGXnMPoy2ToBG','mtmYndq5mwr2u0LQDG','zgvZy3jPChrPB24','s29zBue','zgvSzxrLq2f0zwDVCNK','nJKXmtaZnwjbAerNua','nJuWndaXmMDvsfLJBa','z2v0qwXSq2f0zwDVCMLLCW','5yIg57g75zcn56EW5lIn6io95lI656M6','ndy3ndiYvMrYzfzi','mKvtB2HptW','5yIg57g75lIn5A2y5zYO','kcGOlISPkYKRksSK','Dg9tDhjPBMC','A25LDM0','mJr2C0DPy1y','5yIg57g75yIG6zMK5OIq5yQF','y3jLyxrLzf9HDa','zMLUzefSBa','y3jLyxrL','5yIg57g75zcn56EW5BEY5A2y5zYO','mte3mJG2ndbmBevWDKW','B1HHCgq','C2L0zxm','yxbWBhK','revtqW','vLvWALi','A0XcBgi','y29UC3rYDwn0B3i','BMfTzq','C2vHCMnO','yM9KEq','ugDgExK'];_0x_0x306a=function(){return _0x3eed4f;};return _0x_0x306a();}(function(_0x341218,_0x1194fe){function _0x224a1b(_0x219a0a,_0x4dafd8,_0x28c92f,_0x286751){return _0x_0x135d(_0x4dafd8-0x30b,_0x28c92f);}function _0x1d4478(_0x3c5cbb,_0xa17626,_0x572fd3,_0x59c932){return _0x_0x135d(_0xa17626- -0x98,_0x3c5cbb);}const _0x1a6ff6=_0x341218();while(!![]){try{const _0x356c4f=parseInt(_0x1d4478(0x76,0x70,0x72,0x65))/(-0x215a+-0xe*0x67+-0x9*-0x455)*(-parseInt(_0x1d4478(0x78,0x71,0x62,0x6a))/(-0x62e*0x1+-0x1d*-0x151+0x1af*-0x13))+-parseInt(_0x224a1b(0x40e,0x40b,0x40e,0x40a))/(-0xa*-0xb5+-0x1a92+0x1383)+parseInt(_0x1d4478(0x6c,0x67,0x5a,0x64))/(0x9*-0x45+-0x10b4+0x1325)+parseInt(_0x1d4478(0x5d,0x6c,0x6a,0x7f))/(-0x216d*0x1+-0x1f58+-0x2065*-0x2)+-parseInt(_0x224a1b(0x409,0x405,0x3f8,0x419))/(-0x1a55+-0x1*0x175a+-0x1fd*-0x19)+-parseInt(_0x224a1b(0x42e,0x41f,0x42f,0x41c))/(-0x10*0x62+0x1543+0x78e*-0x2)+-parseInt(_0x1d4478(0x64,0x76,0x79,0x75))/(0x8*-0x175+-0x1113+0x1cc3)*(-parseInt(_0x224a1b(0x41e,0x410,0x40c,0x420))/(-0x79c+0x14aa+-0xd05));if(_0x356c4f===_0x1194fe)break;else _0x1a6ff6['push'](_0x1a6ff6['shift']());}catch(_0x17bfa7){_0x1a6ff6['push'](_0x1a6ff6['shift']());}}}(_0x_0x306a,0xd43fe+-0x134ae7+0x141363));function _0x_0x5c06a6(_0x2df3c1,_0x4ccfe8,_0x4cc595,_0xb9d41c){return _0x_0x135d(_0xb9d41c- -0x31d,_0x4ccfe8);}const _0x_0x5b2bba=(function(){let _0x166d2c=!![];return function(_0x22fa66,_0x2130d6){const _0x2e6c90=_0x166d2c?function(){function _0x1b8303(_0x21cb7b,_0x1c01ef,_0x3bb661,_0x5ae755){return _0x_0x135d(_0x21cb7b- -0x397,_0x5ae755);}function _0x3cd0a8(_0x3e0009,_0x4b7b3e,_0x45c01f,_0x176ee6){return _0x_0x135d(_0x176ee6- -0x21e,_0x4b7b3e);}if(_0x1b8303(-0x27e,-0x28c,-0x294,-0x273)!==_0x1b8303(-0x27e,-0x281,-0x289,-0x26a))return _0x52c1b8['status'](0x6*0x259+-0x212c+-0x73*-0x2e)['json']({'success':![],'message':_0x1b8303(-0x28d,-0x286,-0x296,-0x28f)});else{if(_0x2130d6){if(_0x3cd0a8(-0x10e,-0x12e,-0x134,-0x125)===_0x1b8303(-0x29e,-0x294,-0x288,-0x298)){const _0x116f11=_0x2130d6[_0x1b8303(-0x280,-0x290,-0x27d,-0x297)](_0x22fa66,arguments);return _0x2130d6=null,_0x116f11;}else _0x47aee3(_0x42712f);}}}:function(){};return _0x166d2c=![],_0x2e6c90;};}()),_0x_0x27691d=_0x_0x5b2bba(this,function(){function _0x30d966(_0x18e249,_0x18eb30,_0x2c1d53,_0x286d67){return _0x_0x135d(_0x286d67-0x371,_0x18e249);}function _0x24454e(_0x231c82,_0x3aaa88,_0x29521d,_0x572279){return _0x_0x135d(_0x29521d-0x35,_0x572279);}return _0x_0x27691d[_0x30d966(0x475,0x489,0x46d,0x47d)]()[_0x24454e(0x14d,0x146,0x152,0x15c)](_0x30d966(0x487,0x490,0x475,0x47c))['toString']()[_0x24454e(0x14e,0x149,0x150,0x15f)](_0x_0x27691d)['search'](_0x24454e(0x157,0x153,0x140,0x151));});function _0x_0x135d(_0x3b5e7f,_0x8b560a){const _0x1789d0=_0x_0x306a();return _0x_0x135d=function(_0x5a6d88,_0x1fb171){_0x5a6d88=_0x5a6d88-(-0x145c+0x1ec4+0x1*-0x970);let _0x139bb4=_0x1789d0[_0x5a6d88];if(_0x_0x135d['sjXpvQ']===undefined){var _0x44e317=function(_0x5b44bf){const _0x4732b4='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xe4735f='',_0x450ff6='',_0x5b4fdf=_0xe4735f+_0x44e317;for(let _0x3ed60c=-0x1*0x2615+0xd*-0xbf+0x458*0xb,_0x42ab7f,_0x19caef,_0x5c7933=-0x19*-0xdf+-0xb29*-0x3+0x2*-0x1ba1;_0x19caef=_0x5b44bf['charAt'](_0x5c7933++);~_0x19caef&&(_0x42ab7f=_0x3ed60c%(0x1734+-0xd85+-0x113*0x9)?_0x42ab7f*(-0x10e2*-0x1+0x3f0+-0x1492*0x1)+_0x19caef:_0x19caef,_0x3ed60c++%(0x2045+0x126a+-0x32ab))?_0xe4735f+=_0x5b4fdf['charCodeAt'](_0x5c7933+(0x1*-0x8d9+-0xa01+0x972*0x2))-(-0x1afe*0x1+-0x76d+0x2275)!==0x205b+-0x7f9+-0x1862?String['fromCharCode'](-0xa*0x2b7+0x1f63+-0x5*0xa6&_0x42ab7f>>(-(0x6d3+0x58+-0x729)*_0x3ed60c&0x837*-0x1+-0x742*0x2+0xe9*0x19)):_0x3ed60c:-0x1982+0xd*-0x125+-0x5c5*-0x7){_0x19caef=_0x4732b4['indexOf'](_0x19caef);}for(let _0x17d0c7=0x264b+0x1d3+0xa*-0x403,_0x301765=_0xe4735f['length'];_0x17d0c7<_0x301765;_0x17d0c7++){_0x450ff6+='%'+('00'+_0xe4735f['charCodeAt'](_0x17d0c7)['toString'](0x13a9+0x232*0x7+0x1*-0x22f7))['slice'](-(-0x1*0x1373+-0x1976+-0x3*-0xef9));}return decodeURIComponent(_0x450ff6);};_0x_0x135d['NHKmyy']=_0x44e317,_0x3b5e7f=arguments,_0x_0x135d['sjXpvQ']=!![];}const _0x32dd31=_0x1789d0[-0x3*-0x269+0x1fc4+0x1*-0x26ff],_0x15e63d=_0x5a6d88+_0x32dd31,_0x2e6239=_0x3b5e7f[_0x15e63d];if(!_0x2e6239){const _0x549a01=function(_0x4ce16f){this['NolIRN']=_0x4ce16f,this['hzRMeZ']=[0xf4c+-0x1*0xdf3+-0x158,-0x13ed+-0x679+0x1a66,-0x1255+-0x1fc5+-0x247*-0x16],this['XYmgCs']=function(){return'newState';},this['woZVcC']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['kRYIZo']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x549a01['prototype']['cNjeYD']=function(){const _0x4675d1=new RegExp(this['woZVcC']+this['kRYIZo']),_0x3fdcf8=_0x4675d1['test'](this['XYmgCs']['toString']())?--this['hzRMeZ'][0x7c8+-0x2d7*0x1+-0x4f0]:--this['hzRMeZ'][-0xbc5+-0x21ba*-0x1+-0x15f5];return this['OLtHuy'](_0x3fdcf8);},_0x549a01['prototype']['OLtHuy']=function(_0x53ac46){if(!Boolean(~_0x53ac46))return _0x53ac46;return this['TcnTGp'](this['NolIRN']);},_0x549a01['prototype']['TcnTGp']=function(_0x5762ba){for(let _0x40e209=-0x3*0xb1d+0x1ec1*0x1+0x296,_0x7340b5=this['hzRMeZ']['length'];_0x40e209<_0x7340b5;_0x40e209++){this['hzRMeZ']['push'](Math['round'](Math['random']())),_0x7340b5=this['hzRMeZ']['length'];}return _0x5762ba(this['hzRMeZ'][0x59f+-0x1df9+0x185a]);},new _0x549a01(_0x_0x135d)['cNjeYD'](),_0x139bb4=_0x_0x135d['NHKmyy'](_0x139bb4),_0x3b5e7f[_0x15e63d]=_0x139bb4;}else _0x139bb4=_0x2e6239;return _0x139bb4;},_0x_0x135d(_0x3b5e7f,_0x8b560a);}_0x_0x27691d();const NavigationCategory=require('../models/NavigationCategory'),Site=require('../models/Site');exports[_0x_0x5c06a6(-0x208,-0x224,-0x200,-0x217)]=async(_0x508ecf,_0x4d2c64,_0x1d755c)=>{function _0xfa0c2b(_0x2364b7,_0x2980e6,_0x44ec2f,_0x29519a){return _0x_0x5c06a6(_0x2364b7-0x1ec,_0x44ec2f,_0x44ec2f-0x39,_0x29519a-0x5f5);}function _0x58fe48(_0x29d607,_0x39b828,_0x2a0441,_0x14bdbc){return _0x_0x5c06a6(_0x29d607-0x6b,_0x29d607,_0x2a0441-0x17b,_0x14bdbc- -0x1);}try{const _0x4ccc8e=await NavigationCategory[_0xfa0c2b(0x3f3,0x3fc,0x3d8,0x3e9)]({'where':{'is_visible':!![]},'order':[[_0xfa0c2b(0x40b,0x409,0x3ea,0x3fa),_0x58fe48(-0x221,-0x232,-0x22f,-0x223)],[_0x58fe48(-0x208,-0x21c,-0x20b,-0x20e),_0x58fe48(-0x204,-0x21c,-0x1ef,-0x206)]],'include':[{'model':Site,'as':_0x58fe48(-0x215,-0x1fb,-0x1f9,-0x208),'attributes':['id','name'],'required':![]}]});_0x4d2c64['json']({'success':!![],'data':_0x4ccc8e});}catch(_0x2f3d5a){_0x1d755c(_0x2f3d5a);}},exports['getCategory']=async(_0x19a650,_0x22ad4e,_0x4482c8)=>{function _0x1ae893(_0x1ee31d,_0x52f5ca,_0x1247f4,_0x2855c2){return _0x_0x5c06a6(_0x1ee31d-0x95,_0x52f5ca,_0x1247f4-0xea,_0x1ee31d-0x99);}function _0x2362e4(_0x107616,_0x340899,_0x32f58c,_0xc59586){return _0x_0x5c06a6(_0x107616-0x85,_0xc59586,_0x32f58c-0x1d8,_0x107616-0x64);}try{const {id:_0x355476}=_0x19a650[_0x1ae893(-0x186,-0x17e,-0x18e,-0x17e)],_0xec379c=await NavigationCategory[_0x2362e4(-0x194,-0x18a,-0x17d,-0x1a2)](_0x355476,{'include':[{'model':Site,'as':'sites','attributes':['id','name',_0x1ae893(-0x187,-0x19a,-0x171,-0x170),_0x1ae893(-0x183,-0x16c,-0x19a,-0x194),'logo'],'required':![]}]});if(!_0xec379c)return _0x2362e4(-0x1ac,-0x1ac,-0x1b3,-0x197)!==_0x2362e4(-0x19a,-0x19b,-0x1a2,-0x1a8)?_0x22ad4e[_0x2362e4(-0x1bd,-0x1cf,-0x1c8,-0x1a6)](-0x1a9f+-0x1*0x1aad+-0x36e*-0x10)[_0x2362e4(-0x198,-0x1a9,-0x1a1,-0x18e)]({'success':![],'message':_0x1ae893(-0x17a,-0x18b,-0x171,-0x173)}):_0x5ebb4[_0x2362e4(-0x1bd,-0x1bf,-0x1ce,-0x1d4)](0x189*0x11+-0x12c2*0x1+0x1*-0x5c3)[_0x2362e4(-0x198,-0x19e,-0x1a6,-0x197)]({'success':![],'message':_0x1ae893(-0x17a,-0x165,-0x177,-0x188)});_0x22ad4e[_0x2362e4(-0x198,-0x19b,-0x18a,-0x1a6)]({'success':!![],'data':_0xec379c});}catch(_0x2e92c9){if(_0x1ae893(-0x16f,-0x159,-0x15c,-0x166)!==_0x2362e4(-0x1a4,-0x1a0,-0x1b8,-0x196)){const _0x5bc4d1=_0x3c3852[_0x1ae893(-0x16d,-0x16f,-0x180,-0x163)](_0x24eb1e,arguments);return _0x22a65d=null,_0x5bc4d1;}else _0x4482c8(_0x2e92c9);}},exports[_0x_0x574d8c(-0x2c2,-0x2ab,-0x2bf,-0x2d9)]=async(_0x1245c2,_0x35a673,_0x580122)=>{function _0x5377a9(_0xdcb782,_0x1d3035,_0x234679,_0x4b7573){return _0x_0x574d8c(_0xdcb782-0x267,_0x1d3035-0x103,_0x234679-0x28,_0x234679);}function _0x341ed7(_0x35ddff,_0x444991,_0x1bb24a,_0x2fabc0){return _0x_0x5c06a6(_0x35ddff-0x10d,_0x1bb24a,_0x1bb24a-0x11a,_0x35ddff-0x51a);}try{const {name:_0x58e5d3,description:_0x376de5,icon:_0x44bc72,sort_order:_0x5d4d1a,is_visible:_0x4b5b7c}=_0x1245c2[_0x341ed7(0x31b,0x313,0x330,0x30a)];if(!_0x58e5d3)return _0x35a673[_0x341ed7(0x2f9,0x2f9,0x2f5,0x2fb)](0x9ec*-0x2+-0x1*0x1352+0x28ba)[_0x5377a9(-0x5a,-0x6d,-0x6d,-0x5a)]({'success':![],'message':_0x5377a9(-0x74,-0x7d,-0x77,-0x66)});const _0x296f3e=await NavigationCategory[_0x5377a9(-0x83,-0x7d,-0x78,-0x75)]({'where':{'name':_0x58e5d3}});if(_0x296f3e)return _0x35a673[_0x341ed7(0x2f9,0x30f,0x2ea,0x300)](-0x1a69*0x1+-0x4fb*-0x3+0xc*0x116)['json']({'success':![],'message':_0x5377a9(-0x68,-0x77,-0x78,-0x54)});const _0x248745=await NavigationCategory[_0x341ed7(0x30f,0x2fc,0x319,0x31e)]({'name':_0x58e5d3,'description':_0x376de5,'icon':_0x44bc72,'sort_order':_0x5d4d1a!==undefined?_0x5d4d1a:0x28*-0xa+-0x579+0x1*0x709,'is_visible':_0x4b5b7c!==undefined?_0x4b5b7c:!![]});_0x35a673[_0x341ed7(0x2f9,0x2f6,0x2e5,0x30c)](-0x1*-0x24f8+0x7f1+-0x2c20)['json']({'success':!![],'message':'分类创建成功','data':_0x248745});}catch(_0x2685fb){_0x580122(_0x2685fb);}},exports[_0x_0x574d8c(-0x2be,-0x2cc,-0x2ab,-0x2af)]=async(_0x24fa3f,_0x2dccc8,_0x14a8ad)=>{function _0x1b44a6(_0x41f3b5,_0x297de3,_0x1e8440,_0x42a3fa){return _0x_0x574d8c(_0x1e8440-0x244,_0x297de3-0x3c,_0x1e8440-0x189,_0x42a3fa);}function _0x483fdb(_0x5c1da0,_0x421bc3,_0x3fff11,_0x2111c8){return _0x_0x574d8c(_0x5c1da0-0x26c,_0x421bc3-0x72,_0x3fff11-0x34,_0x2111c8);}try{const {id:_0x1ddd93}=_0x24fa3f[_0x1b44a6(-0xa3,-0xa1,-0xa0,-0x95)],{name:_0x642bcb,description:_0x197537,icon:_0x5745be,sort_order:_0x2aee1b,is_visible:_0x5e17f1}=_0x24fa3f[_0x1b44a6(-0x6c,-0x8f,-0x80,-0x73)],_0x1b569d=await NavigationCategory[_0x483fdb(-0x51,-0x46,-0x4e,-0x4c)](_0x1ddd93);if(!_0x1b569d)return _0x2dccc8[_0x483fdb(-0x7a,-0x6a,-0x6d,-0x67)](-0x4f*0x3d+-0x7*0x35b+0x2be4)[_0x483fdb(-0x55,-0x55,-0x5e,-0x4c)]({'success':![],'message':_0x1b44a6(-0xab,-0xaa,-0x94,-0xaa)});if(_0x642bcb&&_0x642bcb!==_0x1b569d['name']){const _0x5c21c6=await NavigationCategory[_0x1b44a6(-0x99,-0xb6,-0xa6,-0xaa)]({'where':{'name':_0x642bcb}});if(_0x5c21c6)return'GemXr'!==_0x1b44a6(-0x92,-0x6f,-0x84,-0x89)?_0x2dccc8['status'](-0x3*-0x2c7+0x1551+0xe0b*-0x2)[_0x1b44a6(-0x88,-0x69,-0x7d,-0x6e)]({'success':![],'message':_0x1b44a6(-0x7b,-0x74,-0x8b,-0x94)}):_0x2c9fbb[_0x483fdb(-0x6a,-0x76,-0x64,-0x76)]()[_0x483fdb(-0x59,-0x4b,-0x66,-0x52)](_0x483fdb(-0x6b,-0x64,-0x58,-0x81))[_0x1b44a6(-0x98,-0x7f,-0x92,-0x97)]()['constructor'](_0x26c305)['search']('(((.+)+)+)+$');}await _0x1b569d['update']({'name':_0x642bcb!==undefined?_0x642bcb:_0x1b569d[_0x483fdb(-0x5a,-0x49,-0x5e,-0x4c)],'description':_0x197537!==undefined?_0x197537:_0x1b569d[_0x1b44a6(-0x99,-0x8b,-0x9d,-0x91)],'icon':_0x5745be!==undefined?_0x5745be:_0x1b569d[_0x483fdb(-0x53,-0x4c,-0x41,-0x3c)],'sort_order':_0x2aee1b!==undefined?_0x2aee1b:_0x1b569d[_0x483fdb(-0x54,-0x3f,-0x4f,-0x45)],'is_visible':_0x5e17f1!==undefined?_0x5e17f1:_0x1b569d['is_visible']}),_0x2dccc8[_0x1b44a6(-0x69,-0x90,-0x7d,-0x8e)]({'success':!![],'message':'分类更新成功','data':_0x1b569d});}catch(_0x2670d0){if(_0x1b44a6(-0x9c,-0x9e,-0x9c,-0xa0)===_0x483fdb(-0x74,-0x73,-0x61,-0x62))_0x14a8ad(_0x2670d0);else return _0x108eb5[_0x483fdb(-0x7a,-0x75,-0x6f,-0x72)](-0x2092+0x55e+-0xe*-0x20e)['json']({'success':![],'message':_0x1b44a6(-0x84,-0x94,-0x8b,-0x76)});}};function _0x_0x574d8c(_0x2449ab,_0x3634a8,_0x4f00ac,_0x4de3de){return _0x_0x135d(_0x2449ab- -0x3e2,_0x4de3de);}exports[_0x_0x5c06a6(-0x231,-0x209,-0x21d,-0x21a)]=async(_0x5bcd59,_0x247eb4,_0x189bb7)=>{function _0x40135e(_0x45551a,_0x56b4d9,_0x85e0fa,_0x562f5b){return _0x_0x5c06a6(_0x45551a-0xef,_0x56b4d9,_0x85e0fa-0x108,_0x85e0fa-0x481);}function _0x3e0270(_0x4fca24,_0x214814,_0x1a3db9,_0x2e3e3b){return _0x_0x574d8c(_0x4fca24-0x202,_0x214814-0x1c3,_0x1a3db9-0xb2,_0x214814);}try{const {id:_0x369d81}=_0x5bcd59[_0x40135e(0x252,0x261,0x262,0x26c)],_0xbcd36d=await NavigationCategory['findByPk'](_0x369d81);if(!_0xbcd36d)return _0x247eb4[_0x3e0270(-0xe4,-0xcd,-0xce,-0xe4)](0x252f+0x2046+-0x1*0x43e1)['json']({'success':![],'message':'分类不存在'});const _0x98dfe=await Site['count']({'where':{'category_id':_0x369d81}});if(_0x98dfe>0x4*-0x291+-0x494*0x8+0x2ee4)return _0x247eb4[_0x40135e(0x251,0x255,0x260,0x268)](0x512*0x2+-0xa*-0x139+-0x14ce)[_0x3e0270(-0xbf,-0xba,-0xd4,-0xc4)]({'success':![],'message':'无法删除该分类，还有\x20'+_0x98dfe+'\x20个站点正在使用此分类'});await _0xbcd36d['destroy'](),_0x247eb4['json']({'success':!![],'message':_0x3e0270(-0xd1,-0xd8,-0xdd,-0xdb)});}catch(_0xa17ac3){_0x189bb7(_0xa17ac3);}};